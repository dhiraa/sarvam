<!DOCTYPE html><html lang="en">
<head>
<meta charset="utf-8">
<meta name="format-detection" content="telephone=no">
<title>Recitation 9: Rolling Hashes, Amortized Analysis | Recitation Videos | Introduction to Algorithms | Electrical Engineering and Computer Science | MIT OpenCourseWare</title>
<!-- Begin Automatic Metadata Insertion --><meta content="6-006-introduction-to-algorithms-fall-2011" name="WT.cg_n">
<meta content="Recitation 9: Rolling Hashes, Amortized Analysis" name="WT.cg_s">
<meta content="This recitation mostly covers rolling hashes, with a short discussion of amortized analysis at the end." name="Description">
<meta content="Demaine, Erik" name="Author">
<meta content="Devadas, Srinivas" name="Author">
<meta content="6.006,rolling hash,amortized analysis,pre-hashing,good hash function,bad hash function,Algorithms and Data Structures" name="keywords">
<meta content="6.006 Introduction to Algorithms | Recitation 9: Rolling Hashes, Amortized Analysis" name="Search_Display">
<meta content="Algorithms and Data Structures" itemprop="about">
<!-- End Automatic Metadata Insertion --><link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/grid.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/base.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/menu.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.bubblepopup.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses_new.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.jscrollpane.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/media_tabs.css">
<link href="https://ocw.mit.edu/xml/ocwcc.rdf" type="application/rdf+xml" rel="metadata">
<link rel="canonical" href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/">
<link rel="apple-touch-icon" href="../../../common/images/apple-touch-icon.png">
<script type="text/javascript" src="../../../common/scripts/jquery.js"></script><script type="text/javascript" src="../../../common/scripts/ocw-media-utils-offline.js"></script><script type="text/javascript" src="../../../common/scripts/ocw-offline.js"></script><script type="text/javascript" src="../../../common/scripts/jquery.bubblepopup.min.js"></script><script type="text/javascript" src="../../../common/scripts/jquery-ui.min.js"></script><script type="text/javascript" src="../../../common/scripts/jquery.jscrollpane.min.js"></script><script type="text/javascript" src="../../../common/scripts/expandy.js"></script><script type="text/javascript" src="../../../common/scripts/bubble-popup-offline.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $("#tabs").tabs();
        IpadScroller();
      });
    </script>
</head>
<body itemscope itemtype="http://schema.org/WebPage">
        
	

        <header id="top"><div id="grid">
				
				
					
<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572">
<div class="portletStaticText portlet-static-site-header">
<!--googleoff: index-->
<div class="grid_6 alpha" id="banner"><a href="https://ocw.mit.edu/"><img src="../../../common/images/ocw_mast.png" class="logo" alt="MIT OpenCourseWare, Massachusetts Institute of Technology"></a></div>
<div class="grid_6 omega" id="subscribe">
<aside class="module" aria-label="Connect with OCW"><table class="social"><tbody><tr>
<td class="socialbutton"><a aria-label="Subscribe to the OCW Newsletter" href="https://ocw.mit.edu/subscribe/index.htm?utm_source=header"><img src="../../../common/images/trans.gif" alt="An icon depicting an envelope.">Subscribe to the OCW Newsletter</a></td>
            <td>
<a aria-label="Facebook" href="https://facebook.com/mitocw"><img src="../../../common/images/icon_fb.png" alt="Click to visit our Facebook page."></a>   <a aria-label="Twitter" href="https://twitter.com/mitocw"><img src="https://ocw.mit.edu/images/icon_twitter.png" alt="Click to visit our Twitter feed."></a>   <a aria-label="YouTube" href="https://www.youtube.com/mitocw"><img src="https://ocw.mit.edu/images/icon_yt.png" alt="Click to visit our YouTube page."></a>   <a aria-label="Open Matters blog on WordPress" href="https://mitopencourseware.wordpress.com/"><img src="https://ocw.mit.edu/images/icon_wp.png" alt="Click to visit our blog on WordPress."></a>
</td>
        </tr></tbody></table></aside><nav aria-label="Help Links" class="helplinks"><a aria-label="OCW Site Help" href="https://ocw.mit.edu/help">Help</a><span aria-hidden="true">|</span>     <a href="../../../common/jsp/feedback.htm">Contact Us</a>   </nav>
</div>
<div class="clear"> </div>
<!--googleon: index-->
</div>

</div>





<!--googleoff: index-->
<nav id="mega" class="grid_8 alpha" aria-label="Site"><ul id="menu" role="presentation">
<li id="menu_home">
        <a href="https://ocw.mit.edu/" aria-label="Homepage"><img src="../../../common/images/top-nav_home.png" class="home_icon" alt="Click for site home page."></a><!-- Begin Home Item -->
    </li>
<!-- End Home Item -->
    
    <li id="drop_1" aria-label="Find Courses" class="selected">
     <a href="#" aria-hidden="true">FIND COURSES</a><!-- Begin 5 columns Item -->
      <div class="dropdown_5columns-a mega-courses">
        <div class="col_1a">
          <div class="row_1a">
            <nav aria-labelledby="mm-find-courses-by"><span id="mm-find-courses-by" class="nav" aria-hidden="true">Find courses by:</span>
              <ul class="find_by" role="presentation">
<li><a href="https://ocw.mit.edu/courses/find-by-topic/">Topic</a></li>
                <li><a href="https://ocw.mit.edu/courses/find-by-number/">MIT Course Number</a></li>
                <li><a href="https://ocw.mit.edu/courses/find-by-department/">Department</a></li>
				<li><a href="https://ocw.mit.edu/educator/?view=instructional&amp;utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=find-courses&amp;utm_content=approaches">Instructional Approach</a></li>
				<li><a href="https://ocw.mit.edu/educator/?view=teaching&amp;utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=find-courses&amp;utm_content=materials">Teaching Materials</a></li>
             </ul></nav><nav aria-labelledby="mm-collections"><span id="mm-collections" class="nav" aria-hidden="true">Collections</span>
              <ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Lectures</a></li>
                <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
                <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
                <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
              </ul></nav><nav class="col_1b" aria-labelledby="mm-translated-courses"><span id="mm-translated-courses" class="nav" aria-hidden="true" style="line-height: 1.3;">Cross-Disciplinary Topic Lists</span>
							<ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/energy-courses">Energy</a></li>
                				<li><a href="https://ocw.mit.edu/courses/entrepreneurship">Entrepreneurship</a></li>
				                <li><a href="https://ocw.mit.edu/courses/environment-courses">Environment</a></li>
				              	<li><a href="https://ocw.mit.edu/courses/intro-programming">Introductory Programming</a></li>
				                <li><a href="https://ocw.mit.edu/courses/life-sciences">Life Sciences</a></li>
                				<li><a href="https://ocw.mit.edu/courses/transportation-courses">Transportation</a></li>
							</ul></nav>
</div>
          <div class="row_1b">
            <nav aria-labelledby="mm-cross-disciplinary-topic-lists"><span id="mm-cross-disciplinary-topic-lists" class="nav" aria-hidden="true">Translated Courses</span>
            	<ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/translated-courses/traditional-chinese" aria-label="Traditional Chinese">繁體字 / Traditional Chinese</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/spanish" aria-label="Spanish">Español / Spanish</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/portuguese" aria-label="Portuguese">Português / Portuguese</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/persian" aria-label="Persian">فارسی / Persian</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/turkish" aria-label="Turkish">Türkçe / Turkish</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/korean" aria-label="Korean">(비디오)한국 / Korean</a></li>
              </ul></nav>
</div>
        </div>

      </div>
    </li>
    <li id="drop_2">
        <a href="" aria-hidden="true">About</a>
        <div class="dropdown_1column-a">
            <nav class="col_1" aria-label="About"><ul role="presentation">
<li><a href="https://ocw.mit.edu/about/">About MIT OpenCourseWare</a></li>
                    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
                    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
                    <li><a href="https://ocw.mit.edu/about/newsletter/">News</a></li>
                </ul></nav>
</div>
    </li>
    <li id="drop_3">
        <a href="" aria-hidden="true">Give Now</a>
        <div class="dropdown_1column-a">
          <nav class="col_1" aria-label="Donate"><ul role="presentation">
<li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
              <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
              <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
              <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
              <li><a href="https://ocw.mit.edu/give/shop-ocw">Shop OCW</a></li>
              <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
            </ul></nav>
</div>
    </li>
    <li id="drop_4">
      <a href="" aria-hidden="true">Featured Sites</a>
      <div class="dropdown_1column-a">
        <nav class="col_1" aria-labelledby="mm-featured-sites"><span id="mm-featured-sites" class="nav" aria-hidden="true">OCW Initiatives</span>
          <ul role="presentation">
<li><a href="https://ocw.mit.edu/high-school/">Highlights for High School</a></li>
            <li><a href="https://ocw.mit.edu/educator/?utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=featured-sites">OCW Educator</a></li>
            <li><a href="https://ocw.mit.edu/courses/crosslinks/">MIT Crosslinks and OCW</a></li>
            <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx and Related OCW Courses</a></li>
					</ul></nav><nav class="col_1" aria-labelledby="mm-featured-external-links"><span id="mm-featured-external-links" class="nav" aria-hidden="true">Beyond OCW</span>
					<ul>
<li><a href="https://www.k12videos.mit.edu/videos" aria-label="External Link: MIT Plus K12 Videos">MIT+K12 Videos</a></li>
						<li><a href="http://climatex.mit.edu/" aria-label="External Link: MIT ClimateX">MIT ClimateX</a></li>
            <li><a href="https://teachingexcellence.mit.edu/" aria-label="External Link: Teaching Excellence at MIT">Teaching Excellence at MIT</a></li>
						<li><a href="https://outreach.mit.edu" aria-label="External Link: Outreach at MIT">Outreach @ MIT</a></li>
						<li><a href="http://www.oeconsortium.org/" aria-label="External Link: Open Education Consortium">Open Education Consortium</a></li>
          </ul></nav>
</div>
    </li>
  </ul></nav><div id="search" role="search" class="grid_4 omega">
  
    <form aria-label="Advanced Search" method="get" action="../../../common/search/AdvancedSearch.htm">
		  <table class="search"><tbody><tr>
<td class="black"><input type="text" onblur="fillSearchBox()" onfocus="clearSearchBox()" maxlength="255" value="Search" name="q" class="greytext searchField" id="terms"></td>
            <td class="black"><input type="image" src="../../../common/images/button_search.png" name="btnG" class="sub_button"></td>
            <td class="text2"><a href="../../../common/search/AdvancedSearch.htm">Advanced<br>Search</a></td>
          </tr></tbody></table>
</form>
</div>
<div class="clear"></div>
<!--googleon: index-->
<!-- *end header* -->

				
				
			</div>
<!-- top grid end -->
		</header><!-- top end --><div id="center_media">
      	<div id="grid">
      		<div id="left">
        		<nav id="breadcrumb_media" aria-label="Breadcrumb"><p>

    <a href="https://ocw.mit.edu/">Home</a>
    
        »
        
    
    
        
            <a href="https://ocw.mit.edu/courses">Courses</a>
            
                »
                
            
            
         
    
    
        
            <a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science">Electrical Engineering and Computer Science</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/index.htm">Introduction to Algorithms</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/recitation-videos/index.htm">Recitation Videos</a>
            
                »
                
            
            
         
    
    
        
            
            
            Recitation 9: Rolling Hashes, Amortized Analysis
         
    
</p>

            	</nav><div class="clear"></div>
        		<div id="media_title">
        		<h1 class="title" itemprop="name" property="dct:title">
        <span class="" id="parent-fieldname-title">
            Recitation 9: Rolling Hashes, Amortized Analysis
        </span>
    </h1>
        		</div>
           		<div class="clear"></div>
           		<div id="course_wrapper_media">
           			<nav id="course_nav" aria-label="Course"><script language="javascript" type="text/javascript">
function toggleMenu(objID) {
  if (!document.getElementById) return;
  var ob = document.getElementById(objID);
  ob.className = (ob.className == 'selected')?'': 'selected';
}
function toggleClass(id)
{
  var divtoggleClass= document.getElementById(id);
  divtoggleClass.className = (divtoggleClass.className == 'mO')?'mC': 'mO';
  return false;
}
function changeAlt(id)
{
  id.alt = (id.alt == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
  id.title = (id.title == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
}
</script><!--Left Nav Starts --><ul>
<li class="">
			   			<a href="../../../contents/index.htm">
		                  Course Home  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
         	<li class="">
       		<div class="tlp_links">
	        	<div id="syllabus" class="mO">
						<a href="#" class="" onclick="toggleMenu('menusyllabus'); toggleClass('syllabus'); return false">
		                  <img src="../../../common/images/trans.gif" class="expandCollapseTrans" border="0" width="10" height="12" onclick="changeAlt(this)" alt="Expand Menu" title="Expand Menu"></a>
		                <a href="../../../contents/syllabus/index.htm" class="">
		                  Syllabus  			                
	                    </a>
	                 			                
	            </div>
			    
	        	<ul id="menusyllabus" class="">
<li class="">
				 		<a href="../../../contents/syllabus/software/index.htm" class="">Software</a>
		            </li>
			    </ul>
</div>
			</li>
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/calendar/index.htm">
		                  Calendar  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
         	<li class="">
       		<div class="tlp_links">
	        	<div id="readings" class="mO">
						<a href="#" class="" onclick="toggleMenu('menureadings'); toggleClass('readings'); return false">
		                  <img src="../../../common/images/trans.gif" class="expandCollapseTrans" border="0" width="10" height="12" onclick="changeAlt(this)" alt="Expand Menu" title="Expand Menu"></a>
		                <a href="../../../contents/readings/index.htm" class="">
		                  Readings  			                
	                    </a>
	                 			                
	            </div>
			    
	        	<ul id="menureadings" class="">
<li class="">
				 		<a href="../../../contents/readings/python-cost-model/index.htm" class="">Python Cost Model</a>
		            </li>
		            <li class="">
				 		<a href="../../../contents/readings/binary-search-trees/index.htm" class="">Binary Search Trees</a>
		            </li>
			    </ul>
</div>
			</li>
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-notes/index.htm">
		                  Lecture Notes  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-videos/index.htm">
		                  Lecture Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="selected">
			   			<a href="../../../contents/recitation-videos/index.htm">
		                  Recitation Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/assignments/index.htm">
		                  Assignments  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/exams/index.htm">
		                  Exams  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/related-resources/index.htm">
		                  Related Resources  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    
		    
         	
	<!--second tal block close-->  
	
</ul>
<!--Left Nav Ends --></nav><main id="course_inner_media" aria-labelledby="media_title"><div class="" id="parent-fieldname-text">
            
            
        </div>
    
      					 

<script type="text/javascript">var caption_embed_1 ={'English - US': '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/w6nuXg0BISo.srt'}</script><div id="media-embed">
         <div class="attention_message" id="embed_1">
<p>Flash and JavaScript are required for this feature.</p>
<p>Download the video from <a href="https://itunes.apple.com/us/itunes-u/recitation-9-rolling-hashes/id585700718?i=126257090">iTunes U</a> or the <a href="http://www.archive.org/download/MIT6.006F11/MIT6_006F11_rec09_300k.mp4">Internet Archive</a>.</p>
</div>
     </div>
    
     <script type="text/javascript">ocw_embed_chapter_media('embed_1', 'https://www.youtube.com/v/w6nuXg0BISo', 'youtube', '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-9-rolling-hashes-amortized-analysis', 'https://img.youtube.com/vi/w6nuXg0BISo/0.jpg',0,0, 'https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/w6nuXg0BISo.srt')</script><div id="transcript1"></div>
				 <script type="text/javascript">createThreePlayParams(2, 455889, "embed_1", 0, 0)</script><div id="media_resource_next_prev_nav" style="margin-top: 1em;">
        <p>
        
            <a href="../../../contents/recitation-videos/recitation-8-simulation-algorithms/index.htm">
                <img src="../../../common/images/btn_previous_resource.png" style="margin: 0 30px 0 50px;" alt="Previous track" title="Previous track"></a>
     	
     	
        
            <a href="../../../contents/recitation-videos/recitation-9b-dna-sequence-matching/index.htm"> 
                <img src="../../../common/images/btn_next_resource.png" alt="Next track" title="Next track"></a>
       
       </p>
     </div>
 


<script type="text/javascript">
		window.onload=function(){
		init();
		
		}
		var tabLinks = new Array();
		var contentDivs = new Array();
		function init() {
		  // Grab the tab links and content divs from the page
		  var tabListItems = document.getElementById('tabs').childNodes;
		  for ( var i = 0; i < tabListItems.length; i++ ) {
			if ( tabListItems[i].nodeName == "LI" ) {
			  var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
			  var id = getHash( tabLink.getAttribute('href') );
			  tabLinks[id] = tabLink;
			  contentDivs[id] = document.getElementById( id );
			}
		  }
		  // Assign onclick events to the tab links, and
		  // highlight the first tab
		  var i = 0;
		  for ( var id in tabLinks ) {
			tabLinks[id].onclick = showTab;
			tabLinks[id].onfocus = function() { this.blur() };
			if ( i == 0 ) tabLinks[id].className = 'selected';
			i++;
		  }
		  // Hide all content divs except the first
		  var i = 0;
		  for ( var id in contentDivs ) {
			if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
			i++;
		  }
		}
		function showTab() {
		  var selectedId = getHash( this.getAttribute('href') );
		  // Highlight the selected tab, and dim all others.
		  // Also show the selected content div, and hide all others.
		  for ( var id in contentDivs ) {
			if ( id == selectedId ) {
			  tabLinks[id].className = 'selected';
			  contentDivs[id].className = 'tabContent';
			} else {
			  tabLinks[id].className = '';
			  contentDivs[id].className = 'tabContent hide';
			}
		  }
		  // Stop the browser following the link
		  return false;
		}
		function getFirstChildWithTagName( element, tagName ) {
		  for ( var i = 0; i < element.childNodes.length; i++ ) {
			if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
		  }
		}
		function getHash( url ) {
		  var hashPos = url.lastIndexOf ( '#' );
		  return url.substring( hashPos + 1 );
		}
 </script><div id="media_tabs">
     
        <ul id="tabs">
<li class="first">
                <a href="#vid_about" class="selected">About this Video</a>
            </li>
            <li class="">
                <a href="#vid_index" class="">Playlist</a>
            </li>
            <li class="">
                <a href="#vid_playlist" class="">Transcript</a>
            </li>
            <li class="">
                <a href="#vid_related" class="">Recitation Notes</a>
            </li>
            <li class="">
                <a href="#vid_transcript" class="">Download this Video</a>
            </li>
        </ul>
<div id="vid_about" itemprop="description" class="tabContent">
<p><strong>Description:</strong> This recitation mostly covers rolling hashes, with a short discussion of amortized analysis at the end.</p> <p><strong>Instructor:</strong> Victor Costan</p>
</div>
        <div id="vid_index" itemprop="description" class="tabContent hide">
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-1-asymptotic-complexity-peak-finding/index.htm">
<img src="https://img.youtube.com/vi/P7frcB_-g4w/default.jpg" title="Recitation 1: Asymptotic Complexity, Peak Finding" alt="Recitation 1: Asymptotic Complexity, Peak Finding"><p>Recitation 1: Asymptotic Co...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-2-python-cost-model-document-distance/index.htm">
<img src="https://img.youtube.com/vi/QFcyt8fgQMU/default.jpg" title="Recitation 2: Python Cost Model, Document Distance" alt="Recitation 2: Python Cost Model, Document Distance"><p>Recitation 2: Python Cost M...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-3-document-distance-insertion-and-merge-sort/index.htm">
<img src="https://img.youtube.com/vi/4iXLnF3hExw/default.jpg" title="Recitation 3: Document Distance, Insertion and Merge Sort" alt="Recitation 3: Document Distance, Insertion and Merge Sort"><p>Recitation 3: Document Dist...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-5-recursion-trees-binary-search-trees/index.htm">
<img src="https://img.youtube.com/vi/r5pXu1PAUkI/default.jpg" title="Recitation 5: Recursion Trees, Binary Search Trees" alt="Recitation 5: Recursion Trees, Binary Search Trees"><p>Recitation 5: Recursion Tre...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-6-avl-trees/index.htm">
<img src="https://img.youtube.com/vi/IWzYoXKaRIc/default.jpg" title="Recitation 6: AVL Trees" alt="Recitation 6: AVL Trees"><p>Recitation 6: AVL Trees</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-7-comparison-sort-counting-and-radix-sort/index.htm">
<img src="https://img.youtube.com/vi/9bkvws_vqLU/default.jpg" title="Recitation 7: Comparison Sort, Counting and Radix Sort" alt="Recitation 7: Comparison Sort, Counting and Radix Sort"><p>Recitation 7: Comparison So...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-8-simulation-algorithms/index.htm">
<img src="https://img.youtube.com/vi/eGSXsaJ-BlY/default.jpg" title="Recitation 8: Simulation Algorithms" alt="Recitation 8: Simulation Algorithms"><p>Recitation 8: Simulation Al...</p></a>
</div>
<div class="related-media-thumbnail-nolink">
<div class="now-playing-resource">Now Playing</div>
<img src="https://img.youtube.com/vi/w6nuXg0BISo/default.jpg" title="Recitation 9: Rolling Hashes, Amortized Analysis" alt="Recitation 9: Rolling Hashes, Amortized Analysis"><p>Recitation 9: Rolling Hashe...</p>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-9b-dna-sequence-matching/index.htm">
<img src="https://img.youtube.com/vi/-DwGrJ8JxDc/default.jpg" title="Recitation 9b: DNA Sequence Matching" alt="Recitation 9b: DNA Sequence Matching"><p>Recitation 9b: DNA Sequence...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-10-quiz-1-review/index.htm">
<img src="https://img.youtube.com/vi/-FElVPKykgw/default.jpg" title="Recitation 10: Quiz 1 Review" alt="Recitation 10: Quiz 1 Review"><p>Recitation 10: Quiz 1 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-11-principles-of-algorithm-design/index.htm">
<img src="https://img.youtube.com/vi/a_otxyu0mSQ/default.jpg" title="Recitation 11: Principles of Algorithm Design" alt="Recitation 11: Principles of Algorithm Design"><p>Recitation 11: Principles o...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-12-karatsuba-multiplication-newtons-method/index.htm">
<img src="https://img.youtube.com/vi/JRgIXyEPnbA/default.jpg" title="Recitation 12: Karatsuba Multiplication, Newton's Method" alt="Recitation 12: Karatsuba Multiplication, Newton's Method"><p>Recitation 12: Karatsuba Mu...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-13-breadth-first-search-bfs/index.htm">
<img src="https://img.youtube.com/vi/5JxShDZ_ylo/default.jpg" title="Recitation 13: Breadth-First Search (BFS)" alt="Recitation 13: Breadth-First Search (BFS)"><p>Recitation 13: Breadth-Firs...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-14-depth-first-search-dfs/index.htm">
<img src="https://img.youtube.com/vi/C5SPsY72_CM/default.jpg" title="Recitation 14: Depth-First Search (DFS)" alt="Recitation 14: Depth-First Search (DFS)"><p>Recitation 14: Depth-First ...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-15-shortest-paths/index.htm">
<img src="https://img.youtube.com/vi/mQSp6VmfakA/default.jpg" title="Recitation 15: Shortest Paths" alt="Recitation 15: Shortest Paths"><p>Recitation 15: Shortest Paths</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-16-rubiks-cube-starcraft-zero/index.htm">
<img src="https://img.youtube.com/vi/oRpERQA4Vik/default.jpg" title="Recitation 16: Rubik's Cube, StarCraft Zero" alt="Recitation 16: Rubik's Cube, StarCraft Zero"><p>Recitation 16: Rubik's Cube...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-18-quiz-2-review/index.htm">
<img src="https://img.youtube.com/vi/sPuazUPiV1k/default.jpg" title="Recitation 18: Quiz 2 Review" alt="Recitation 18: Quiz 2 Review"><p>Recitation 18: Quiz 2 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-19-dynamic-programming-crazy-eights-shortest-path/index.htm">
<img src="https://img.youtube.com/vi/IFrvgSvZA0I/default.jpg" title="Recitation 19: Dynamic Programming: Crazy Eights, Shortest Path" alt="Recitation 19: Dynamic Programming: Crazy Eights, Shortest Path"><p>Recitation 19: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-20-dynamic-programming-blackjack/index.htm">
<img src="https://img.youtube.com/vi/jZbkToeNK2g/default.jpg" title="Recitation 20: Dynamic Programming: Blackjack" alt="Recitation 20: Dynamic Programming: Blackjack"><p>Recitation 20: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-21-dynamic-programming-knapsack-problem/index.htm">
<img src="https://img.youtube.com/vi/wFP5VHGHFdk/default.jpg" title="Recitation 21: Dynamic Programming: Knapsack Problem" alt="Recitation 21: Dynamic Programming: Knapsack Problem"><p>Recitation 21: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-22-dynamic-programming-dance-dance-revolution/index.htm">
<img src="https://img.youtube.com/vi/PptQgy89cN8/default.jpg" title="Recitation 22: Dynamic Programming: Dance Dance Revolution" alt="Recitation 22: Dynamic Programming: Dance Dance Revolution"><p>Recitation 22: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-23-computational-complexity/index.htm">
<img src="https://img.youtube.com/vi/t5Wxk96QjUk/default.jpg" title="Recitation 23: Computational Complexity" alt="Recitation 23: Computational Complexity"><p>Recitation 23: Computationa...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-24-final-exam-review/index.htm">
<img src="https://img.youtube.com/vi/hkAONP0aC9w/default.jpg" title="Recitation 24: Final Exam Review" alt="Recitation 24: Final Exam Review"><p>Recitation 24: Final Exam R...</p></a>
</div>
</div>
        <div id="vid_playlist" itemprop="description" class="tabContent hide">
<ul><li><a class="transcript-link" title="Open in a new window." alt="Open in a new window." style="text-decoration: none; font-size: 1.0em;" target="_blank" text-decoration: none font-size: href="../../../contents/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/w6nuXg0BISo.pdf"> Download this transcript - PDF (English - US)</a></li></ul>
<p><span m="50">The</span> <span m="180">following</span> <span m="620">content</span> <span m="1210">is</span> <span m="1330">provided</span> <span m="1770">under</span> <span m="2050">a</span> <span m="2090">Creative</span> <span m="2490">Commons</span> <span m="2900">license.</span> <span m="4010">Your</span> <span m="4200">support</span> <span m="4700">will</span> <span m="4860">help</span> <span m="5100">MIT</span> <span m="5560">OpenCourseWare</span> <span m="6350">continue</span> <span m="6860">to</span> <span m="6940">offer</span> <span m="7350">high</span> <span m="7590">quality</span> <span m="8109">educational</span> <span m="8740">resources</span> <span m="9360">for</span> <span m="9510">free.</span> <span m="10720">To</span> <span m="10820">make</span> <span m="10930">a</span> <span m="10970">donation</span> <span m="11660">or</span> <span m="11930">view</span> <span m="12370">additional</span> <span m="12790">materials</span> <span m="13340">from</span> <span m="13480">hundreds</span> <span m="13910">of</span> <span m="14020">MIT</span> <span m="14450">courses,</span> <span m="15550">visit</span> <span m="15770">MIT</span> <span m="16200">OpenCourseWare</span> <span m="17250">at</span> <span m="17410">ocw.mit.edu.</span> </p>
<p><span m="21570">PROFESSOR: So</span> <span m="21980">we're</span> <span m="22140">going</span> <span m="22390">to</span> <span m="22530">do</span> <span m="22760">rolling</span> <span m="23070">caches</span> <span m="23460">then,</span> <span m="23800">we're</span> <span m="24030">going</span> <span m="24310">to</span> <span m="24430">go</span> <span m="24800">a</span> <span m="24850">little</span> <span m="25110">bit</span> <span m="25560">over</span> <span m="25850">amortized</span> <span m="26290">analysis</span> <span m="26880">and</span> <span m="27100">if</span> <span m="27240">we</span> <span m="27330">have</span> <span m="27500">a</span> <span m="27550">lot</span> <span m="27720">of</span> <span m="27820">time</span> <span m="28030">left,</span> <span m="28320">we're</span> <span m="28460">going</span> <span m="28680">to</span> <span m="28790">talk</span> <span m="29010">about</span> <span m="29770">good</span> <span m="29950">and</span> <span m="30080">bad</span> <span m="30290">hash</span> <span m="30520">functions.</span> <span m="32590">So</span> <span m="32880">can</span> <span m="33070">someone</span> <span m="33360">remind</span> <span m="33660">me</span> <span m="33770">what's</span> <span m="34020">the</span> <span m="34130">point</span> <span m="34530">of</span> <span m="34630">rolling</span> <span m="34910">hashes?</span> <span m="36690">What's</span> <span m="37080">the</span> <span m="37190">problem?</span> <span m="38260">What</span> <span m="38500">are we</span> <span m="38600">trying</span> <span m="38820">to</span> <span m="38940">solve</span> <span m="39170">in</span> <span m="39651">lectures?</span> <span m="43980">Be brave.</span> </p>
<p><span m="46055">AUDIENCE: Gets</span> <span m="46530">faster, I think,</span> <span m="47955">because</span> <span m="48905">like--</span> </p>
<p><span m="49860">PROFESSOR: So</span> <span m="50010">what</span> <span m="50160">are we</span> <span m="50330">trying</span> <span m="50570">to</span> <span m="50680">solve?</span> <span m="51130">You</span> <span m="51350">don't</span> <span m="51510">need</span> <span m="52280">to</span> <span m="52380">go</span> <span m="52560">ahead,</span> <span m="52760">tell me</span> <span m="53130">what's</span> <span m="53730">the</span> <span m="53820">big</span> <span m="53970">problem</span> <span m="54330">that</span> <span m="54460">we're</span> <span m="54570">trying</span> <span m="54760">to</span> <span m="54880">solve.</span> </p>
<p><span m="61630">AUDIENCE: I don't remember/</span> </p>
<p><span m="62630">PROFESSOR: OK,</span> <span m="63030">so</span> <span m="63220">let's</span> <span m="63380">go</span> <span m="63520">over</span> <span m="63690">that.</span> <span m="64510">So</span> <span m="64940">we</span> <span m="65080">have</span> <span m="65220">a</span> <span m="65300">big</span> <span m="65470">document,</span> <span m="66720">AKA</span> <span m="67050">a</span> <span m="67120">long</span> <span m="67350">string,</span> <span m="68200">and</span> <span m="68370">we're</span> <span m="68490">trying</span> <span m="68790">to</span> <span m="68890">find</span> <span m="69300">a</span> <span m="69420">smaller</span> <span m="69850">string</span> <span m="70390">inside</span> <span m="70790">it.</span> <span m="70970">And</span> <span m="71080">we're</span> <span m="71220">trying</span> <span m="71510">to</span> <span m="71630">do</span> <span m="71770">that</span> <span m="71950">efficiently.</span> <span m="73210">So</span> <span m="73400">say</span> <span m="73590">the</span> <span m="73720">big</span> <span m="73930">document</span> <span m="74690">is--</span> <span m="81000">you might</span> <span m="81080">have</span> <span m="81310">seen</span> <span m="81510">this</span> <span m="81740">before.</span> <span m="83220">And</span> <span m="83600">we're</span> <span m="83700">trying</span> <span m="84030">to</span> <span m="84130">look</span> <span m="84470">for</span> <span m="86020">the</span> <span m="87240">here.</span> <span m="89130">How</span> <span m="89310">do</span> <span m="89410">I</span> <span m="89500">do</span> <span m="89660">that</span> <span m="89860">with</span> <span m="90110">rolling</span> <span m="90460">hashes?</span> <span m="93910">So</span> <span m="94100">the</span> <span m="94230">slow,</span> <span m="94500">nice</span> <span m="94730">solution</span> <span m="95200">is</span> <span m="96490">I</span> <span m="96900">get</span> <span m="97140">this</span> <span m="97360">the</span> <span m="98140">and</span> <span m="98340">then</span> <span m="98500">I</span> <span m="98830">overlap</span> <span m="99310">with the</span> <span m="99840">beginning</span> <span m="100270">of</span> <span m="100420">the</span> <span m="100590">document,</span> <span m="101600">I do</span> <span m="101790">a</span> <span m="101890">string</span> <span m="102120">comparison.</span> <span m="102480">If</span> <span m="102840">it</span> <span m="103020">matches,</span> <span m="103400">I</span> <span m="103500">say</span> <span m="103690">that</span> <span m="103880">it's</span> <span m="104030">a</span> <span m="104080">match.</span> <span m="104410">It's</span> <span m="104560">not,</span> <span m="105130">I</span> <span m="105390">overlap</span> <span m="105690">it</span> <span m="105990">here.</span> <span m="106860">String</span> <span m="107180">match,</span> <span m="107750">I</span> <span m="108170">overlap</span> <span m="108650">it here.</span> <span m="108860">String</span> <span m="109160">match,</span> <span m="109440">so</span> <span m="109610">on</span> <span m="109750">and</span> <span m="109850">so</span> <span m="109900">forth.</span> <span m="110870">The</span> <span m="110880">problem</span> <span m="111250">is</span> <span m="111380">this</span> <span m="111530">does</span> <span m="111760">a</span> <span m="111840">lot</span> <span m="112030">of</span> <span m="112120">string</span> <span m="112380">matching</span> <span m="112780">operations,</span> <span m="113370">and</span> <span m="113540">the</span> <span m="113640">string</span> <span m="113880">matching</span> <span m="114250">operation</span> <span m="114930">is</span> <span m="116340">how</span> <span m="116510">expensive?</span> <span m="117290">What's</span> <span m="117410">the</span> <span m="117500">running</span> <span m="117760">time?</span> </p>
<p><span m="118846">AUDIENCE: Order n.</span> </p>
<p><span m="120620">PROFESSOR: Order</span> <span m="120930">n,</span> <span m="121200">where</span> <span m="121260">n</span> <span m="121380">is</span> <span m="121490">the</span> <span m="121600">size</span> <span m="121850">of</span> <span m="121950">the</span> <span m="122040">string.</span> <span m="122410">So</span> <span m="122700">if</span> <span m="122830">we</span> <span m="122920">have</span> <span m="123210">a</span> <span m="123280">string,</span> <span m="124260">say</span> <span m="124690">this</span> <span m="124950">is</span> <span m="125940">the</span> <span m="126500">key</span> <span m="126690">that</span> <span m="126890">we're</span> <span m="126980">looking</span> <span m="127330">for</span> <span m="127770">and</span> <span m="128240">n</span> <span m="128460">is</span> <span m="129419">the</span> <span m="129560">document</span> <span m="130100">size</span> <span m="130970">then</span> <span m="131590">this</span> <span m="131800">is</span> <span m="131920">going</span> <span m="132130">to</span> <span m="132240">be</span> <span m="132380">order</span> <span m="132880">n</span> <span m="133010">times</span> <span m="133260">k.</span> <span m="135210">We</span> <span m="135350">want</span> <span m="135520">to</span> <span m="135590">get</span> <span m="135760">to</span> <span m="136420">something</span> <span m="136780">better.</span> <span m="137660">So</span> <span m="137770">how</span> <span m="137910">do</span> <span m="138050">I</span> <span m="138170">do</span> <span m="138400">this</span> <span m="138640">with</span> <span m="138810">rolling</span> <span m="139110">hashes?</span> </p>
<p><span m="147060">AUDIENCE: We take the</span> <span m="149145">strings</span> <span m="149600">up,</span> <span m="150445">and</span> <span m="150890">you</span> <span m="151335">come</span> <span m="151780">up</span> <span m="152225">with</span> <span m="152670">a</span> <span m="153330">hash</span> <span m="153615">code</span> <span m="154280">for</span> <span m="154660">it.</span> </p>
<p><span m="155040">PROFESSOR: OK</span> <span m="155280">so</span> <span m="155500">we're</span> <span m="155690">going</span> <span m="156110">to</span> <span m="157290">hash this.</span> <span m="157720">And</span> <span m="157860">let's</span> <span m="158050">say</span> <span m="158170">this</span> <span m="158430">is</span> <span m="158620">the</span> <span m="159060">key</span> <span m="159410">hash.</span> <span m="159950">OK,</span> <span m="160860">very</span> <span m="161050">good.</span> </p>
<p><span m="161787">AUDIENCE: And then</span> <span m="163188">once you</span> <span m="163655">know that,</span> <span m="164122">then you'll</span> <span m="164589">need to compute</span> <span m="165056">the</span> <span m="165530">next</span> <span m="165880">letter</span> <span m="166270">hash,</span> <span m="166730">or just add it</span> <span m="167190">on</span> <span m="167650">to that</span> <span m="168110">pairing.</span> </p>
<p><span m="169490">PROFESSOR: OK,</span> <span m="169830">so</span> <span m="170260">next</span> <span m="170530">letter</span> <span m="170830">for--</span> </p>
<p><span m="171120">AUDIENCE: Yeah.</span> <span m="174190">So</span> <span m="175980">you</span> <span m="176030">compute</span> <span m="176290">the hash of the</span> <span m="176570">entire</span> <span m="177070">string,</span> <span m="177836">n,</span> <span m="178220">capital</span> <span m="178530">n--</span> </p>
<p><span m="181038">PROFESSOR: Let's not</span> <span m="181530">do that.</span> <span m="182520">Let's</span> <span m="183320">compute</span> <span m="183740">the</span> <span m="184040">hash of</span> <span m="186240">the</span> <span m="186390">first</span> <span m="186820">key</span> <span m="187050">characters</span> <span m="188120">in the string.</span> </p>
<p><span m="188435">AUDIENCE: Are we</span> <span m="188750">separating</span> <span m="189100">them by</span> <span m="189450">space</span> <span m="189800">[? inside? ?]</span> </p>
<p><span m="192240">PROFESSOR: Yeah,</span> <span m="192940">so</span> <span m="193040">this</span> <span m="193220">is</span> <span m="193320">going</span> <span m="193480">to</span> <span m="193600">be a</span> <span m="193850">character.</span> </p>
<p><span m="195010">AUDIENCE: The space</span> <span m="195210">will?</span> </p>
<p><span m="195903">PROFESSOR: Sorry?</span> </p>
<p><span m="196750">AUDIENCE: The</span> <span m="196850">space</span> <span m="197240">will be a</span> <span m="197697">character?</span> </p>
<p><span m="198154">PROFESSOR: Yeah.</span> <span m="199070">So</span> <span m="199270">let's</span> <span m="199350">take</span> <span m="199560">the</span> <span m="199650">first</span> <span m="199900">three</span> <span m="200030">characters</span> <span m="200315">and compute</span> <span m="200600">the</span> <span m="201054">hash of</span> <span m="201508">that.</span> <span m="202870">And</span> <span m="203050">let's</span> <span m="203280">call</span> <span m="203520">this</span> <span m="203930">the</span> <span m="204370">our</span> <span m="204520">sliding</span> <span m="204960">window.</span> <span m="206530">So</span> <span m="206670">we're</span> <span m="206800">going</span> <span m="207030">to</span> <span m="207150">say</span> <span m="207360">that</span> <span m="207650">window</span> <span m="208100">has</span> <span m="209410">the</span> <span m="210170">and</span> <span m="210350">then</span> <span m="210520">we're</span> <span m="210640">going</span> <span m="210890">to</span> <span m="211000">compute</span> <span m="212970">the</span> <span m="213100">hash</span> <span m="213340">of</span> <span m="213490">the</span> <span m="214110">characters</span> <span m="214620">in</span> <span m="214710">the</span> <span m="214830">window,</span> <span m="215380">and</span> <span m="215690">we're</span> <span m="215870">going</span> <span m="216140">to</span> <span m="216270">see</span> <span m="216570">that</span> <span m="217800">this</span> <span m="218080">matches</span> <span m="218580">the</span> <span m="218680">hash</span> <span m="218970">of</span> <span m="219130">the</span> <span m="219230">key.</span> <span m="220130">And</span> <span m="220300">then</span> <span m="220450">we'll</span> <span m="220590">figure</span> <span m="220900">out</span> <span m="221070">what</span> <span m="221250">to</span> <span m="221360">do.</span> <span m="224360">That</span> <span m="224600">aside,</span> <span m="224990">we're</span> <span m="225130">going</span> <span m="225350">to</span> <span m="225470">slide</span> <span m="225840">the</span> <span m="225940">window</span> <span m="226200">to</span> <span m="226460">the</span> <span m="226500">right</span> <span m="226750">by</span> <span m="226870">one</span> <span m="227120">character</span> <span m="227760">so</span> <span m="228010">take</span> <span m="228260">out</span> <span m="228460">key</span> <span m="228690">and put</span> <span m="229000">in</span> <span m="229120">the</span> <span m="229230">space.</span> <span m="230860">And</span> <span m="231020">now</span> <span m="231220">the</span> <span m="231370">window</span> <span m="231810">has</span> <span m="233960">HE</span> <span m="234950">space,</span> <span m="236090">we're</span> <span m="236260">going</span> <span m="236500">to</span> <span m="236610">compute</span> <span m="236960">the</span> <span m="237040">hash</span> <span m="237290">of</span> <span m="237420">the</span> <span m="237530">window,</span> <span m="238560">see</span> <span m="238900">that</span> <span m="239670">it's</span> <span m="240770">not</span> <span m="241220">the</span> <span m="241390">same</span> <span m="241710">as</span> <span m="241970">this</span> <span m="242340">hash</span> <span m="242670">of</span> <span m="242760">the</span> <span m="242880">key.</span> <span m="243400">What</span> <span m="243660">do</span> <span m="243940">we</span> <span m="244050">know</span> <span m="244210">in</span> <span m="244330">this</span> <span m="244530">case?</span> <span m="251190">Different</span> <span m="251530">hashes</span> <span m="252640">means--</span> </p>
<p><span m="253750">AUDIENCE: Not the</span> <span m="254210">same</span> <span m="254670">string.</span> </p>
<p><span m="255590">PROFESSOR: For</span> <span m="255780">sure</span> <span m="256040">not</span> <span m="256190">the</span> <span m="256320">same</span> <span m="256560">string.</span> <span m="256940">So</span> <span m="257920">this</span> <span m="258310">is</span> <span m="258788">not the.</span> <span m="261660">OK,</span> <span m="261910">now</span> <span m="262079">suppose</span> <span m="262570">I'm</span> <span m="262730">sliding</span> <span m="263160">my</span> <span m="263310">window</span> <span m="263870">so</span> <span m="264480">after</span> <span m="264760">this</span> <span m="264950">I</span> <span m="265000">will</span> <span m="265200">slide</span> <span m="265390">my</span> <span m="265500">window</span> <span m="265850">again,</span> <span m="266260">and</span> <span m="266460">I</span> <span m="266510">would</span> <span m="266700">have</span> <span m="267040">e</span> <span m="267250">space</span> <span m="267770">f.</span> <span m="268810">Right,</span> <span m="269100">so</span> <span m="269230">on</span> <span m="269330">and</span> <span m="269430">so</span> <span m="269450">forth.</span> <span m="270290">Suppose</span> <span m="270710">I'm</span> <span m="270850">happy</span> <span m="271220">sliding</span> <span m="271560">my</span> <span m="271670">window</span> <span m="272050">and</span> <span m="272160">then</span> <span m="272300">I</span> <span m="272380">get</span> <span m="272630">here</span> <span m="273540">and</span> <span m="274130">I</span> <span m="274160">have</span> <span m="274490">my</span> <span m="274670">window</span> <span m="275110">be</span> <span m="276240">IN</span> <span m="276633">space,</span> <span m="277420">and</span> <span m="278300">the</span> <span m="278630">hash</span> <span m="278970">the</span> <span m="279200">window</span> <span m="279570">happens</span> <span m="280040">to</span> <span m="280190">match</span> <span m="281630">the</span> <span m="281740">hash</span> <span m="282050">of</span> <span m="282180">the</span> <span m="282300">key.</span> <span m="283270">So</span> <span m="283550">we're in</span> <span m="283680">the</span> <span m="283780">same</span> <span m="283980">situation</span> <span m="284560">as</span> <span m="284710">here.</span> <span m="285550">Now</span> <span m="285800">what?</span> </p>
<p><span m="287760">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="291690">PROFESSOR: Very</span> <span m="291940">good.</span> <span m="292860">We</span> <span m="293060">have</span> <span m="293260">to</span> <span m="293410">check</span> <span m="294020">if</span> <span m="295930">the</span> <span m="296090">string</span> <span m="296360">inside</span> <span m="296660">the</span> <span m="296770">window</span> <span m="297120">is</span> <span m="297260">the</span> <span m="297370">same</span> <span m="297670">as</span> <span m="297780">the</span> <span m="297890">string</span> <span m="298200">inside</span> <span m="298500">the</span> <span m="298600">key.</span> <span m="299360">And</span> <span m="300330">if</span> <span m="300530">it</span> <span m="300650">is,</span> <span m="300810">we</span> <span m="300970">found</span> <span m="301230">a</span> <span m="301310">match.</span> <span m="302360">If</span> <span m="302500">it</span> <span m="302620">isn't,</span> <span m="302960">we</span> <span m="303060">keep</span> <span m="303280">working.</span> <span m="303955">All</span> <span m="304310">right?</span> <span m="304720">And</span> <span m="304840">we</span> <span m="304920">have</span> <span m="305050">to</span> <span m="305160">do</span> <span m="305260">the</span> <span m="305420">same</span> <span m="305640">thing</span> <span m="305820">here.</span> <span m="312340">So</span> <span m="312440">this</span> <span m="312680">is</span> <span m="312890">our</span> <span m="313470">string</span> <span m="313740">matching</span> <span m="314080">algorithm.</span> </p>
<p><span m="316985">AUDIENCE: Can</span> <span m="317468">we</span> <span m="317951">somehow make</span> <span m="318434">sure</span> <span m="318917">that</span> <span m="320366">we</span> <span m="320849">make a</span> <span m="321332">hash</span> <span m="321815">function</span> <span m="322298">such that</span> <span m="323264">it</span> <span m="323747">will never</span> <span m="324230">[INAUDIBLE]--</span> </p>
<p><span m="326650">PROFESSOR: Excellent</span> <span m="327100">question.</span> <span m="327910">Thank</span> <span m="328090">you,</span> <span m="328840">I</span> <span m="328930">like</span> <span m="329110">that.</span> <span m="330040">Can</span> <span m="330240">we</span> <span m="330380">make a</span> <span m="330580">hash</span> <span m="330840">function</span> <span m="331170">so</span> <span m="331320">that</span> <span m="331510">we</span> <span m="331600">don't</span> <span m="331770">have</span> <span m="331890">any</span> <span m="332060">false</span> <span m="332310">positives,</span> <span m="332830">right?</span> <span m="334110">Let's</span> <span m="334360">see.</span> <span m="335320">How</span> <span m="335550">do</span> <span m="335690">hash</span> <span m="335880">functions</span> <span m="336310">work?</span> <span m="336640">What's</span> <span m="336890">the</span> <span m="337100">argument</span> <span m="337570">to</span> <span m="337670">a</span> <span m="337760">hash</span> <span m="338020">function</span> <span m="338390">and</span> <span m="338510">what's</span> <span m="338680">the</span> <span m="338780">return</span> <span m="339100">value?</span> </p>
<p><span m="344096">AUDIENCE: The argument</span> <span m="344570">is something</span> <span m="345044">that you</span> <span m="345518">want to hash.</span> </p>
<p><span m="350510">PROFESSOR: So</span> <span m="350670">in</span> <span m="350790">this</span> <span m="350960">case</span> <span m="351160">we're</span> <span m="351310">working</span> <span m="351600">with</span> <span m="351800">three</span> <span m="351950">character</span> <span m="352400">strings.</span> <span m="352790">But</span> <span m="354440">let's</span> <span m="354660">say</span> <span m="354750">we're</span> <span m="354920">looking</span> <span m="355190">for</span> <span m="355490">a</span> <span m="355550">one</span> <span m="355770">megabyte</span> <span m="356270">string</span> <span m="356680">inside</span> <span m="357110">the</span> <span m="357250">one</span> <span m="357470">gigabyte</span> <span m="357930">string.</span> <span m="358970">Say</span> <span m="359380">we're</span> <span m="360010">a</span> <span m="361250">music</span> <span m="361740">company</span> <span m="362170">and</span> <span m="362300">we're</span> <span m="362430">looking</span> <span m="362730">for</span> <span m="363000">our</span> <span m="363190">mp3</span> <span m="363450">file</span> <span m="363970">inside</span> <span m="364340">the</span> <span m="365120">big</span> <span m="366900">files</span> <span m="367370">off a</span> <span m="367650">pirate</span> <span m="367990">server</span> <span m="368310">or</span> <span m="368400">something.</span> </p>
<p><span m="369550">So</span> <span m="369710">this</span> <span m="369930">is</span> <span m="372800">1</span> <span m="373070">million</span> <span m="373390">character</span> <span m="373840">strings,</span> <span m="374270">because</span> <span m="374600">that's</span> <span m="374820">the</span> <span m="374940">window</span> <span m="375210">size.</span> <span m="379370">And</span> <span m="379770">it's</span> <span m="379900">going</span> <span m="380150">to</span> <span m="380250">return</span> <span m="380700">what?</span> <span m="385830">What</span> <span m="386040">do</span> <span m="386130">hash</span> <span m="386330">functions</span> <span m="386740">return</span> <span m="387280">for</span> <span m="387460">them</span> <span m="387650">to</span> <span m="387750">be</span> <span m="387850">useful?</span> <span m="390500">Integers.</span> <span m="391070">Nice</span> <span m="391430">small</span> <span m="391670">integers,</span> <span m="392290">right?</span> <span m="392580">Ideally,</span> <span m="393070">the</span> <span m="393260">integer</span> <span m="393580">would</span> <span m="393740">fit</span> <span m="394040">in</span> <span m="394120">a</span> <span m="394250">word</span> <span m="394510">size,</span> <span m="395340">where</span> <span m="395500">the</span> <span m="395650">word</span> <span m="395900">is</span> <span m="396210">the</span> <span m="397140">register</span> <span m="397520">size</span> <span m="398050">on</span> <span m="398170">our</span> <span m="398280">computer.</span> <span m="399650">What</span> <span m="399930">are</span> <span m="400060">popular</span> <span m="400550">word</span> <span m="400780">sizes?</span> <span m="401700">Does</span> <span m="401870">anyone</span> <span m="402140">know?</span> </p>
<p><span m="402796">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="405990">AUDIENCE: Excellent.</span> <span m="406730">32-bits,</span> <span m="409040">64-bits</span> <span m="413030">integers.</span> <span m="415350">OK,</span> <span m="415590">so</span> <span m="415750">what's</span> <span m="415990">the</span> <span m="416070">universe</span> <span m="416680">size</span> <span m="416880">for</span> <span m="417000">this</span> <span m="417230">function?</span> <span m="417590">How</span> <span m="417770">many</span> <span m="418170">one</span> <span m="418400">million</span> <span m="418730">character</span> <span m="419190">strings</span> <span m="419500">are there?</span> </p>
<p><span m="423748">AUDIENCE: How many</span> <span m="424220">characters are</span> <span m="424700">there?</span> </p>
<p><span m="425200">PROFESSOR: Excellent.</span> <span m="425760">Let's</span> <span m="426000">say</span> <span m="426120">we're old</span> <span m="426385">school</span> <span m="426650">and</span> <span m="426800">we're</span> <span m="426900">doing</span> <span m="427180">[? SG ?].</span> <span m="427500">We</span> <span m="427620">don't</span> <span m="427810">care</span> <span m="427990">about</span> <span m="428180">the rest of</span> <span m="428340">the</span> <span m="428640">world.</span> </p>
<p><span m="429455">AUDIENCE: 256</span> <span m="429910">characters?</span> </p>
<p><span m="432640">PROFESSOR: OK.</span> </p>
<p><span m="433590">AUDIENCE: To</span> <span m="433990">the one</span> <span m="434260">millionth</span> <span m="434530">power.</span> </p>
<p><span m="440550">PROFESSOR: Cool.</span> <span m="441140">Let's</span> <span m="441380">say</span> <span m="441500">we're</span> <span m="441880">working</span> <span m="442290">on</span> <span m="442520">an old</span> <span m="442670">school</span> <span m="442890">computer,</span> <span m="443430">since</span> <span m="443610">we're old school</span> <span m="444080">and</span> <span m="444260">we</span> <span m="444440">have</span> <span m="444610">a</span> <span m="444680">32-bit</span> <span m="445160">word size.</span> <span m="445620">How</span> <span m="445770">many</span> <span m="446090">possible</span> <span m="446960">values</span> <span m="447390">for</span> <span m="447510">the</span> <span m="447610">hash</span> <span m="447830">function?</span> </p>
<p><span m="448695">AUDIENCE: 2</span> <span m="449190">to the</span> <span m="449685">32.</span> </p>
<p><span m="458100">PROFESSOR: The</span> <span m="458405">[? other ?]</span> <span m="458710">is bigger.</span> <span m="459940">You're</span> <span m="460040">messing</span> <span m="460320">with</span> <span m="460470">me,</span> <span m="460610">right?</span> <span m="461440">OK</span> <span m="461670">so</span> <span m="461940">this</span> <span m="462260">is</span> <span m="462820">2</span> <span m="463090">to</span> <span m="463210">the</span> <span m="464070">8th.</span> </p>
<p><span m="465540">AUDIENCE: 2 to the</span> <span m="465980">8 million,</span> <span m="466420">right?</span> </p>
<p><span m="467300">PROFESSOR: Yup.</span> <span m="467740">So</span> <span m="467920">this</span> <span m="468730">is</span> <span m="468880">a</span> <span m="468940">lot</span> <span m="469150">bigger</span> <span m="469430">than</span> <span m="469610">this.</span> <span m="470700">So</span> <span m="471400">if</span> <span m="471610">we</span> <span m="471850">want</span> <span m="472130">to</span> <span m="472320">make</span> <span m="472610">a</span> <span m="472650">hash</span> <span m="472920">function</span> <span m="473320">that</span> <span m="473540">gives</span> <span m="473830">us</span> <span m="474060">no</span> <span m="474330">false</span> <span m="474660">positives,</span> <span m="475250">then</span> <span m="475840">we'd</span> <span m="476040">have</span> <span m="476210">to</span> <span m="476310">be</span> <span m="476470">able</span> <span m="476700">to--</span> <span m="477440">if</span> <span m="477580">we</span> <span m="477650">have</span> <span m="477820">the</span> <span m="477880">universe</span> <span m="478440">of</span> <span m="478680">possible</span> <span m="479150">inputs</span> <span m="479540">and</span> <span m="479680">the</span> <span m="479730">universe</span> <span m="480150">of</span> <span m="480250">possible</span> <span m="480730">outputs,</span> <span m="481550">draw</span> <span m="481920">a line</span> <span m="482260">from</span> <span m="482510">every</span> <span m="482790">input</span> <span m="483220">to</span> <span m="483370">a</span> <span m="483440">different</span> <span m="483800">output.</span> <span m="484910">But</span> <span m="485320">if</span> <span m="485550">we</span> <span m="485660">have--</span> <span m="486130">2</span> <span m="486340">to</span> <span m="486470">the</span> <span m="486660">32</span> <span m="486990">by the way</span> <span m="487310">is</span> <span m="487470">about</span> <span m="487770">four</span> <span m="487920">billion.</span> </p>
<p><span m="489330">If</span> <span m="489510">we</span> <span m="489590">have</span> <span m="490020">four</span> <span m="490380">billion</span> <span m="491080">outputs</span> <span m="491870">and</span> <span m="493280">a</span> <span m="493420">lot</span> <span m="493730">of</span> <span m="493850">inputs</span> <span m="494930">as</span> <span m="495120">we</span> <span m="495220">draw</span> <span m="495420">our</span> <span m="495560">lines,</span> <span m="495900">we're</span> <span m="496030">eventually</span> <span m="496480">going</span> <span m="496640">to</span> <span m="496700">run</span> <span m="496880">out</span> <span m="497030">of</span> <span m="497150">outputs</span> <span m="497550">and</span> <span m="497650">we're</span> <span m="497760">going</span> <span m="497970">to</span> <span m="498350">have to use</span> <span m="498520">the</span> <span m="498620">same</span> <span m="498880">output</span> <span m="499170">again</span> <span m="499390">and</span> <span m="499500">again.</span> <span m="500690">So</span> <span m="501590">for</span> <span m="501810">a</span> <span m="501850">hash</span> <span m="502080">function,</span> <span m="502520">pretty</span> <span m="502770">much</span> <span m="503030">always</span> <span m="503460">the</span> <span m="503550">universe</span> <span m="504060">size</span> <span m="504320">is</span> <span m="504480">bigger</span> <span m="504740">than</span> <span m="504920">the</span> <span m="505010">output</span> <span m="505360">size.</span> <span m="506170">So</span> <span m="506900">hash</span> <span m="507100">functions</span> <span m="507460">will</span> <span m="507610">always</span> <span m="507990">have</span> <span m="508340">collisions.</span> <span m="509490">So a</span> <span m="509770">collision</span> <span m="510180">for a</span> <span m="510400">hash</span> <span m="510640">function</span> <span m="511610">is</span> <span m="512520">two</span> <span m="512720">inputs,</span> <span m="513789">x1,</span> <span m="514750">x2,</span> <span m="515100">so</span> <span m="515390">that's</span> <span m="516169">x1</span> <span m="516860">is</span> <span m="517030">not</span> <span m="517280">x2,</span> <span m="517799">but</span> <span m="518870">h</span> <span m="519370">of</span> <span m="519520">x1</span> <span m="520220">equals</span> <span m="521190">h of</span> <span m="521429">x2.</span> </p>
<p><span m="526930">So</span> <span m="527090">this</span> <span m="527260">will</span> <span m="527390">always</span> <span m="527680">happen.</span> <span m="527990">There's</span> <span m="528220">no</span> <span m="528390">way</span> <span m="528550">around</span> <span m="528850">it.</span> <span m="530160">What</span> <span m="530380">we're</span> <span m="530500">hoping</span> <span m="530920">for</span> <span m="531270">is</span> <span m="531410">that</span> <span m="532380">the</span> <span m="532500">collisions</span> <span m="533260">aren't</span> <span m="534500">something</span> <span m="534970">dumb.</span> <span m="535330">So</span> <span m="535600">we're</span> <span m="535810">hoping</span> <span m="536130">that</span> <span m="536410">the</span> <span m="536490">hash</span> <span m="536720">function</span> <span m="537540">acts</span> <span m="537790">in</span> <span m="537870">a</span> <span m="537980">reasonably</span> <span m="538540">randomly</span> <span m="539490">and</span> <span m="539830">we</span> <span m="540100">talked</span> <span m="540390">about</span> <span m="541770">ideal</span> <span m="542150">hash</span> <span m="542370">functions</span> <span m="542910">that</span> <span m="543350">would</span> <span m="544240">pretty</span> <span m="544450">much</span> <span m="544740">look</span> <span m="544970">like</span> <span m="546180">they</span> <span m="546330">would</span> <span m="546530">get</span> <span m="546940">a</span> <span m="547110">random</span> <span m="547900">output</span> <span m="548300">for</span> <span m="548650">every</span> <span m="548900">input.</span> <span m="550610">And</span> <span m="550760">we're</span> <span m="550840">not</span> <span m="550980">going</span> <span m="551090">to</span> <span m="551170">worry</span> <span m="551410">too</span> <span m="551530">much</span> <span m="551730">about</span> <span m="551990">that.</span> <span m="552250">What</span> <span m="552460">matters</span> <span m="552810">is</span> <span m="552950">that</span> <span m="553600">as</span> <span m="553740">long</span> <span m="553940">as</span> <span m="554060">the</span> <span m="554150">hash</span> <span m="554350">function</span> <span m="554660">is</span> <span m="554790">reasonably</span> <span m="555230">good,</span> <span m="556070">we're</span> <span m="556200">not</span> <span m="556450">going</span> <span m="556740">to</span> <span m="556880">have</span> <span m="557190">too</span> <span m="557350">many</span> <span m="557590">false</span> <span m="557900">positives.</span> </p>
<p><span m="559470">So</span> <span m="562760">say</span> <span m="562950">the</span> <span m="563080">output</span> <span m="563480">set</span> <span m="563840">is</span> <span m="564970">O,</span> <span m="565340">so</span> <span m="565970">O is</span> <span m="566290">2</span> <span m="566610">to</span> <span m="566890">the</span> <span m="567030">32.</span> <span m="568080">Then</span> <span m="568280">we're</span> <span m="568400">hoping</span> <span m="568760">to</span> <span m="568890">have</span> <span m="569270">false</span> <span m="569710">positives</span> <span m="570430">about</span> <span m="571400">one</span> <span m="571830">every</span> <span m="575150">O</span> <span m="575340">times.</span> <span m="577480">So</span> <span m="577940">1</span> <span m="578190">out</span> <span m="578390">of</span> <span m="578560">2</span> <span m="578690">to</span> <span m="578790">the</span> <span m="578930">32</span> <span m="579480">false</span> <span m="580080">positives.</span> <span m="583360">So</span> <span m="585200">what's</span> <span m="585470">the</span> <span m="585590">running</span> <span m="585970">time</span> <span m="586420">for</span> <span m="587360">when</span> <span m="587550">you</span> <span m="587620">slide</span> <span m="587920">the</span> <span m="588010">window</span> <span m="588720">and</span> <span m="588950">we're</span> <span m="589070">doing</span> <span m="589720">this</span> <span m="589960">logic</span> <span m="590300">here.</span> <span m="590810">What's</span> <span m="591070">the</span> <span m="591170">running</span> <span m="591470">time</span> <span m="591660">if</span> <span m="591770">the</span> <span m="591930">hashes</span> <span m="592460">aren't</span> <span m="592680">the</span> <span m="592780">same?</span> </p>
<p><span m="595300">AUDIENCE: What's the</span> <span m="595758">running time</span> <span m="596216">of the</span> <span m="596674">hash function--</span> </p>
<p><span m="597590">PROFESSOR: Of</span> <span m="598050">the</span> <span m="598160">whole</span> <span m="599060">matching</span> <span m="599370">algorithm.</span> </p>
<p><span m="599822">AUDIENCE: No, no</span> <span m="600274">no,</span> <span m="600726">of</span> <span m="601178">the hash</span> <span m="601630">function</span> <span m="601925">itself.</span> <span m="602683">Can we</span> <span m="603146">make any</span> <span m="603609">assumptions about that?</span> </p>
<p><span m="605930">Very</span> <span m="606240">good.</span> <span m="607270">What's</span> <span m="607640">the</span> <span m="607830">running time of</span> <span m="608100">the</span> <span m="608160">hash</span> <span m="608400">function?</span> <span m="610170">So</span> <span m="610360">we're</span> <span m="610480">going</span> <span m="610740">to</span> <span m="610890">have</span> <span m="611240">to</span> <span m="611340">implement--</span> <span m="612310">if</span> <span m="612450">we</span> <span m="612520">implement</span> <span m="612920">the</span> <span m="612950">hash</span> <span m="613150">function</span> <span m="613530">naively,</span> <span m="613610">then</span> <span m="614860">the</span> <span m="614980">running</span> <span m="615260">time</span> <span m="615500">for</span> <span m="615890">hashing</span> <span m="616260">a</span> <span m="616490">key</span> <span m="616730">character</span> <span m="617170">string</span> <span m="617430">is</span> <span m="617650">order</span> <span m="617870">key.</span> <span m="619330">But</span> <span m="619680">we're</span> <span m="619830">going</span> <span m="620080">to</span> <span m="620230">come</span> <span m="620440">up</span> <span m="620620">with</span> <span m="621430">magic</span> <span m="621880">way</span> <span m="621990">of</span> <span m="622130">doing</span> <span m="622380">it</span> <span m="622540">in</span> <span m="622670">order</span> <span m="622910">one</span> <span m="623110">time.</span> <span m="624740">So</span> <span m="625020">assume</span> <span m="625260">hashing</span> <span m="625600">is</span> <span m="625730">order</span> <span m="625950">1.</span> <span m="628420">What's</span> <span m="628740">the</span> <span m="628880">running</span> <span m="629170">time</span> <span m="629330">for</span> <span m="629480">everything</span> <span m="629830">else?</span> <span m="630500">So</span> <span m="630800">if the</span> <span m="630910">hashes</span> <span m="631180">don't</span> <span m="631630">match,</span> <span m="631930">we</span> <span m="632070">know</span> <span m="632260">it's</span> <span m="632430">not</span> <span m="633900">a</span> <span m="633990">candidate.</span> <span m="634490">So</span> <span m="634710">we're</span> <span m="634870">going</span> <span m="635100">to</span> <span m="635230">keep</span> <span m="635410">going.</span> <span m="635680">So</span> <span m="635830">this</span> <span m="636060">is</span> <span m="636720">order</span> <span m="637030">1.</span> <span m="639400">What</span> <span m="639660">if</span> <span m="639810">the</span> <span m="639910">hashes</span> <span m="640330">do</span> <span m="640460">match?</span> </p>
<p><span m="641820">AUDIENCE: [INAUDIBLE]</span> <span m="643170">characters.</span> </p>
<p><span m="644970">PROFESSOR: Order--</span> </p>
<p><span m="645450">AUDIENCE: I mean, but it depends on</span> <span m="645921">how</span> <span m="646392">many ones</span> <span m="646863">match,</span> <span m="647334">but it will</span> <span m="647805">be--</span> </p>
<p><span m="648280">PROFESSOR: So</span> <span m="648500">for</span> <span m="648720">one</span> <span m="649080">match,</span> <span m="649490">what's</span> <span m="649700">the</span> <span m="649790">running</span> <span m="650020">time</span> <span m="650210">for one</span> <span m="650687">match?</span> </p>
<p><span m="652118">AUDIENCE: Order</span> <span m="654026">k--</span> </p>
<p><span m="654980">PROFESSOR: Order k.</span> <span m="656840">Excellent.</span> <span m="657650">So</span> <span m="658060">the</span> <span m="658470">total</span> <span m="658790">running</span> <span m="659130">time</span> <span m="659430">is</span> <span m="660190">the</span> <span m="660330">number</span> <span m="660800">of</span> <span m="661940">matches</span> <span m="662560">times</span> <span m="663090">order</span> <span m="663440">k</span> <span m="663710">plus</span> <span m="664070">the</span> <span m="664160">number</span> <span m="664490">of</span> <span m="664600">non</span> <span m="664860">matches</span> <span m="665510">times</span> <span m="666050">order</span> <span m="666370">1.</span> <span m="667430">So</span> <span m="667670">as</span> <span m="667800">long</span> <span m="668080">as</span> <span m="668800">the</span> <span m="668960">number</span> <span m="669250">of</span> <span m="669350">false</span> <span m="669620">positives</span> <span m="670120">here</span> <span m="670530">is</span> <span m="670780">really</span> <span m="671080">tiny,</span> <span m="673500">the</span> <span m="673660">math</span> <span m="673900">is</span> <span m="674030">going</span> <span m="674240">to</span> <span m="674350">come</span> <span m="674580">out</span> <span m="674710">to</span> <span m="674890">be</span> <span m="675140">roughly</span> <span m="675470">order</span> <span m="675760">1</span> <span m="676180">per</span> <span m="676790">character.</span> </p>
<p><span m="680589">AUDIENCE: So the</span> <span m="681056">whole thing</span> <span m="681523">is</span> <span m="681990">order in.</span> </p>
<p><span m="683400">PROFESSOR: Everything</span> <span m="683810">should</span> <span m="684000">be</span> <span m="684100">order n,</span> <span m="684510">yeah,</span> <span m="684800">that's</span> <span m="685040">what we're</span> <span m="685380">hoping for.</span> <span m="692070">OK</span> <span m="692320">so</span> <span m="692530">let's</span> <span m="693260">talk</span> <span m="693550">about</span> <span m="693820">the</span> <span m="693900">magic</span> <span m="694320">because</span> <span m="694580">you</span> <span m="694660">asked</span> <span m="694840">me</span> <span m="694930">what's</span> <span m="695220">the</span> <span m="695360">running</span> <span m="695660">time</span> <span m="695850">for</span> <span m="696000">the</span> <span m="696110">hash</span> <span m="696350">function</span> <span m="696740">and</span> <span m="696910">this</span> <span m="697090">is</span> <span m="697320">the</span> <span m="697510">interesting</span> <span m="698010">part.</span> <span m="698650">How</span> <span m="698870">do</span> <span m="699060">I</span> <span m="699140">get</span> <span m="699370">to</span> <span m="699440">compute</span> <span m="700450">these</span> <span m="700700">hashes</span> <span m="701110">and</span> <span m="701240">order</span> <span m="701500">1</span> <span m="701700">instead</span> <span m="702030">of</span> <span m="702170">order</span> <span m="702470">k?</span> <span m="703600">We</span> <span m="703700">have</span> <span m="703890">this</span> <span m="704080">data</span> <span m="704470">structure</span> <span m="704760">called</span> <span m="705820">rolling</span> <span m="706790">hash.</span> <span m="712680">So</span> <span m="712900">rolling</span> <span m="713240">hash--</span> <span m="714000">does</span> <span m="714180">anyone</span> <span m="714460">remember</span> <span m="714860">from</span> <span m="715030">lecture</span> <span m="715340">what</span> <span m="715510">it</span> <span m="715620">is?</span> </p>
<p><span m="716850">AUDIENCE: Isn't that</span> <span m="717320">what we're</span> <span m="717790">doing right</span> <span m="718260">now?</span> </p>
<p><span m="721560">PROFESSOR: So</span> <span m="721700">this</span> <span m="721880">is</span> <span m="722010">a</span> <span m="722100">sliding</span> <span m="722470">window.</span> <span m="724390">And</span> <span m="725970">the</span> <span m="726080">data</span> <span m="726330">structure</span> <span m="726910">will</span> <span m="727300">compute</span> <span m="727630">fast</span> <span m="728050">hashes</span> <span m="728450">for</span> <span m="728690">the</span> <span m="729150">strings</span> <span m="729470">inside</span> <span m="729750">the</span> <span m="729840">sliding</span> <span m="730160">window.</span> <span m="730700">So</span> <span m="730770">how</span> <span m="730890">does</span> <span m="731060">it</span> <span m="731180">work?</span> <span m="732910">I</span> <span m="733000">mean</span> <span m="733340">not</span> <span m="733390">how does it</span> <span m="733730">work</span> <span m="733920">functionally,</span> <span m="736180">what</span> <span m="736390">are</span> <span m="736500">the</span> <span m="737020">operations</span> <span m="737610">for</span> <span m="737900">a rolling</span> <span m="738090">hash,</span> <span m="738870">let's</span> <span m="739070">try</span> <span m="739190">that.</span> </p>
<p><span m="739855">AUDIENCE: Oh</span> <span m="741755">[INAUDIBLE].</span> </p>
<p><span m="743660">PROFESSOR: OK,</span> <span m="743950">so</span> <span m="744130">we</span> <span m="744230">have</span> <span m="744460">two</span> <span m="744640">updates.</span> <span m="745130">One</span> <span m="745310">of</span> <span m="745420">them</span> <span m="745570">is</span> <span m="745840">pop.</span> <span m="746250">For</span> <span m="746490">some</span> <span m="746820">reason,</span> <span m="747360">our</span> <span m="747640">notes</span> <span m="747920">call it</span> <span m="748350">skip,</span> <span m="748730">but</span> <span m="748930">I</span> <span m="749050">like</span> <span m="749340">pop</span> <span m="749570">better,</span> <span m="749960">so</span> <span m="750560">I'm</span> <span m="750690">going</span> <span m="750900">to</span> <span m="751010">write</span> <span m="751260">skip</span> <span m="751490">and think</span> <span m="751850">pop.</span> <span m="754360">And</span> <span m="754540">the</span> <span m="754640">other</span> <span m="754820">one</span> <span m="755020">is?</span> </p>
<p><span m="755856">AUDIENCE: Always</span> <span m="757254">[INAUDIBLE].</span> </p>
<p><span m="761460">PROFESSOR: A pen</span> <span m="762826">with a new</span> <span m="763200">character,</span> <span m="763740">OK?</span> <span m="765200">Cool.</span> <span m="765820">So</span> <span m="765870">these</span> <span m="766060">are</span> <span m="766150">the</span> <span m="766310">updates.</span> <span m="766690">Now</span> <span m="766860">what's</span> <span m="767100">the</span> <span m="767240">point</span> <span m="767510">of</span> <span m="767610">those</span> <span m="767750">updates?</span> <span m="768160">What's</span> <span m="768360">the</span> <span m="768490">query</span> <span m="768850">for</span> <span m="769270">a</span> <span m="769530">rolling</span> <span m="769890">hash?</span> </p>
<p><span m="770762">AUDIENCE: [INAUDIBLE].</span> <span m="772730">You just</span> <span m="773222">grab the</span> <span m="773720">next</span> <span m="774025">character,</span> <span m="774910">append that,</span> <span m="775868">and</span> <span m="776296">then</span> <span m="776724">skip</span> <span m="777152">[INAUDIBLE].</span> </p>
<p><span m="777580">PROFESSOR: OK,</span> <span m="777980">so</span> <span m="778290">this</span> <span m="778600">is</span> <span m="778770">how</span> <span m="778980">I</span> <span m="779080">update</span> <span m="779650">the</span> <span m="780040">rolling</span> <span m="780520">hash</span> <span m="780840">to</span> <span m="780950">contain</span> <span m="781860">to</span> <span m="782180">reflect</span> <span m="782660">the</span> <span m="782780">contents</span> <span m="783190">of</span> <span m="783340">my</span> <span m="783490">sliding</span> <span m="783910">window.</span> <span m="784390">And</span> <span m="784540">what</span> <span m="784750">I</span> <span m="784810">do</span> <span m="784950">after</span> <span m="785200">that?</span> <span m="785480">What's</span> <span m="785690">the</span> <span m="785810">reason</span> <span m="786070">for</span> <span m="786220">that?</span> </p>
<p><span m="788600">AUDIENCE: You skip</span> <span m="789060">your</span> <span m="789520">[INAUDIBLE].</span> </p>
<p><span m="790690">PROFESSOR: So</span> <span m="791270">don't</span> <span m="791470">think</span> <span m="791650">too</span> <span m="791730">hard,</span> <span m="791970">it's</span> <span m="792100">a</span> <span m="792150">really</span> <span m="792510">easy</span> <span m="792760">question.</span> <span m="793790">I</span> <span m="793960">moved</span> <span m="794300">a</span> <span m="794400">sliding</span> <span m="794840">window</span> <span m="795280">here.</span> <span m="795890">What</span> <span m="795960">do</span> <span m="796110">I</span> <span m="796200">want</span> <span m="796450">to</span> <span m="796530">get?</span> </p>
<p><span m="797762">AUDIENCE: You</span> <span m="798188">want to get the</span> <span m="798614">hash of those</span> <span m="799040">characters.</span> </p>
<p><span m="799890">PROFESSOR: The</span> <span m="799960">hash</span> <span m="800220">of</span> <span m="800300">those</span> <span m="800480">characters,</span> <span m="801020">very</span> <span m="801110">good.</span> <span m="803810">So</span> <span m="803980">this</span> <span m="804210">is</span> <span m="804370">the</span> <span m="804500">query.</span> <span m="805630">So</span> <span m="806060">a</span> <span m="806180">rolling</span> <span m="806490">hash</span> <span m="806800">has</span> <span m="806950">a</span> <span m="807020">sequence</span> <span m="807380">of</span> <span m="807500">characters</span> <span m="808030">in</span> <span m="808150">it,</span> <span m="808310">right?</span> <span m="809410">Say</span> <span m="809865">t,</span> <span m="810320">h,</span> <span m="810605">e.</span> <span m="815210">And</span> <span m="815830">it</span> <span m="815970">allows</span> <span m="816280">us</span> <span m="816460">to</span> <span m="816950">append</span> <span m="817110">the</span> <span m="817210">character</span> <span m="819600">and</span> <span m="820000">pop a</span> <span m="820330">character.</span> <span m="822250">Append</span> <span m="822470">a</span> <span m="822560">character,</span> <span m="824406">pop</span> <span m="824840">a</span> <span m="824920">character.</span> <span m="826580">And</span> <span m="826900">then</span> <span m="827100">it</span> <span m="827240">promises</span> <span m="827810">that</span> <span m="827980">it's</span> <span m="828180">going</span> <span m="828390">to</span> <span m="828500">compute</span> <span m="828870">the</span> <span m="828950">hash</span> <span m="829710">of</span> <span m="829850">whatever's</span> <span m="830400">inside</span> <span m="830920">the</span> <span m="831710">rolling</span> <span m="832050">hash</span> <span m="832300">really</span> <span m="832550">fast.</span> <span m="836370">Append</span> <span m="836770">goes</span> <span m="837110">here,</span> <span m="837610">skip</span> <span m="837980">goes</span> <span m="838200">here.</span> <span m="841500">How</span> <span m="841670">fast</span> <span m="841960">do</span> <span m="842030">these</span> <span m="842230">operations</span> <span m="842830">need</span> <span m="842990">to</span> <span m="843070">be</span> <span m="843230">for my</span> <span m="843400">algorithm</span> <span m="843920">to</span> <span m="844020">work</span> <span m="844180">correctly?</span> </p>
<p><span m="848612">AUDIENCE: Order</span> <span m="849111">1.</span> </p>
<p><span m="851110">PROFESSOR: I</span> <span m="851260">promised</span> <span m="851520">you</span> <span m="851670">that</span> <span m="852110">computing</span> <span m="852540">hash</span> <span m="852830">there</span> <span m="853180">is order</span> <span m="853360">1,</span> <span m="853550">right?</span> <span m="854290">So</span> <span m="854590">I</span> <span m="854700">have</span> <span m="854870">to--</span> <span m="858940">OK.</span> <span m="859590">Let's</span> <span m="859850">see</span> <span m="859940">how</span> <span m="860100">we're</span> <span m="860230">going</span> <span m="860450">to</span> <span m="860560">make</span> <span m="860740">this</span> <span m="860900">happen.</span> <span m="861880">So</span> <span m="862070">these</span> <span m="862270">are</span> <span m="862390">letters.</span> <span m="862910">These</span> <span m="863580">make</span> <span m="863890">sense</span> <span m="864260">when</span> <span m="864490">we're</span> <span m="864620">trying</span> <span m="864870">to</span> <span m="864960">understand</span> <span m="866170">string</span> <span m="866460">matching.</span> <span m="867420">But</span> <span m="867940">now</span> <span m="868130">we're</span> <span m="868280">going</span> <span m="868480">to</span> <span m="868610">switch</span> <span m="868880">the</span> <span m="868960">numbers,</span> <span m="869350">because</span> <span m="869640">after</span> <span m="869990">all,</span> <span m="870360">strings</span> <span m="870800">are</span> <span m="871110">sequences</span> <span m="871425">of</span> <span m="871740">characters,</span> <span m="872250">and</span> <span m="872370">characters</span> <span m="872860">are</span> <span m="872960">numbers.</span> <span m="873820">And</span> <span m="874050">because</span> <span m="875190">I</span> <span m="875290">know</span> <span m="875450">how</span> <span m="875540">to</span> <span m="875660">do</span> <span m="875780">math</span> <span m="876040">on</span> <span m="876150">numbers,</span> <span m="876540">I</span> <span m="876640">don't</span> <span m="876830">know</span> <span m="876900">how</span> <span m="877100">to</span> <span m="877180">do</span> <span m="877290">math</span> <span m="877550">on</span> <span m="877640">characters.</span> <span m="878760">So</span> <span m="878860">let's</span> <span m="879080">use</span> <span m="879320">this</span> <span m="879660">list.</span> <span m="881640">Let's</span> <span m="881780">say</span> <span m="881890">that</span> <span m="882080">instead</span> <span m="882390">of</span> <span m="882500">having</span> <span m="882770">numbers</span> <span m="883100">in</span> <span m="883210">base</span> <span m="883410">256</span> <span m="884080">which</span> <span m="884290">is</span> <span m="884570">[INAUDIBLE],</span> <span m="885080">we're</span> <span m="885240">going</span> <span m="885500">to</span> <span m="885630">have</span> <span m="885970">numbers</span> <span m="886350">in</span> <span m="886470">base</span> <span m="886710">100,</span> <span m="887170">because</span> <span m="887990">it's</span> <span m="888160">really</span> <span m="888340">easy</span> <span m="888540">to</span> <span m="888670">do</span> <span m="889020">operations</span> <span m="889670">in</span> <span m="889780">base</span> <span m="889970">100</span> <span m="890380">on</span> <span m="890490">paper.</span> </p>
<p><span m="893050">So</span> <span m="894310">3,</span> <span m="895810">14,</span> <span m="896810">15,</span> <span m="897810">92,</span> <span m="899310">55,</span> <span m="901190">35,</span> <span m="903070">89,</span> <span m="905750">79,</span> <span m="907856">31.</span> <span m="909500">So</span> <span m="909660">these</span> <span m="909890">are</span> <span m="910030">all</span> <span m="910210">base</span> <span m="910490">100</span> <span m="911200">numbers.</span> <span m="912270">And</span> <span m="912620">say</span> <span m="912740">my</span> <span m="912910">rolling</span> <span m="913270">window</span> <span m="913630">is</span> <span m="913770">size</span> <span m="914140">5.</span> <span m="916280">One,</span> <span m="916600">two,</span> <span m="916900">three,</span> <span m="917280">four,</span> <span m="917560">five.</span> <span m="921980">So</span> <span m="922780">I</span> <span m="923060">want</span> <span m="923380">to</span> <span m="923470">come</span> <span m="923640">up</span> <span m="923790">with</span> <span m="923960">a</span> <span m="924030">way</span> <span m="924270">so</span> <span m="924470">that</span> <span m="925180">I</span> <span m="925280">have</span> <span m="925490">the</span> <span m="925580">hash</span> <span m="925850">of</span> <span m="926010">this</span> <span m="927010">and</span> <span m="927230">then</span> <span m="929320">when</span> <span m="929560">I</span> <span m="929640">slide</span> <span m="930010">my</span> <span m="930150">window,</span> <span m="931380">I</span> <span m="931470">will</span> <span m="931630">get</span> <span m="931790">the</span> <span m="931880">hash</span> <span m="932140">of</span> <span m="932280">this.</span> <span m="935280">What</span> <span m="935770">hashing</span> <span m="936150">method</span> <span m="936530">do</span> <span m="936630">we</span> <span m="936830">use</span> <span m="937120">for</span> <span m="937330">rolling</span> <span m="937670">hashes?</span> <span m="939370">Does</span> <span m="939510">anyone</span> <span m="939740">remember?</span> </p>
<p><span m="941134">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="943022">PROFESSOR: Mod,</span> <span m="943500">you</span> <span m="943950">said--</span> <span m="946120">I</span> <span m="946220">heard</span> <span m="946500">mod</span> <span m="947100">something.</span> </p>
<p><span m="947590">AUDIENCE: Yeah,</span> <span m="948080">that's what I</span> <span m="948570">said.</span> </p>
<p><span m="949060">PROFESSOR: OK,</span> <span m="949550">so?</span> <span m="951020">So?</span> <span m="951970">So</span> <span m="952410">the</span> <span m="952740">hash</span> <span m="953180">is?</span> <span m="955740">The</span> <span m="956190">hash of a</span> <span m="956340">key</span> <span m="956650">is?</span> </p>
<p><span m="958010">AUDIENCE: It's k mod m</span> <span m="958830">or m</span> <span m="959120">k.</span> <span m="960304">[INAUDIBLE].</span> </p>
<p><span m="961060">PROFESSOR: OK.</span> <span m="969240">I'm</span> <span m="969340">going</span> <span m="969540">to</span> <span m="969660">say</span> <span m="969830">k mod</span> <span m="970320">something,</span> <span m="970760">and</span> <span m="971160">I'm</span> <span m="971270">going</span> <span m="971500">to</span> <span m="971630">say</span> <span m="971770">that</span> <span m="972210">something</span> <span m="972720">has</span> <span m="973100">to</span> <span m="973190">be</span> <span m="973390">a</span> <span m="973470">prime</span> <span m="973760">number</span> <span m="974110">and</span> <span m="974250">we'll</span> <span m="974370">see</span> <span m="974560">why</span> <span m="974730">in</span> <span m="974850">a</span> <span m="974900">bit.</span> <span m="977650">Let's</span> <span m="977960">say</span> <span m="978180">our</span> <span m="978320">prime</span> <span m="978570">number</span> <span m="978900">is</span> <span m="979030">23.</span> <span m="982850">So</span> <span m="983000">let's</span> <span m="983190">compute</span> <span m="983500">the</span> <span m="983580">value</span> <span m="984020">of</span> <span m="984270">the</span> <span m="985010">hash</span> <span m="985250">for</span> <span m="985420">the</span> <span m="985560">sliding</span> <span m="985950">window</span> <span m="987590">of</span> <span m="987790">the</span> <span m="987880">first</span> <span m="988250">sliding</span> <span m="988590">window</span> <span m="988880">and</span> <span m="988990">then</span> <span m="989150">we'll</span> <span m="989290">compute</span> <span m="989640">the</span> <span m="989710">hash</span> <span m="989920">for</span> <span m="990050">the</span> <span m="990150">second</span> <span m="990440">sliding</span> <span m="990850">window.</span> <span m="992880">Oh,</span> <span m="993130">there</span> <span m="993240">is</span> <span m="993310">some</span> <span m="993530">at</span> <span m="993600">the</span> <span m="993700">computer,</span> <span m="993965">sweet.</span> <span m="995900">314159265</span> <span m="1002780">modulo</span> <span m="1004070">23</span> <span m="1004780">is</span> <span m="1004940">how</span> <span m="1005050">much?</span> <span m="1012520">OK,</span> <span m="1012750">while</span> <span m="1012960">you're</span> <span m="1013100">doing</span> <span m="1013320">that,</span> <span m="1013540">can</span> <span m="1013680">someone</span> <span m="1014020">tell</span> <span m="1014170">me</span> <span m="1014290">what</span> <span m="1014530">computation</span> <span m="1015170">will</span> <span m="1015290">he</span> <span m="1015430">need</span> <span m="1015610">to</span> <span m="1015720">do</span> <span m="1015870">for</span> <span m="1016080">the</span> <span m="1016260">second</span> <span m="1017010">sliding</span> <span m="1017420">window?</span> </p>
<p><span m="1019199">AUDIENCE: 1519265359.</span> </p>
<p><span m="1023840">PROFESSOR: 159265359.</span> </p>
<p><span m="1027920">AUDIENCE: That's a third sign.</span> </p>
<p><span m="1029405">AUDIENCE: There's a</span> <span m="1029900">1-4 before</span> <span m="1030395">that.</span> </p>
<p><span m="1031385">AUDIENCE: The</span> <span m="1031880">first one is</span> <span m="1032375">11.</span> </p>
<p><span m="1036349">PROFESSOR: OK.</span> <span m="1038550">And what's</span> <span m="1038730">the</span> <span m="1038839">second</span> <span m="1038930">one?</span> </p>
<p><span m="1039593">AUDIENCE: [INAUDIBLE]</span> <span m="1044533">adding--</span> </p>
<p><span m="1045530">PROFESSOR: 1415926335</span> <span m="1047226">modulo</span> <span m="1047650">23.</span> </p>
<p><span m="1050071">AUDIENCE: 5.</span> </p>
<p><span m="1054055">PROFESSOR: I heard a</span> <span m="1054560">5 and a</span> <span m="1054690">7.</span> <span m="1056400">OK.</span> </p>
<p><span m="1057115">AUDIENCE: Hold on,</span> <span m="1057430">hold on.</span> </p>
<p><span m="1062230">PROFESSOR: I'll</span> <span m="1062350">take</span> <span m="1062540">the</span> <span m="1062630">average</span> <span m="1062920">of</span> <span m="1063030">those</span> <span m="1063270">two</span> <span m="1063490">and</span> <span m="1063740">we</span> <span m="1063880">can</span> <span m="1064070">move on,</span> <span m="1064370">right?</span> </p>
<p><span m="1064862">AUDIENCE: Three</span> <span m="1065354">five,</span> <span m="1066830">and arguably</span> <span m="1067322">6.</span> </p>
<p><span m="1069290">PROFESSOR: All</span> <span m="1069782">right,</span> <span m="1071760">so</span> <span m="1071850">let's</span> <span m="1072170">implement</span> <span m="1073140">an</span> <span m="1073270">operation</span> <span m="1073860">called</span> <span m="1074150">slide.</span> <span m="1078860">And</span> <span m="1079050">slide</span> <span m="1079400">will</span> <span m="1079640">take</span> <span m="1080490">the</span> <span m="1080730">new</span> <span m="1080880">number</span> <span m="1081250">that</span> <span m="1081940">I'm</span> <span m="1082070">sliding</span> <span m="1082670">in.</span> <span m="1085630">And</span> <span m="1085920">the</span> <span m="1086030">old</span> <span m="1086180">number</span> <span m="1086530">that</span> <span m="1086760">I'm</span> <span m="1086880">sliding</span> <span m="1087300">out,</span> <span m="1088010">making</span> <span m="1088340">my</span> <span m="1088480">life</span> <span m="1088720">really</span> <span m="1088940">easy.</span> <span m="1091260">So</span> <span m="1091470">in</span> <span m="1091590">this</span> <span m="1091800">case,</span> <span m="1092140">the</span> <span m="1092240">numbers</span> <span m="1092680">would</span> <span m="1092820">be--</span> </p>
<p><span m="1095625">AUDIENCE: The new</span> <span m="1096090">one</span> <span m="1096555">is</span> <span m="1097020">35.</span> </p>
<p><span m="1098880">PROFESSOR: And</span> <span m="1099225">the</span> <span m="1099570">old one?</span> </p>
<p><span m="1100720">AUDIENCE: 3.</span> </p>
<p><span m="1106420">PROFESSOR: Excellent.</span> <span m="1107000">And</span> <span m="1107290">I</span> <span m="1107350">want</span> <span m="1107630">to</span> <span m="1107890">have</span> <span m="1110450">an</span> <span m="1110540">internal</span> <span m="1110930">state</span> <span m="1111320">called</span> <span m="1111780">hash</span> <span m="1112440">that</span> <span m="1113500">has</span> <span m="1114440">11</span> <span m="1114940">and</span> <span m="1115160">I</span> <span m="1115230">want</span> <span m="1116030">to</span> <span m="1116260">get</span> <span m="1116520">6</span> <span m="1117510">after</span> <span m="1117860">I'm</span> <span m="1117990">done</span> <span m="1118330">running</span> <span m="1118630">slide.</span> <span m="1120640">This</span> <span m="1120800">is</span> <span m="1120900">still</span> <span m="1121140">too</span> <span m="1121280">hard</span> <span m="1121560">for</span> <span m="1121700">me,</span> <span m="1121820">so</span> <span m="1122000">before</span> <span m="1122310">we</span> <span m="1122450">figure</span> <span m="1122750">out</span> <span m="1122920">hash,</span> <span m="1123260">let's</span> <span m="1123470">say</span> <span m="1123610">that</span> <span m="1123820">we</span> <span m="1123940">have</span> <span m="1124820">an</span> <span m="1124960">internal</span> <span m="1125400">state</span> <span m="1125740">called</span> <span m="1126160">n.</span> <span m="1127320">And</span> <span m="1127700">n</span> <span m="1127980">is</span> <span m="1128210">this</span> <span m="1128620">big</span> <span m="1128860">number</span> <span m="1129180">here.</span> <span m="1131820">So</span> <span m="1131950">I</span> <span m="1131990">want</span> <span m="1132150">to</span> <span m="1132200">get</span> <span m="1132390">from</span> <span m="1132600">this</span> <span m="1132820">big</span> <span m="1132980">number</span> <span m="1133650">to</span> <span m="1133710">this</span> <span m="1133980">big</span> <span m="1134160">number.</span> <span m="1134970">What</span> <span m="1135160">am</span> <span m="1135270">I</span> <span m="1135350">going</span> <span m="1135590">to</span> <span m="1135700">do?</span> </p>
<p><span m="1138852">AUDIENCE: Mod</span> <span m="1139816">3,000</span> <span m="1140298">[INAUDIBLE].</span> </p>
<p><span m="1146580">PROFESSOR: OK,</span> <span m="1146850">so</span> <span m="1147060">you</span> <span m="1147200">want</span> <span m="1147350">to</span> <span m="1147480">take</span> <span m="1148270">the</span> <span m="1148380">big</span> <span m="1148550">number</span> <span m="1151140">159265</span> <span m="1156140">and</span> <span m="1157630">mod it.</span> </p>
<p><span m="1160040">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="1167470">PROFESSOR: So</span> <span m="1167650">if</span> <span m="1167800">I</span> <span m="1167870">mod it</span> <span m="1168140">to</span> <span m="1168190">by</span> <span m="1168330">a</span> <span m="1168420">big</span> <span m="1168580">number,</span> <span m="1169080">that's</span> <span m="1169180">going</span> <span m="1169330">to</span> <span m="1169400">be</span> <span m="1169530">too</span> <span m="1169690">slow.</span> <span m="1170570">So</span> <span m="1170730">I</span> <span m="1170800">can't</span> <span m="1171050">mod it.</span> </p>
<p><span m="1171860">AUDIENCE: Can't you</span> <span m="1172350">just</span> <span m="1172840">divide</span> <span m="1173330">it?</span> </p>
<p><span m="1175070">PROFESSOR: Division</span> <span m="1175450">is</span> <span m="1175590">also</span> <span m="1175840">slow,</span> <span m="1176020">I don't</span> <span m="1176130">like</span> <span m="1176460">the</span> <span m="1176520">division.</span> <span m="1176900">I</span> <span m="1177090">like</span> <span m="1177290">subtraction,</span> <span m="1177850">someone said</span> <span m="1178250">subtraction.</span> <span m="1179670">So</span> <span m="1181590">what</span> <span m="1181770">I</span> <span m="1181810">want</span> <span m="1182040">to</span> <span m="1182150">do</span> <span m="1182310">is</span> <span m="1182440">I</span> <span m="1182500">want</span> <span m="1182670">to</span> <span m="1182760">get</span> <span m="1182970">from</span> <span m="1183160">here</span> <span m="1183690">to</span> <span m="1183930">a</span> <span m="1183980">number</span> <span m="1184320">that--</span> <span m="1185120">to</span> <span m="1185190">this</span> <span m="1185420">number,</span> <span m="1185720">right?</span> <span m="1185930">So</span> <span m="1186000">I</span> <span m="1186060">want</span> <span m="1186240">to</span> <span m="1186290">get</span> <span m="1186520">rid</span> <span m="1186690">of</span> <span m="1186800">the</span> <span m="1186900">3</span> <span m="1187280">and</span> <span m="1187480">I</span> <span m="1187520">want</span> <span m="1187790">to</span> <span m="1187960">add</span> <span m="1188260">35</span> <span m="1188550">at the</span> <span m="1188800">end.</span> <span m="1190410">To</span> <span m="1190540">get</span> <span m="1190760">rid</span> <span m="1190910">of</span> <span m="1191020">the</span> <span m="1191130">3,</span> <span m="1191400">what</span> <span m="1191550">do</span> <span m="1191660">I</span> <span m="1191750">subtract?</span> </p>
<p><span m="1193600">AUDIENCE: 3</span> <span m="1193860">with a bunch of</span> <span m="1194120">0s.</span> </p>
<p><span m="1195000">PROFESSOR: 3</span> <span m="1195330">with a</span> <span m="1195490">bunch of</span> <span m="1195690">0s.</span> <span m="1196280">Excellent.</span> <span m="1196760">1,</span> <span m="1197020">2,</span> <span m="1197210">3,</span> <span m="1197510">4,</span> <span m="1197770">5,</span> <span m="1198180">6,</span> <span m="1199026">7,</span> <span m="1199450">8.</span> <span m="1199880">How</span> <span m="1200070">many</span> <span m="1200340">of</span> <span m="1200440">them</span> <span m="1200590">are</span> <span m="1200730">there?</span> </p>
<p><span m="1201565">AUDIENCE: 8.</span> </p>
<p><span m="1202990">PROFESSOR: OK,</span> <span m="1203230">how</span> <span m="1203380">many</span> <span m="1203940">digits</span> <span m="1204090">conveys</span> <span m="1204320">100?</span> </p>
<p><span m="1205802">AUDIENCE: Oh,</span> <span m="1207215">2</span> <span m="1207686">right?</span> </p>
<p><span m="1209310">AUDIENCE: 4.</span> </p>
<p><span m="1210840">AUDIENCE: Oh,</span> <span m="1211176">oh.</span> </p>
<p><span m="1212550">PROFESSOR: 4.</span> <span m="1214502">So</span> <span m="1214990">base</span> <span m="1215240">100,</span> <span m="1215670">so</span> <span m="1216010">two</span> <span m="1216170">numbers--</span> </p>
<p><span m="1216435">AUDIENCE: One</span> <span m="1216700">base</span> <span m="1217083">100</span> <span m="1217466">number is two</span> <span m="1217850">digits.</span> <span m="1219130">Yep.</span> </p>
<p><span m="1219470">PROFESSOR: So</span> <span m="1219755">8.</span> <span m="1220820">yeah,</span> <span m="1221286">OK,</span> <span m="1222220">4.</span> <span m="1222810">Cool.</span> <span m="1225000">So</span> <span m="1225430">let's</span> <span m="1225660">try</span> <span m="1225820">to</span> <span m="1225980">write</span> <span m="1226260">this</span> <span m="1226670">in</span> <span m="1229200">a</span> <span m="1229330">more abstract</span> <span m="1229635">way.</span> <span m="1229940">So</span> <span m="1230940">n</span> <span m="1231430">is</span> <span m="1233270">the</span> <span m="1233410">old</span> <span m="1233650">n</span> <span m="1235120">minus</span> <span m="1237620">old,</span> <span m="1237900">right,</span> <span m="1238160">so that</span> <span m="1238450">3</span> <span m="1238640">is</span> <span m="1238800">old</span> <span m="1240930">times</span> <span m="1242710">what</span> <span m="1242960">do I</span> <span m="1243010">have</span> <span m="1243120">to</span> <span m="1243210">multiply it</span> <span m="1243780">by</span> <span m="1243920">to</span> <span m="1244070">get</span> <span m="1247110">all</span> <span m="1247250">those</span> <span m="1247430">zeros?</span> </p>
<p><span m="1248844">k</span> <span m="1249316">minus</span> <span m="1249788">1?</span> <span m="1252620">[INAUDIBLE]</span> <span m="1253570">to</span> <span m="1253880">that base</span> <span m="1254480">whatever.</span> </p>
<p><span m="1255710">PROFESSOR: OK,</span> <span m="1255960">so--</span> <span m="1258050">base</span> <span m="1258590">to</span> <span m="1258680">the</span> <span m="1258810">size</span> <span m="1260100">to</span> <span m="1260530">something.</span> <span m="1261980">K</span> <span m="1262130">minus</span> <span m="1262510">1.</span> <span m="1264420">So</span> <span m="1264590">K is</span> <span m="1264930">5</span> <span m="1265160">in</span> <span m="1265270">this</span> <span m="1265440">case,</span> <span m="1265670">right?</span> <span m="1265940">My</span> <span m="1266100">window</span> <span m="1266510">is</span> <span m="1266970">5.</span> <span m="1267750">And</span> <span m="1267920">I</span> <span m="1268000">see</span> <span m="1268190">a</span> <span m="1268260">4</span> <span m="1268560">there,</span> <span m="1268840">so</span> <span m="1269110">I'm</span> <span m="1269250">going</span> <span m="1269480">to</span> <span m="1269590">add</span> <span m="1269730">the</span> <span m="1269800">minus</span> <span m="1270150">1</span> <span m="1270740">just</span> <span m="1270970">because</span> <span m="1271660">that's</span> <span m="1271980">what</span> <span m="1272110">I</span> <span m="1272180">need</span> <span m="1272350">to</span> <span m="1272450">do.</span> <span m="1273620">OK,</span> <span m="1273840">so</span> <span m="1273980">then</span> <span m="1274170">I</span> <span m="1274240">get</span> <span m="1274580">14159265.</span> <span m="1279030">What</span> <span m="1279240">do</span> <span m="1279310">I</span> <span m="1279410">do</span> <span m="1279910">to</span> <span m="1280100">tack</span> <span m="1280380">on</span> <span m="1280520">a</span> <span m="1280580">35</span> <span m="1281050">at</span> <span m="1281140">the</span> <span m="1281240">end?</span> </p>
<p><span m="1283488">AUDIENCE: [INAUDIBLE]</span> <span m="1284472">35.</span> </p>
<p><span m="1285460">PROFESSOR: OK,</span> <span m="1285800">times</span> <span m="1286090">the</span> <span m="1286180">base,</span> <span m="1286550">so</span> <span m="1286680">that's</span> <span m="1286870">going</span> <span m="1287000">to</span> <span m="1287060">give</span> <span m="1287190">me</span> <span m="1287300">the</span> <span m="1287410">zeroes.</span> <span m="1288720">And</span> <span m="1289160">then</span> <span m="1289760">this</span> <span m="1289910">is</span> <span m="1290020">a</span> <span m="1290070">minus</span> <span m="1290410">here.</span> <span m="1291140">And</span> <span m="1291220">then</span> <span m="1291380">I'm</span> <span m="1291470">going</span> <span m="1291740">to</span> <span m="1291930">add</span> <span m="1292300">35.</span> <span m="1293910">Right?</span> <span m="1295570">1415926535.</span> <span m="1300420">Look,</span> <span m="1300910">it's</span> <span m="1301180">right.</span> <span m="1302320">So</span> <span m="1303040">what</span> <span m="1303240">do I write</span> <span m="1303530">here?</span> </p>
<p><span m="1305770">AUDIENCE: The</span> <span m="1306265">base</span> <span m="1306760">first.</span> </p>
<p><span m="1308245">PROFESSOR: Good</span> <span m="1308740">point.</span> <span m="1316170">OK.</span> <span m="1319560">Let me</span> <span m="1319870">play</span> <span m="1320020">with</span> <span m="1320130">this</span> <span m="1320470">a</span> <span m="1320490">little</span> <span m="1320760">bit</span> <span m="1320930">before</span> <span m="1321170">we</span> <span m="1321270">go</span> <span m="1321410">further.</span> <span m="1324380">I'm</span> <span m="1324500">going</span> <span m="1324710">to</span> <span m="1324790">distribute</span> <span m="1325240">the</span> <span m="1325330">base</span> <span m="1325650">here.</span> <span m="1325900">So</span> <span m="1326090">this</span> <span m="1326330">is</span> <span m="1327330">n</span> <span m="1327590">times</span> <span m="1327880">base</span> <span m="1328510">minus</span> <span m="1329820">old</span> <span m="1330420">times</span> <span m="1332310">base</span> <span m="1332630">to</span> <span m="1332730">the</span> <span m="1332880">k</span> <span m="1334180">plus</span> <span m="1335900">mu.</span> <span m="1337340">And</span> <span m="1338080">let's</span> <span m="1338310">rename</span> <span m="1338620">base</span> <span m="1338990">to</span> <span m="1339090">size</span> <span m="1339600">to</span> <span m="1339720">be</span> <span m="1339830">the</span> <span m="1339960">size</span> <span m="1340220">of</span> <span m="1340350">the</span> <span m="1340460">window,</span> <span m="1340910">I</span> <span m="1341030">don't</span> <span m="1341210">like</span> <span m="1341480">k.</span> <span m="1343850">And</span> <span m="1344110">I'm</span> <span m="1344180">renaming</span> <span m="1344640">it</span> <span m="1344760">because</span> <span m="1345420">later</span> <span m="1345820">on</span> <span m="1345910">we're</span> <span m="1346060">going</span> <span m="1346340">to</span> <span m="1347690">break</span> <span m="1348010">our slide</span> <span m="1348470">into</span> <span m="1348815">appends</span> <span m="1349160">and</span> <span m="1349780">skip</span> <span m="1350560">and</span> <span m="1350870">the</span> <span m="1350970">size</span> <span m="1351260">won't</span> <span m="1351420">be</span> <span m="1351530">constant</span> <span m="1351940">anymore.</span> <span m="1355550">OK</span> <span m="1355920">so</span> <span m="1356050">does</span> <span m="1356260">this</span> <span m="1356410">make</span> <span m="1356570">sense?</span> <span m="1357750">It's all</span> <span m="1358000">math.</span> <span m="1358360">So</span> <span m="1358530">this</span> <span m="1358770">math</span> <span m="1359040">here</span> <span m="1359310">becomes</span> <span m="1359760">abstract</span> <span m="1360250">math</span> <span m="1360500">here.</span> <span m="1361330">But</span> <span m="1361490">nothing</span> <span m="1361770">else</span> <span m="1361960">changes.</span> </p>
<p><span m="1367610">OK,</span> <span m="1367860">so</span> <span m="1368040">now</span> <span m="1368260">I</span> <span m="1368390">want</span> <span m="1368680">to</span> <span m="1369560">get</span> <span m="1370400">hash--</span> <span m="1371150">I</span> <span m="1371380">want</span> <span m="1371580">to</span> <span m="1371750">get</span> <span m="1371930">hash</span> <span m="1372420">out</span> <span m="1372550">of</span> <span m="1372690">n,</span> <span m="1372910">how</span> <span m="1373080">do I</span> <span m="1373250">do</span> <span m="1373380">that?</span> </p>
<p><span m="1375960">AUDIENCE: Mod</span> <span m="1376416">23.</span> </p>
<p><span m="1378280">PROFESSOR: Mod</span> <span m="1378630">23,</span> <span m="1378790">very</span> <span m="1379020">good.</span> <span m="1379880">So</span> <span m="1380280">in</span> <span m="1380410">a</span> <span m="1380490">general</span> <span m="1380860">way,</span> <span m="1381400">I</span> <span m="1381510">would</span> <span m="1381720">say</span> <span m="1383620">mod</span> <span m="1383780">p.</span> <span m="1387040">OK</span> <span m="1387320">so</span> <span m="1389270">hash</span> <span m="1390036">is</span> <span m="1391500">n</span> <span m="1393020">times</span> <span m="1393350">base</span> <span m="1394720">minus</span> <span m="1396570">old</span> <span m="1397010">times</span> <span m="1398450">base</span> <span m="1398800">to</span> <span m="1398860">the</span> <span m="1398970">size</span> <span m="1400510">plus</span> <span m="1400910">new</span> <span m="1402930">mod</span> <span m="1404100">p.</span> <span m="1406250">Now</span> <span m="1406390">let's</span> <span m="1406560">distribute</span> <span m="1407090">this.</span> <span m="1407310">I know</span> <span m="1407510">I</span> <span m="1407570">can</span> <span m="1407740">distribute</span> <span m="1408250">modulo</span> <span m="1408750">across</span> <span m="1409120">addition</span> <span m="1409490">and</span> <span m="1409620">subtraction,</span> <span m="1410310">so</span> <span m="1410450">I</span> <span m="1410620">have</span> <span m="1414570">n</span> <span m="1414900">mod</span> <span m="1415210">p</span> <span m="1415800">times</span> <span m="1416190">base</span> <span m="1417830">minus</span> <span m="1419830">old</span> <span m="1420680">times</span> <span m="1422790">base</span> <span m="1423130">to</span> <span m="1423230">the</span> <span m="1423400">size</span> <span m="1424320">mod</span> <span m="1424710">p</span> <span m="1426700">plus</span> <span m="1427830">new.</span> <span m="1428550">And</span> <span m="1428730">everything</span> <span m="1429120">still</span> <span m="1429370">has</span> <span m="1429570">to</span> <span m="1429670">be</span> <span m="1429780">a</span> <span m="1429810">mod</span> <span m="1430090">p.</span> <span m="1433670">So</span> <span m="1434480">can</span> <span m="1434660">someone</span> <span m="1435090">tell</span> <span m="1435300">me</span> <span m="1438510">where</span> <span m="1438810">did</span> <span m="1439010">I</span> <span m="1439090">add</span> <span m="1439540">the</span> <span m="1439740">mod</span> <span m="1439780">p?</span> <span m="1443200">Why</span> <span m="1443400">did</span> <span m="1443580">I</span> <span m="1443660">put</span> <span m="1443900">it</span> <span m="1444750">here</span> <span m="1445360">and</span> <span m="1445520">here?</span> </p>
<p><span m="1450927">AUDIENCE: [INAUDIBLE]</span> <span m="1452406">the</span> <span m="1452899">original?</span> </p>
<p><span m="1454380">PROFESSOR: OK,</span> <span m="1454630">nmodp</span> <span m="1454930">is</span> <span m="1455060">hash,</span> <span m="1456770">let's</span> <span m="1457010">do</span> <span m="1457080">that.</span> <span m="1463150">So</span> <span m="1463340">what's</span> <span m="1463610">true</span> <span m="1463860">about</span> <span m="1464230">both</span> <span m="1464680">n</span> <span m="1465170">and</span> <span m="1465800">base</span> <span m="1466080">to</span> <span m="1466160">the</span> <span m="1466260">size?</span> </p>
<p><span m="1467596">AUDIENCE: Constant.</span> </p>
<p><span m="1469370">PROFESSOR: Constant?</span> </p>
<p><span m="1471952">AUDIENCE: Like</span> <span m="1472918">can you</span> <span m="1473884">please</span> <span m="1474367">repeat it?</span> </p>
<p><span m="1474850">AUDIENCE: You</span> <span m="1475333">could</span> <span m="1475816">[INAUDIBLE]</span> <span m="1476310">base to the</span> <span m="1476710">size</span> <span m="1477110">but you can't</span> <span m="1477608">[INAUDIBLE]</span> <span m="1478106">hash,</span> <span m="1478604">I mean</span> <span m="1479102">[INAUDIBLE]--</span> </p>
<p><span m="1479600">PROFESSOR: Hm.</span> <span m="1479770">OK, so</span> <span m="1479920">keep</span> <span m="1480010">this in</span> <span m="1480290">mind</span> <span m="1480550">that</span> <span m="1480690">we</span> <span m="1480890">can</span> <span m="1481230">compute</span> <span m="1481620">this,</span> <span m="1481820">because</span> <span m="1482080">we're</span> <span m="1482190">going</span> <span m="1482350">to</span> <span m="1482400">want</span> <span m="1482580">to</span> <span m="1482660">do</span> <span m="1482770">that</span> <span m="1482950">later.</span> <span m="1483730">But</span> <span m="1483930">what I</span> <span m="1484120">had</span> <span m="1484440">in</span> <span m="1484510">mind</span> <span m="1484790">is</span> <span m="1484920">the</span> <span m="1485010">opposite</span> <span m="1485410">of</span> <span m="1485520">constant,</span> <span m="1485990">because</span> <span m="1486880">n</span> <span m="1487080">is</span> <span m="1487240">huge.</span> <span m="1488130">Right?</span> <span m="1488890">And</span> <span m="1490920">base</span> <span m="1491190">to</span> <span m="1491250">the</span> <span m="1491360">size</span> <span m="1491600">is</span> <span m="1491760">also</span> <span m="1492000">huge,</span> <span m="1493100">right?</span> <span m="1493570">N</span> <span m="1493770">is</span> <span m="1493930">this</span> <span m="1494160">number.</span> <span m="1497080">Base</span> <span m="1497440">to</span> <span m="1497480">the</span> <span m="1497590">size</span> <span m="1498660">is</span> <span m="1498870">this</span> <span m="1499090">number</span> <span m="1499380">here.</span> <span m="1499670">1</span> <span m="1499950">followed</span> <span m="1500220">by</span> <span m="1500330">this</span> <span m="1500560">many</span> <span m="1500770">zeros,</span> <span m="1501060">so</span> <span m="1501230">these</span> <span m="1501420">numbers</span> <span m="1501770">are</span> <span m="1501870">big.</span> <span m="1502910">All</span> <span m="1503090">the</span> <span m="1503210">other</span> <span m="1503390">numbers</span> <span m="1503830">are</span> <span m="1503950">small.</span> <span m="1505060">Base</span> <span m="1505380">is</span> <span m="1505520">small,</span> <span m="1506300">old</span> <span m="1506520">is</span> <span m="1506740">small,</span> <span m="1507310">new</span> <span m="1507580">is</span> <span m="1507700">small,</span> <span m="1508170">p is</span> <span m="1508510">small.</span> </p>
<p><span m="1511100">PROFESSOR: So</span> <span m="1511210">I</span> <span m="1511230">want</span> <span m="1511380">to</span> <span m="1511430">get</span> <span m="1511610">rid</span> <span m="1511730">of</span> <span m="1511820">the</span> <span m="1511920">big</span> <span m="1512080">numbers,</span> <span m="1512410">because</span> <span m="1513490">math</span> <span m="1513850">with</span> <span m="1514010">big</span> <span m="1514210">numbers</span> <span m="1514580">is</span> <span m="1514700">slow.</span> <span m="1516370">So</span> <span m="1516520">unless</span> <span m="1516830">I</span> <span m="1516890">get</span> <span m="1517100">rid</span> <span m="1517230">of</span> <span m="1517330">the</span> <span m="1517420">big</span> <span m="1517590">numbers,</span> <span m="1518270">I'm</span> <span m="1518420">not</span> <span m="1518650">going</span> <span m="1518820">to</span> <span m="1518930">get</span> <span m="1519130">to</span> <span m="1519200">order</span> <span m="1519480">1</span> <span m="1519780">operation.</span> <span m="1521390">So</span> <span m="1521420">we</span> <span m="1521510">already</span> <span m="1521790">got</span> <span m="1522030">rid</span> <span m="1522190">of</span> <span m="1522310">this</span> <span m="1522490">one</span> <span m="1522670">because</span> <span m="1522950">it's</span> <span m="1523110">hash</span> <span m="1524140">and</span> <span m="1525750">how</span> <span m="1525910">do</span> <span m="1525970">I</span> <span m="1526050">get</span> <span m="1526240">rid</span> <span m="1526360">of</span> <span m="1526480">this</span> <span m="1526670">one?</span> </p>
<p><span m="1526980">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="1534242">AUDIENCE: There's</span> <span m="1534733">some</span> <span m="1535224">6042</span> <span m="1535720">algorithm</span> <span m="1536720">that does</span> <span m="1537211">that</span> <span m="1537702">quickly.</span> </p>
<p><span m="1538193">AUDIENCE: Well, we</span> <span m="1538684">definitely</span> <span m="1539175">just went over this</span> <span m="1539666">in class</span> <span m="1540157">today.</span> </p>
<p><span m="1541465">AUDIENCE: Which is</span> <span m="1542130">why</span> <span m="1542330">you</span> <span m="1542715">needed the</span> <span m="1543100">prime</span> <span m="1543590">number,</span> <span m="1544080">right?</span> </p>
<p><span m="1546040">PROFESSOR: Not</span> <span m="1546280">quite.</span> <span m="1546580">There</span> <span m="1546760">is</span> <span m="1546880">an</span> <span m="1547000">algorithm</span> <span m="1547420">that</span> <span m="1547620">does</span> <span m="1547820">it</span> <span m="1547970">quickly.</span> <span m="1548420">That</span> <span m="1548610">algorithm</span> <span m="1549150">is</span> <span m="1549290">called</span> <span m="1549500">repeated</span> <span m="1549920">squaring</span> <span m="1550810">and</span> <span m="1551890">the</span> <span m="1552080">quickest--</span> <span m="1554050">wait,</span> <span m="1554320">I'm</span> <span m="1554410">not done,</span> <span m="1554770">I</span> <span m="1554850">promise</span> <span m="1555230">I'm</span> <span m="1555330">not</span> <span m="1555470">done.</span> <span m="1555640">So</span> <span m="1556680">the</span> <span m="1556820">quickest</span> <span m="1557200">that</span> <span m="1557480">this</span> <span m="1557770">guy</span> <span m="1557900">can</span> <span m="1558110">run</span> <span m="1558370">if</span> <span m="1558480">you</span> <span m="1558570">do</span> <span m="1558730">everything</span> <span m="1559170">right</span> <span m="1559890">is</span> <span m="1561250">order</span> <span m="1561850">of</span> <span m="1562970">[? log ?]</span> <span m="1563280">size.</span> <span m="1565520">If</span> <span m="1566190">the</span> <span m="1566300">window</span> <span m="1566540">size</span> <span m="1566920">is</span> <span m="1567140">1</span> <span m="1567370">megabyte,</span> <span m="1567970">10</span> <span m="1568140">megabytes,</span> <span m="1568710">if</span> <span m="1568820">the</span> <span m="1568930">window</span> <span m="1569210">size</span> <span m="1569490">keeps</span> <span m="1569720">growing,</span> <span m="1571130">if</span> <span m="1571280">the</span> <span m="1571370">window</span> <span m="1571580">size</span> <span m="1571790">is</span> <span m="1571920">part</span> <span m="1572130">of</span> <span m="1572250">the</span> <span m="1572340">input</span> <span m="1572640">size,</span> <span m="1573650">is</span> <span m="1573810">this</span> <span m="1573980">constant?</span> <span m="1575530">Nope.</span> <span m="1576090">So</span> <span m="1576210">I</span> <span m="1576290">can't</span> <span m="1576610">do</span> <span m="1576710">that.</span> <span m="1577610">Someone</span> <span m="1578000">else</span> <span m="1578510">gave</span> <span m="1578740">me</span> <span m="1578870">the</span> <span m="1578990">right</span> <span m="1579170">answer</span> <span m="1579440">before.</span> </p>
<p><span m="1584750">What did</span> <span m="1585330">you</span> <span m="1585450">say</span> <span m="1585630">before?</span> </p>
<p><span m="1586830">AUDIENCE: Pre-compute it?</span> </p>
<p><span m="1587690">PROFESSOR: OK.</span> <span m="1588280">It's</span> <span m="1588450">a</span> <span m="1588550">constant,</span> <span m="1589110">so</span> <span m="1589420">why</span> <span m="1589510">don't</span> <span m="1589700">we</span> <span m="1589880">pre-compute</span> <span m="1589970">it?</span> <span m="1590700">Take</span> <span m="1591460">it</span> <span m="1593110">out</span> <span m="1593280">of</span> <span m="1593390">here,</span> <span m="1593720">compute</span> <span m="1594010">it</span> <span m="1594140">once,</span> <span m="1595070">and</span> <span m="1595300">after</span> <span m="1595530">that,</span> <span m="1595750">we</span> <span m="1595820">can</span> <span m="1595950">use</span> <span m="1596100">it</span> <span m="1596210">all</span> <span m="1596320">the</span> <span m="1596390">time.</span> <span m="1597730">And</span> <span m="1598140">unless</span> <span m="1598420">someone</span> <span m="1598710">has</span> <span m="1598870">a</span> <span m="1598930">better</span> <span m="1599310">name</span> <span m="1599550">for</span> <span m="1599800">it,</span> <span m="1600560">I'm</span> <span m="1600700">going</span> <span m="1600920">to</span> <span m="1601040">call</span> <span m="1601330">this</span> <span m="1601560">magic.</span> <span m="1605050">The</span> <span m="1605160">name</span> <span m="1605330">has</span> <span m="1605460">to</span> <span m="1605550">be</span> <span m="1605640">short,</span> <span m="1605870">by</span> <span m="1606030">the</span> <span m="1606110">way,</span> <span m="1606220">because</span> <span m="1606540">I'll</span> <span m="1606660">be</span> <span m="1606780">writing</span> <span m="1607090">this</span> <span m="1607280">a</span> <span m="1607380">few</span> <span m="1607480">times.</span> </p>
<p><span m="1610250">OK,</span> <span m="1610450">so</span> <span m="1610610">now</span> <span m="1610780">we</span> <span m="1610940">have</span> <span m="1611330">hash</span> <span m="1611770">equals</span> <span m="1612610">hash</span> <span m="1612890">times</span> <span m="1613180">base</span> <span m="1613520">minus</span> <span m="1613890">old</span> <span m="1614270">times</span> <span m="1614540">magic</span> <span m="1615040">plus</span> <span m="1615340">new</span> <span m="1615480">modulo</span> <span m="1615950">p.</span> <span m="1616880">Doesn't</span> <span m="1617110">look</span> <span m="1617290">too bad,</span> <span m="1617530">right?</span> <span m="1618020">Pretty</span> <span m="1618330">constant</span> <span m="1618770">time.</span> <span m="1619870">Now</span> <span m="1620010">let's</span> <span m="1620230">write</span> <span m="1620370">the</span> <span m="1620550">pseudo</span> <span m="1620770">code</span> <span m="1621040">for</span> <span m="1621420">the</span> <span m="1621580">rolling</span> <span m="1621890">hash,</span> <span m="1622720">and</span> <span m="1623000">let's</span> <span m="1623640">break</span> <span m="1623880">this</span> <span m="1624090">out</span> <span m="1624310">into</span> <span m="1625480">an</span> <span m="1625600">append</span> <span m="1625980">and</span> <span m="1626140">a</span> <span m="1626260">skip</span> <span m="1626700">at</span> <span m="1626850">the</span> <span m="1626930">same</span> <span m="1627190">time.</span> </p>
<p><span m="1628362">AUDIENCE: What if</span> <span m="1628823">hash</span> <span m="1629284">is</span> <span m="1629745">bigger</span> <span m="1630206">than your</span> <span m="1630667">word size?</span> </p>
<p><span m="1632980">PROFESSOR: So</span> <span m="1633680">hash is</span> <span m="1633820">always</span> <span m="1634060">going</span> <span m="1634200">to</span> <span m="1634260">be</span> <span m="1634370">something</span> <span m="1634690">modulo</span> <span m="1635040">p.</span> </p>
<p><span m="1635390">AUDIENCE: Oh that's true,</span> <span m="1635883">OK.</span> </p>
<p><span m="1636870">PROFESSOR: So as</span> <span m="1637100">long as</span> <span m="1637510">p is</span> <span m="1637790">decent,</span> <span m="1638890">it's</span> <span m="1639040">not</span> <span m="1639220">going</span> <span m="1639360">to</span> <span m="1639420">get</span> <span m="1639600">too</span> <span m="1639900">big.</span> </p>
<p><span m="1640610">AUDIENCE: All right.</span> <span m="1641050">What if</span> <span m="1641980">old</span> <span m="1642200">and</span> <span m="1642563">new</span> <span m="1643290">[INAUDIBLE]--</span> </p>
<p><span m="1645310">PROFESSOR: So</span> <span m="1645580">old and</span> <span m="1645820">new--</span> </p>
<p><span m="1646190">AUDIENCE: P is a</span> <span m="1646684">big</span> <span m="1647178">number .</span> <span m="1647672">314159269</span> <span m="1648660">is</span> <span m="1650281">possibly</span> <span m="1650690">bigger than</span> <span m="1650890">your</span> <span m="1651260">word</span> <span m="1651320">size,</span> <span m="1651720">right?</span> </p>
<p><span m="1652700">PROFESSOR: Definitely.</span> <span m="1653410">So</span> <span m="1653590">that's</span> <span m="1653760">why</span> <span m="1653860">we're</span> <span m="1654000">getting</span> <span m="1654230">rid</span> <span m="1654360">of</span> <span m="1654460">it.</span> </p>
<p><span m="1657025">AUDIENCE: That is</span> <span m="1657518">true.</span> <span m="1658011">[INAUDIBLE]</span> </p>
<p><span m="1659000">PROFESSOR: So</span> <span m="1659290">this</span> <span m="1659530">is</span> <span m="1660400">k</span> <span m="1661100">digits</span> <span m="1661530">in</span> <span m="1661660">base</span> <span m="1661950">b.</span> <span m="1662810">Too</span> <span m="1662970">much.</span> <span m="1663390">Not</span> <span m="1663570">going</span> <span m="1663700">to</span> <span m="1663770">deal</span> <span m="1663930">with</span> <span m="1664070">it.</span> <span m="1664880">Hash</span> <span m="1665740">is</span> <span m="1666150">one</span> <span m="1666480">digit</span> <span m="1666860">in</span> <span m="1667010">base</span> <span m="1667370">p,</span> <span m="1667635">because</span> <span m="1667900">we're</span> <span m="1668030">doing</span> <span m="1668240">it</span> <span m="1668330">mod</span> <span m="1668600">p.</span> <span m="1669610">Old</span> <span m="1669850">and</span> <span m="1670060">new</span> <span m="1670420">are</span> <span m="1670620">one</span> <span m="1670900">digit</span> <span m="1671370">base</span> <span m="1672010">b.</span> <span m="1673270">So</span> <span m="1674790">hopefully</span> <span m="1675110">small</span> <span m="1675310">numbers.</span> <span m="1676170">OK,</span> <span m="1676460">I</span> <span m="1676510">haven't</span> <span m="1676780">seen</span> <span m="1676910">a</span> <span m="1677040">constructor</span> <span m="1677600">in</span> <span m="1677710">CLRS,</span> <span m="1678240">so</span> <span m="1678320">I'm</span> <span m="1678450">going</span> <span m="1678670">to</span> <span m="1678790">say</span> <span m="1678940">that</span> <span m="1679110">when you</span> <span m="1679360">write</span> <span m="1679610">pseudocode,</span> <span m="1680590">the</span> <span m="1680740">method</span> <span m="1681050">name</span> <span m="1681240">for</span> <span m="1681400">a constructor</span> <span m="1682330">is</span> <span m="1682900">in</span> <span m="1683070">it</span> <span m="1683240">because</span> <span m="1683600">we've</span> <span m="1683710">seen</span> <span m="1683960">this</span> <span m="1684170">before.</span> </p>
<p><span m="1685230">And</span> <span m="1685370">let's say</span> <span m="1685550">our</span> <span m="1685750">constructor</span> <span m="1686240">for a</span> <span m="1686490">rolling</span> <span m="1686800">cache</span> <span m="1687140">starts</span> <span m="1687520">with</span> <span m="1687780">the</span> <span m="1687940">base</span> <span m="1688270">that</span> <span m="1688460">we're</span> <span m="1688580">going</span> <span m="1688860">to</span> <span m="1688980">use.</span> <span m="1690680">And</span> <span m="1691780">it</span> <span m="1691980">builds</span> <span m="1692330">an</span> <span m="1692440">empty</span> <span m="1692870">rolling</span> <span m="1692990">hash,</span> <span m="1693320">so</span> <span m="1693460">first</span> <span m="1693700">there's</span> <span m="1693930">nothing</span> <span m="1694220">in</span> <span m="1694320">it.</span> <span m="1694500">And</span> <span m="1694620">then</span> <span m="1694760">you</span> <span m="1694880">append</span> <span m="1695180">and</span> <span m="1695310">you</span> <span m="1695390">skip</span> <span m="1695740">and</span> <span m="1695850">you</span> <span m="1695920">can</span> <span m="1696080">get</span> <span m="1696240">the</span> <span m="1696350">hash.</span> </p>
<p><span m="1696823">AUDIENCE: What about</span> <span m="1697296">p?</span> <span m="1697770">Shouldn't you</span> <span m="1698133">also do</span> <span m="1698496">p?</span> </p>
<p><span m="1698860">PROFESSOR: Sure.</span> <span m="1700684">Do</span> <span m="1701182">that.</span> <span m="1702680">So</span> <span m="1703840">let's</span> <span m="1704100">say</span> <span m="1704300">base</span> <span m="1704710">and</span> <span m="1704980">p</span> <span m="1705150">are</span> <span m="1705280">set,</span> <span m="1706240">so</span> <span m="1706500">somethings</span> <span m="1707020">sets</span> <span m="1708020">base and</span> <span m="1708250">p.</span> <span m="1709100">And</span> <span m="1709360">we</span> <span m="1709460">need</span> <span m="1709620">to</span> <span m="1709700">compute</span> <span m="1710130">the</span> <span m="1710250">initial</span> <span m="1710580">values</span> <span m="1710970">for</span> <span m="1711200">hash and</span> <span m="1711600">magic.</span> <span m="1718050">What's</span> <span m="1718350">hash?</span> <span m="1720290">Zero.</span> <span m="1720930">There's</span> <span m="1721120">nothing</span> <span m="1721400">in</span> <span m="1721520">there,</span> <span m="1721790">right?</span> <span m="1722060">The</span> <span m="1722130">number</span> <span m="1722410">is</span> <span m="1722490">0.</span> <span m="1723020">What's</span> <span m="1723240">magic?</span> </p>
<p><span m="1725180">AUDIENCE: [INAUDIBLE].</span> <span m="1727180">Well,</span> <span m="1727680">I mean, you can</span> <span m="1728180">calculate it,</span> <span m="1728680">right?</span> </p>
<p><span m="1729680">PROFESSOR: So</span> <span m="1729850">magic</span> <span m="1730260">is</span> <span m="1730450">based</span> <span m="1730870">to</span> <span m="1730930">the</span> <span m="1731050">size</span> <span m="1731400">mod</span> <span m="1731700">p.</span> <span m="1732260">What</span> <span m="1732540">size?</span> </p>
<p><span m="1733894">AUDIENCE: [INAUDIBLE]</span> <span m="1735310">0.</span> <span m="1736254">Just</span> <span m="1736726">one mod</span> <span m="1737198">p.</span> </p>
<p><span m="1738150">PROFESSOR: Yep.</span> <span m="1738700">So</span> <span m="1739550">when</span> <span m="1739750">I</span> <span m="1739820">start,</span> <span m="1740170">I</span> <span m="1740260">have</span> <span m="1740450">an</span> <span m="1740610">empty</span> <span m="1741110">sliding</span> <span m="1741560">window.</span> <span m="1742340">Nothing</span> <span m="1742720">in</span> <span m="1742840">there,</span> <span m="1743190">size is</span> <span m="1743630">0,</span> <span m="1744370">base</span> <span m="1744680">to</span> <span m="1744770">the</span> <span m="1744900">size</span> <span m="1745160">is</span> <span m="1745280">1,</span> <span m="1745630">whatever</span> <span m="1746090">the</span> <span m="1746240">size is.</span> <span m="1748490">Very</span> <span m="1748710">good.</span> <span m="1749600">Let's</span> <span m="1749890">write</span> <span m="1750310">append.</span> <span m="1757390">Hash</span> <span m="1757980">is?</span> <span m="1760310">So</span> <span m="1761220">here,</span> <span m="1761530">we're</span> <span m="1761650">doing</span> <span m="1761950">both</span> <span m="1762260">an</span> <span m="1762380">append</span> <span m="1762880">and</span> <span m="1763200">the</span> <span m="1763300">skip.</span> <span m="1763720">We</span> <span m="1763840">have</span> <span m="1763980">to</span> <span m="1764080">figure</span> <span m="1764350">out</span> <span m="1764630">which</span> <span m="1765240">operation</span> <span m="1765720">belongs</span> <span m="1766060">to</span> <span m="1766130">the</span> <span m="1766270">append,</span> <span m="1766580">which</span> <span m="1766780">operations</span> <span m="1767270">belong</span> <span m="1767540">to</span> <span m="1767640">the</span> <span m="1767740">skip.</span> <span m="1768180">So</span> <span m="1768950">someone</span> <span m="1769290">help me</span> <span m="1769510">out.</span> </p>
<p><span m="1773630">AUDIENCE: We</span> <span m="1774120">know subtraction</span> <span m="1774610">would</span> <span m="1775110">[INAUDIBLE]--</span> </p>
<p><span m="1776110">AUDIENCE: Multiply</span> <span m="1776610">mod</span> <span m="1777110">base</span> <span m="1777610">[INAUDIBLE].</span> </p>
<p><span m="1779610">PROFESSOR: Yup.</span> <span m="1780310">So</span> <span m="1780520">this</span> <span m="1780780">is</span> <span m="1780950">the</span> <span m="1781060">append,</span> <span m="1781460">right?</span> <span m="1785330">And</span> <span m="1786700">this</span> <span m="1786940">is</span> <span m="1787130">the skip.</span> <span m="1791010">So</span> <span m="1792410">hash</span> <span m="1792910">equals</span> <span m="1793320">hash.</span> <span m="1797500">Times</span> <span m="1797960">base</span> <span m="1802380">plus</span> <span m="1802700">new</span> <span m="1803570">mod</span> <span m="1804350">p.</span> <span m="1804960">Very</span> <span m="1805200">good.</span> <span m="1805400">This</span> <span m="1805600">is</span> <span m="1805730">important.</span> <span m="1806300">If</span> <span m="1806400">you</span> <span m="1806490">don't</span> <span m="1806800">put</span> <span m="1806960">this</span> <span m="1807080">in,</span> <span m="1807850">Python</span> <span m="1808200">knows</span> <span m="1808400">how</span> <span m="1808520">to</span> <span m="1808670">deal</span> <span m="1808860">with</span> <span m="1809030">big</span> <span m="1809220">numbers.</span> <span m="1810760">So</span> <span m="1811310">it will</span> <span m="1811710">take</span> <span m="1811930">your</span> <span m="1811950">code</span> <span m="1812205">and</span> <span m="1812460">it'll</span> <span m="1812700">run</span> <span m="1812890">it,</span> <span m="1812990">and</span> <span m="1813120">you'll</span> <span m="1813250">get</span> <span m="1813430">the</span> <span m="1813540">correct</span> <span m="1813880">output.</span> <span m="1814820">But</span> <span m="1815060">hash</span> <span m="1815380">will</span> <span m="1815570">keep</span> <span m="1815790">growing</span> <span m="1816180">and</span> <span m="1816280">growing</span> <span m="1816600">and</span> <span m="1816720">growing</span> <span m="1817060">because</span> <span m="1817410">you're</span> <span m="1817560">computing</span> <span m="1818180">n</span> <span m="1818410">instead</span> <span m="1818780">of</span> <span m="1818940">hash.</span> <span m="1819830">And</span> <span m="1820020">you'll</span> <span m="1820220">wonder</span> <span m="1820610">why</span> <span m="1820750">the</span> <span m="1820870">code is</span> <span m="1821130">so</span> <span m="1821390">slow.</span> <span m="1822710">So</span> <span m="1822840">don't</span> <span m="1823040">forget</span> <span m="1823350">this.</span> <span m="1824430">What</span> <span m="1824640">else</span> <span m="1824820">do</span> <span m="1824900">I</span> <span m="1824970">need</span> <span m="1825150">to</span> <span m="1825210">update?</span> <span m="1829720">OK,</span> <span m="1830540">I</span> <span m="1830690">don't</span> <span m="1830860">have</span> <span m="1830970">a</span> <span m="1831050">constant</span> <span m="1831450">for</span> <span m="1831600">that,</span> <span m="1832010">but</span> <span m="1832280">I</span> <span m="1832370">have</span> <span m="1832530">a</span> <span m="1832610">constant</span> <span m="1832970">I</span> <span m="1833880">for</span> <span m="1834010">something</span> <span m="1834340">else.</span> <span m="1836360">Magic.</span> <span m="1838460">So</span> <span m="1838610">magic</span> <span m="1839070">is</span> <span m="1839530">base to</span> <span m="1839720">the</span> <span m="1840100">size</span> <span m="1840450">mod</span> <span m="1840770">p.</span> <span m="1840980">So</span> <span m="1841230">what</span> <span m="1841400">happened</span> <span m="1841770">to</span> <span m="1841840">the</span> <span m="1841970">window</span> <span m="1842180">size?</span> </p>
<p><span m="1842630">AUDIENCE: Oh.</span> <span m="1843090">Times base</span> <span m="1843550">[INAUDIBLE].</span> </p>
<p><span m="1844930">PROFESSOR: Excellent.</span> <span m="1845420">The</span> <span m="1845550">window</span> <span m="1845790">size</span> <span m="1846060">grows</span> <span m="1846330">by</span> <span m="1846540">1,</span> <span m="1846850">therefore,</span> <span m="1847210">I</span> <span m="1847260">have</span> <span m="1847410">to</span> <span m="1847510">multiply</span> <span m="1848030">this</span> <span m="1848690">by</span> <span m="1848870">base.</span> <span m="1850670">Magic</span> <span m="1851870">times</span> <span m="1853000">base</span> <span m="1854530">mod</span> <span m="1854970">p.</span> </p>
<p><span m="1856110">AUDIENCE: Does</span> <span m="1856570">p</span> <span m="1857030">always have to</span> <span m="1857490">be less</span> <span m="1857925">then the</span> <span m="1858360">base,</span> <span m="1858842">or can it</span> <span m="1859324">be</span> <span m="1859806">anything?</span> </p>
<p><span m="1861740">PROFESSOR: It</span> <span m="1861870">can</span> <span m="1862010">be</span> <span m="1862090">bigger</span> <span m="1862350">than</span> <span m="1862480">the</span> <span m="1862560">base.</span> <span m="1863560">So</span> <span m="1863760">if</span> <span m="1863910">I</span> <span m="1863980">want</span> <span m="1864220">to</span> <span m="1864420">not</span> <span m="1864740">have</span> <span m="1865820">a</span> <span m="1865920">lot</span> <span m="1866140">of</span> <span m="1866370">false</span> <span m="1866870">positives,</span> <span m="1868080">then</span> <span m="1868250">suppose</span> <span m="1868590">my</span> <span m="1868730">base</span> <span m="1869000">is</span> <span m="1869140">256,</span> <span m="1869820">because</span> <span m="1870020">that's</span> <span m="1870600">an</span> <span m="1870840">extra</span> <span m="1871160">character.</span> <span m="1874350">I</span> <span m="1874470">was</span> <span m="1874660">arguing</span> <span m="1875010">earlier</span> <span m="1875350">that</span> <span m="1875540">the</span> <span m="1875620">number</span> <span m="1875930">of</span> <span m="1876010">false</span> <span m="1876330">positives</span> <span m="1876750">that</span> <span m="1876870">I</span> <span m="1876970">have</span> <span m="1877230">is</span> <span m="1877360">1/P</span> <span m="1879180">basically.</span> <span m="1880620">So</span> <span m="1880910">I</span> <span m="1881040">want p</span> <span m="1881280">to</span> <span m="1881390">be</span> <span m="1881510">as</span> <span m="1881650">close</span> <span m="1881890">to</span> <span m="1881980">the</span> <span m="1882110">word</span> <span m="1882310">size</span> <span m="1882520">as</span> <span m="1882670">possible.</span> <span m="1883310">So</span> <span m="1883590">p</span> <span m="1883830">will</span> <span m="1884020">be</span> <span m="1884660">around</span> <span m="1884940">2</span> <span m="1886100">to</span> <span m="1886300">the</span> <span m="1886430">4</span> <span m="1886690">billion.</span> <span m="1888670">So</span> <span m="1888820">definitely</span> <span m="1889120">bigger.</span> <span m="1889920">It</span> <span m="1890000">can</span> <span m="1890180">work</span> <span m="1890480">either</span> <span m="1890730">way.</span> <span m="1891480">It's</span> <span m="1891770">better</span> <span m="1892060">if</span> <span m="1892180">it's</span> <span m="1892320">bigger</span> <span m="1892590">for</span> <span m="1893070">the</span> <span m="1893390">algorithm</span> <span m="1893850">that</span> <span m="1894040">we're</span> <span m="1894120">using</span> <span m="1894390">there.</span> <span m="1895510">All</span> <span m="1895690">right,</span> <span m="1895830">good</span> <span m="1895980">question,</span> <span m="1896310">thank</span> <span m="1896490">you.</span> <span m="1898690">Skip.</span> <span m="1900110">Let's</span> <span m="1900400">implement</span> <span m="1900695">skip.</span> <span m="1904520">Hash</span> <span m="1905060">is?</span> </p>
<p><span m="1906556">AUDIENCE: Hash</span> <span m="1907054">minus</span> <span m="1910540">old</span> <span m="1913528">[INAUDIBLE]</span> <span m="1914524">then</span> <span m="1915022">comes</span> <span m="1915520">magic</span> <span m="1916018">[INAUDIBLE].</span> </p>
<p><span m="1925510">PROFESSOR: OK,</span> <span m="1926010">can</span> <span m="1926220">I</span> <span m="1926260">write</span> <span m="1926440">this</span> <span m="1926620">in</span> <span m="1926810">Python?</span> <span m="1927400">What</span> <span m="1927590">happens</span> <span m="1927880">if</span> <span m="1928030">I</span> <span m="1928080">write</span> <span m="1928300">this?</span> </p>
<p><span m="1930130">AUDIENCE: [INAUDIBLE]</span> <span m="1934050">magic is,</span> <span m="1935030">[INAUDIBLE]</span> <span m="1936500">We</span> <span m="1936990">won't be able to</span> <span m="1937480">find it.</span> </p>
<p><span m="1937970">PROFESSOR: OK</span> <span m="1938260">so--</span> <span m="1938970">sorry,</span> <span m="1939270">not</span> <span m="1939460">in</span> <span m="1939790">Python.</span> <span m="1940560">So</span> <span m="1941360">assume</span> <span m="1941790">all</span> <span m="1941900">these</span> <span m="1942060">are</span> <span m="1942180">instance</span> <span m="1942480">variables</span> <span m="1942940">done</span> <span m="1943070">the</span> <span m="1943160">right</span> <span m="1943410">way,</span> <span m="1943520">but</span> <span m="1944110">what</span> <span m="1944320">happens</span> <span m="1944660">if</span> <span m="1944860">old</span> <span m="1945090">times</span> <span m="1945440">magic</span> <span m="1945840">is</span> <span m="1946000">bigger</span> <span m="1946310">than</span> <span m="1946470">hash?</span> <span m="1949600">I</span> <span m="1949690">get</span> <span m="1949840">a</span> <span m="1949890">negative</span> <span m="1950210">number.</span> <span m="1950900">And</span> <span m="1951720">in</span> <span m="1951920">math,</span> <span m="1952880">people</span> <span m="1953200">assume</span> <span m="1953540">that</span> <span m="1953760">if</span> <span m="1953850">you</span> <span m="1954090">do</span> <span m="1954400">something</span> <span m="1954770">like</span> <span m="1955690">minus</span> <span m="1956230">3</span> <span m="1957640">modulo</span> <span m="1958180">23,</span> <span m="1959370">you're</span> <span m="1959550">going</span> <span m="1959790">to</span> <span m="1959890">get</span> <span m="1960090">20.</span> <span m="1963340">So</span> <span m="1963520">modulo</span> <span m="1964020">is</span> <span m="1964180">always</span> <span m="1964530">positive</span> <span m="1965010">in</span> <span m="1966670">modular</span> <span m="1967140">arithmetic,</span> <span m="1969190">but</span> <span m="1970040">in</span> <span m="1970250">a</span> <span m="1970440">programming</span> <span m="1970790">language,</span> <span m="1971320">if</span> <span m="1971490">you</span> <span m="1971620">do</span> <span m="1972670">minus</span> <span m="1973160">3</span> <span m="1973720">modulo</span> <span m="1974330">20,</span> <span m="1974780">I'm</span> <span m="1974960">pretty</span> <span m="1975340">sure</span> <span m="1975630">you're</span> <span m="1975790">going</span> <span m="1976060">to</span> <span m="1976170">get</span> <span m="1976440">minus</span> <span m="1976730">3.</span> <span m="1979500">And</span> <span m="1979870">things</span> <span m="1980070">will</span> <span m="1980190">go</span> <span m="1980350">back.</span> <span m="1980580">So</span> <span m="1980710">we</span> <span m="1980810">want</span> <span m="1981020">to</span> <span m="1981210">get</span> <span m="1981520">to</span> <span m="1981570">a</span> <span m="1981680">positive</span> <span m="1982160">number</span> <span m="1982530">here</span> <span m="1984790">so</span> <span m="1985020">that</span> <span m="1985210">the</span> <span m="1985320">arithmetic</span> <span m="1985790">modulo</span> <span m="1986210">p</span> <span m="1986390">will</span> <span m="1986600">work</span> <span m="1986820">just</span> <span m="1987050">like</span> <span m="1987240">in</span> <span m="1987320">math.</span> <span m="1989050">So</span> <span m="1989220">we</span> <span m="1989310">want</span> <span m="1989520">to</span> <span m="1989690">add</span> <span m="1990040">something</span> <span m="1990600">to</span> <span m="1990740">make</span> <span m="1990980">this</span> <span m="1991170">whole</span> <span m="1991380">thing</span> <span m="1991600">positive.</span> </p>
<p><span m="1992687">AUDIENCE: That's something times</span> <span m="1993134">[INAUDIBLE].</span> </p>
<p><span m="1995820">PROFESSOR: OK,</span> <span m="1996670">so</span> <span m="1996960">if</span> <span m="1997070">we're</span> <span m="1997150">working</span> <span m="1997460">modulo</span> <span m="1997910">p</span> <span m="1998100">then</span> <span m="1998300">we can</span> <span m="1998570">add</span> <span m="1999300">anything</span> <span m="1999860">to</span> <span m="2000310">our</span> <span m="2000440">number,</span> <span m="2001140">any</span> <span m="2001360">multiple</span> <span m="2001780">of</span> <span m="2001960">p,</span> <span m="2002190">and</span> <span m="2002560">the</span> <span m="2002690">result</span> <span m="2002990">modulo</span> <span m="2003370">p</span> <span m="2003510">doesn't</span> <span m="2003830">change.</span> <span m="2004770">For</span> <span m="2004950">example,</span> <span m="2005380">here</span> <span m="2005710">to</span> <span m="2005820">get</span> <span m="2006000">from</span> <span m="2006160">minus</span> <span m="2006480">3 to</span> <span m="2006865">20,</span> <span m="2007250">I</span> <span m="2007400">added</span> <span m="2007550">23.</span> <span m="2009220">Right?</span> <span m="2011680">OK,</span> <span m="2011930">so</span> <span m="2012120">I</span> <span m="2012220">want</span> <span m="2012450">to</span> <span m="2012590">add</span> <span m="2014710">a</span> <span m="2014840">correction</span> <span m="2015280">factor</span> <span m="2015730">of</span> <span m="2016580">p</span> <span m="2016910">times</span> <span m="2017210">something.</span> <span m="2017920">So</span> <span m="2018160">what</span> <span m="2018330">should</span> <span m="2018500">that</span> <span m="2018690">be?</span> <span m="2021770">I</span> <span m="2021860">want</span> <span m="2021990">to</span> <span m="2022060">make</span> <span m="2022240">sure</span> <span m="2022490">that</span> <span m="2022760">this</span> <span m="2022930">whole</span> <span m="2023110">thing</span> <span m="2023320">is</span> <span m="2023480">positive.</span> </p>
<p><span m="2033242">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="2039600">PROFESSOR: So</span> <span m="2039800">let's see.</span> <span m="2040290">How</span> <span m="2040430">big</span> <span m="2040600">are</span> <span m="2040710">these</span> <span m="2040970">guys,</span> <span m="2041190">by</span> <span m="2041330">the</span> <span m="2041450">way?</span> <span m="2041690">Magic</span> <span m="2042110">is</span> <span m="2042320">something</span> <span m="2042740">mod</span> <span m="2043060">p,</span> <span m="2043220">right?</span> <span m="2044220">So</span> <span m="2044300">it's</span> <span m="2044490">definitely</span> <span m="2044790">smaller</span> <span m="2045690">or</span> <span m="2045870">equal</span> <span m="2046230">to</span> <span m="2046360">p.</span> <span m="2047010">How</span> <span m="2047410">about old?</span> </p>
<p><span m="2050822">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="2052320">PROFESSOR: OK.</span> <span m="2053760">So</span> <span m="2053940">smaller</span> <span m="2054200">or</span> <span m="2054460">equal</span> <span m="2054750">than?</span> </p>
<p><span m="2056083">AUDIENCE: Base.</span> </p>
<p><span m="2056949">PROFESSOR: Base.</span> <span m="2059650">Very</span> <span m="2059909">good.</span> <span m="2060610">So</span> <span m="2060780">this</span> <span m="2060969">whole</span> <span m="2061150">thing</span> <span m="2061370">is</span> <span m="2061469">definitely</span> <span m="2061770">going</span> <span m="2062020">to</span> <span m="2062139">be</span> <span m="2062239">smaller</span> <span m="2062710">than</span> <span m="2064090">[INAUDIBLE].</span> <span m="2065719">So</span> <span m="2065850">this</span> <span m="2066030">is</span> <span m="2066150">definitely</span> <span m="2066389">going</span> <span m="2066600">to</span> <span m="2066690">be</span> <span m="2066800">smaller</span> <span m="2067150">than</span> <span m="2067350">base time</span> <span m="2067800">p,</span> <span m="2068010">right?</span> <span m="2068500">So</span> <span m="2068679">let's</span> <span m="2068889">put</span> <span m="2069030">that</span> <span m="2069190">in</span> <span m="2069300">here.</span> <span m="2072620">You</span> <span m="2072760">can</span> <span m="2072909">get</span> <span m="2073090">fancy</span> <span m="2073420">and</span> <span m="2073550">say</span> <span m="2073699">hey,</span> <span m="2073870">this</span> <span m="2074070">is</span> <span m="2074170">smaller</span> <span m="2074530">than</span> <span m="2074730">p,</span> <span m="2074949">and</span> <span m="2075070">this</span> <span m="2075239">is</span> <span m="2075380">old,</span> <span m="2075639">so</span> <span m="2075730">you</span> <span m="2075850">can</span> <span m="2076040">put</span> <span m="2076270">old</span> <span m="2076480">here</span> <span m="2076580">instead,</span> <span m="2077400">same</span> <span m="2077719">thing.</span> <span m="2081120">OK</span> <span m="2081360">so</span> <span m="2081540">we</span> <span m="2081650">have</span> <span m="2082670">hash.</span> <span m="2083710">Now</span> <span m="2083900">what</span> <span m="2084170">do we</span> <span m="2084310">do</span> <span m="2084489">to</span> <span m="2084610">magic?</span> </p>
<p><span m="2088880">AUDIENCE: [INAUDIBLE]</span> <span m="2093810">divide</span> <span m="2094303">it</span> <span m="2094796">by the</span> <span m="2095289">base</span> <span m="2096768">and</span> <span m="2098740">mod</span> <span m="2099233">p.</span> <span m="2100219">It seems</span> <span m="2100712">base</span> <span m="2101698">[? and p ?]</span> <span m="2102684">don't</span> <span m="2103177">share</span> <span m="2103670">factors.</span> <span m="2104163">You're</span> <span m="2104656">allowed to</span> <span m="2105149">do that?</span> </p>
<p><span m="2108150">PROFESSOR: OK,</span> <span m="2108450">so</span> <span m="2108690">skip</span> <span m="2109170">part</span> <span m="2109530">two.</span> <span m="2114910">Magic</span> <span m="2115350">equals--</span> <span m="2131590">So</span> <span m="2131830">what</span> <span m="2131980">if</span> <span m="2132100">my</span> <span m="2132250">magic</span> <span m="2132660">is</span> <span m="2132760">something</span> <span m="2133190">like</span> <span m="2133510">5</span> <span m="2133940">and</span> <span m="2134050">my</span> <span m="2134200">base</span> <span m="2134500">is</span> <span m="2134610">100?</span> <span m="2135480">How</span> <span m="2135820">is</span> <span m="2136000">this</span> <span m="2136190">going</span> <span m="2136390">to</span> <span m="2136510">work?</span> <span m="2142580">This</span> <span m="2142670">is</span> <span m="2142790">where</span> <span m="2143040">we use</span> <span m="2143290">fancy</span> <span m="2143670">math.</span> <span m="2145260">And</span> <span m="2145930">I</span> <span m="2146060">call</span> <span m="2146310">it</span> <span m="2146420">fancy</span> <span m="2146780">math</span> <span m="2147060">because</span> <span m="2147560">I</span> <span m="2147670">didn't</span> <span m="2147900">learn</span> <span m="2148100">it</span> <span m="2148260">in</span> <span m="2148330">high</span> <span m="2148500">school.</span> <span m="2149430">So</span> <span m="2149660">I'm</span> <span m="2149860">assuming</span> <span m="2150280">at least</span> <span m="2150440">some</span> <span m="2150930">of</span> <span m="2151040">you</span> <span m="2151160">do</span> <span m="2151260">not</span> <span m="2151610">know</span> <span m="2151780">how</span> <span m="2151940">this</span> <span m="2152110">works.</span> <span m="2153190">So</span> <span m="2153370">if we're</span> <span m="2153470">working</span> <span m="2153840">modulo</span> <span m="2154320">p,</span> <span m="2156112">you can</span> <span m="2156560">think</span> <span m="2156760">23</span> <span m="2157200">if</span> <span m="2157290">you</span> <span m="2157380">prefer</span> <span m="2157880">concrete</span> <span m="2158220">numbers</span> <span m="2158485">instead.</span> </p>
<p><span m="2163070">For</span> <span m="2163540">any</span> <span m="2163740">number</span> <span m="2166010">between</span> <span m="2167060">1</span> <span m="2167430">and</span> <span m="2167620">p</span> <span m="2167730">minus</span> <span m="2168110">1,</span> <span m="2170270">there's</span> <span m="2170660">something</span> <span m="2171090">called</span> <span m="2171320">the</span> <span m="2171400">multiplicative</span> <span m="2172120">inverse,</span> <span m="2173710">a</span> <span m="2173850">to</span> <span m="2173980">the</span> <span m="2174110">minus</span> <span m="2174480">1,</span> <span m="2176120">that</span> <span m="2176600">also</span> <span m="2176930">happens</span> <span m="2177260">to</span> <span m="2177330">be</span> <span m="2177450">an</span> <span m="2177560">integer</span> <span m="2177960">between</span> <span m="2178280">1</span> <span m="2178510">and</span> <span m="2178640">p</span> <span m="2178750">minus</span> <span m="2179140">1.</span> <span m="2180270">And</span> <span m="2182160">if</span> <span m="2182300">you</span> <span m="2182390">multiply,</span> <span m="2183290">say,</span> <span m="2183910">a</span> <span m="2184110">times</span> <span m="2184420">b,</span> <span m="2184650">that's</span> <span m="2184920">another</span> <span m="2185240">number.</span> <span m="2186510">And</span> <span m="2186690">then</span> <span m="2186820">you</span> <span m="2186900">multiply</span> <span m="2187420">this</span> <span m="2187650">by</span> <span m="2187810">a</span> <span m="2187970">minus</span> <span m="2188380">1,</span> <span m="2189550">you're</span> <span m="2189750">going</span> <span m="2190060">to</span> <span m="2190170">get</span> <span m="2190390">to</span> <span m="2190470">b</span> <span m="2192040">modulo</span> <span m="2192560">p.</span> <span m="2194370">So</span> <span m="2194620">a</span> <span m="2194720">minus</span> <span m="2195080">1</span> <span m="2195320">cancels</span> <span m="2195910">a in a</span> <span m="2196330">multiplication.</span> <span m="2198770">Now</span> <span m="2198790">let's</span> <span m="2198990">see</span> <span m="2199080">if</span> <span m="2199160">you</span> <span m="2199260">guys</span> <span m="2199470">are</span> <span m="2199560">paying</span> <span m="2199780">attention.</span> <span m="2200160">What's</span> <span m="2200530">a</span> <span m="2200760">times</span> <span m="2201100">a</span> <span m="2201190">to</span> <span m="2201330">the</span> <span m="2201450">minus</span> <span m="2201850">1</span> <span m="2202190">modulo</span> <span m="2202630">p?</span> </p>
<p><span m="2203107">AUDIENCE: 1.</span> </p>
<p><span m="2204540">PROFESSOR: OK.</span> <span m="2205170">Sweet.</span> <span m="2208460">So</span> <span m="2208670">suppose</span> <span m="2209110">I</span> <span m="2209190">want</span> <span m="2209450">to</span> <span m="2209550">find</span> <span m="2209990">the</span> <span m="2210220">multiplicative</span> <span m="2210930">inverse</span> <span m="2211470">of</span> <span m="2212680">6.</span> <span m="2213770">What</span> <span m="2213970">is</span> <span m="2214120">it?</span> </p>
<p><span m="2214826">AUDIENCE: Is that</span> <span m="2215262">the mod</span> <span m="2215698">23?</span> </p>
<p><span m="2217010">PROFESSOR: Yeah.</span> <span m="2219186">Can</span> <span m="2219650">someone</span> <span m="2219940">think</span> <span m="2220130">of</span> <span m="2220220">what</span> <span m="2220380">it</span> <span m="2220480">should</span> <span m="2220660">be?</span> </p>
<p><span m="2220880">AUDIENCE: 4.</span> </p>
<p><span m="2221680">PROFESSOR: 4,</span> <span m="2222160">wow,</span> <span m="2222530">fast.</span> <span m="2224560">So</span> <span m="2224810">6</span> <span m="2225060">times</span> <span m="2225330">4</span> <span m="2225720">equals</span> <span m="2226450">24,</span> <span m="2227120">which</span> <span m="2227430">is</span> <span m="2228360">1</span> <span m="2230470">modulo</span> <span m="2230920">23.</span> <span m="2232230">Now</span> <span m="2232380">let's</span> <span m="2232610">see</span> <span m="2232850">if</span> <span m="2232990">this</span> <span m="2233440">magic</span> <span m="2233880">really</span> <span m="2234120">works,</span> <span m="2235050">this</span> <span m="2235210">math</span> <span m="2235545">magic.</span> <span m="2236520">So</span> <span m="2237370">6</span> <span m="2237610">times</span> <span m="2237870">7</span> <span m="2238500">equals?</span> </p>
<p><span m="2239968">AUDIENCE: 42.</span> </p>
<p><span m="2241330">PROFESSOR: Which</span> <span m="2241680">is</span> <span m="2242240">what</span> <span m="2242630">mod</span> <span m="2242990">23?</span> <span m="2244700">Computer</span> <span m="2245050">guys.</span> </p>
<p><span m="2245796">AUDIENCE: Negative</span> <span m="2246152">4,</span> <span m="2246510">so 5.</span> <span m="2246990">Ah,</span> <span m="2247940">just</span> <span m="2248415">kidding.</span> <span m="2249840">Yeah.</span> </p>
<p><span m="2255070">PROFESSOR: OK</span> <span m="2255280">now</span> <span m="2255430">let's</span> <span m="2255620">multiply</span> <span m="2256140">19</span> <span m="2256630">by</span> <span m="2256790">4.</span> <span m="2259180">What</span> <span m="2259350">is</span> <span m="2259770">this?</span> </p>
<p><span m="2261231">AUDIENCE: 76.</span> </p>
<p><span m="2264640">PROFESSOR: All right,</span> <span m="2265260">76</span> <span m="2265525">modulo</span> <span m="2265790">23?</span> </p>
<p><span m="2269983">AUDIENCE: 7</span> <span m="2271390">maybe.</span> </p>
<p><span m="2274210">PROFESSOR: Are you</span> <span m="2274630">kidding?</span> <span m="2275926">Did</span> <span m="2276410">you</span> <span m="2276870">compute it,</span> <span m="2277180">or did you</span> <span m="2277430">use--</span> </p>
<p><span m="2277735">AUDIENCE: 69</span> <span m="2278040">[INAUDIBLE]</span> </p>
<p><span m="2281040">PROFESSOR: OK.</span> <span m="2282240">Started</span> <span m="2282580">with</span> <span m="2282750">7,</span> <span m="2283110">ended</span> <span m="2283470">with</span> <span m="2283960">7.</span> <span m="2285660">So</span> <span m="2285840">this</span> <span m="2286040">works.</span> <span m="2290640">So</span> <span m="2291080">as</span> <span m="2291240">long</span> <span m="2291670">we're</span> <span m="2291840">working</span> <span m="2292230">modulo</span> <span m="2292740">a</span> <span m="2292840">prime</span> <span m="2293100">number,</span> <span m="2293650">we</span> <span m="2293780">can</span> <span m="2293970">always</span> <span m="2294250">compute</span> <span m="2295380">multiplicative</span> <span m="2296070">inverses.</span> <span m="2297450">And</span> <span m="2298080">Python</span> <span m="2298430">has</span> <span m="2298590">a</span> <span m="2298650">function</span> <span m="2299010">for</span> <span m="2299180">that,</span> <span m="2299490">so</span> <span m="2299720">I'll let</span> <span m="2299920">you</span> <span m="2300530">Google</span> <span m="2300870">its</span> <span m="2300990">standard</span> <span m="2301380">library</span> <span m="2301770">to</span> <span m="2301870">find</span> <span m="2302110">out</span> <span m="2302270">what</span> <span m="2302390">it</span> <span m="2302500">is.</span> <span m="2303190">But</span> <span m="2303390">it</span> <span m="2303490">can</span> <span m="2303660">be</span> <span m="2303760">done,</span> <span m="2304060">that's</span> <span m="2304270">what</span> <span m="2304410">matters</span> <span m="2304750">as</span> <span m="2304890">far</span> <span m="2305050">as</span> <span m="2305140">we're</span> <span m="2305260">concerned.</span> <span m="2307930">So</span> <span m="2308150">we're</span> <span m="2308310">going</span> <span m="2308560">to</span> <span m="2308680">say</span> <span m="2310240">that</span> <span m="2310480">magic</span> <span m="2311040">is</span> <span m="2311560">magic</span> <span m="2312300">times</span> <span m="2313800">base</span> <span m="2314260">minus</span> <span m="2314660">1</span> <span m="2315550">mod</span> <span m="2315880">p,</span> <span m="2316040">which</span> <span m="2316240">is</span> <span m="2316350">the</span> <span m="2316440">multiplicative</span> <span m="2317160">inverse</span> <span m="2318310">everything</span> <span m="2319440">mod</span> <span m="2319770">p.</span> </p>
<p><span m="2321230">Now</span> <span m="2321440">suppose</span> <span m="2321940">this</span> <span m="2322170">base</span> <span m="2322520">minus</span> <span m="2322870">1</span> <span m="2323080">modulo</span> <span m="2323440">p,</span> <span m="2323690">this</span> <span m="2323850">multiplicative</span> <span m="2324440">inverse</span> <span m="2324810">algorithm</span> <span m="2325260">is</span> <span m="2325400">really</span> <span m="2325660">slow.</span> <span m="2328090">What</span> <span m="2328310">do</span> <span m="2328380">we</span> <span m="2328450">do</span> <span m="2331740">to</span> <span m="2331840">stay</span> <span m="2332100">order</span> <span m="2332360">1?</span> <span m="2334820">Pre</span> <span m="2335110">compute</span> <span m="2335460">it.</span> <span m="2335730">Base</span> <span m="2336260">is</span> <span m="2336400">not</span> <span m="2336580">going</span> <span m="2336700">to</span> <span m="2336780">change.</span> <span m="2338810">Very</span> <span m="2339060">good.</span> <span m="2339990">So</span> <span m="2341760">the</span> <span m="2341910">inverse</span> <span m="2342280">of</span> <span m="2342400">base,</span> <span m="2343120">I</span> <span m="2343310">base,</span> <span m="2343890">is</span> <span m="2345190">base</span> <span m="2345540">minus</span> <span m="2345960">1</span> <span m="2347340">mod</span> <span m="2347620">p.</span> <span m="2351040">So</span> <span m="2351250">here</span> <span m="2351910">I</span> <span m="2352100">replace</span> <span m="2352620">this</span> <span m="2354575">with</span> <span m="2355040">I</span> <span m="2355190">base.</span> <span m="2358180">OK</span> <span m="2358490">so</span> <span m="2358700">skip</span> <span m="2358970">part</span> <span m="2359210">one</span> <span m="2359400">is</span> <span m="2359540">there,</span> <span m="2359780">skip</span> <span m="2360080">part two is</span> <span m="2360540">here.</span> <span m="2363350">Does</span> <span m="2363550">this</span> <span m="2363680">make</span> <span m="2363870">sense</span> <span m="2364080">so</span> <span m="2364210">far?</span> <span m="2369050">I see</span> <span m="2369230">some</span> <span m="2369350">confusion.</span> </p>
<p><span m="2370720">AUDIENCE: A</span> <span m="2370800">lot.</span> </p>
<p><span m="2373510">PROFESSOR: A lot to</span> <span m="2373620">take in</span> <span m="2373910">at</span> <span m="2374030">once?</span> </p>
<p><span m="2374410">AUDIENCE: Yes.</span> </p>
<p><span m="2375480">PROFESSOR: OK.</span> <span m="2377120">So</span> <span m="2379510">remember</span> <span m="2380020">this</span> <span m="2380350">concept.</span> <span m="2381670">So</span> <span m="2381840">this</span> <span m="2382060">is</span> <span m="2382220">where</span> <span m="2382340">we</span> <span m="2382450">started</span> <span m="2382890">from.</span> <span m="2383640">Then</span> <span m="2383840">we</span> <span m="2383940">computed</span> <span m="2384930">n, then</span> <span m="2385170">after</span> <span m="2385540">n,</span> <span m="2385740">we</span> <span m="2386020">worked</span> <span m="2386350">modulo</span> <span m="2386790">p to</span> <span m="2387120">gets</span> <span m="2387480">to</span> <span m="2388200">hashes.</span> <span m="2389310">So</span> <span m="2390230">by</span> <span m="2390430">working</span> <span m="2390820">module</span> <span m="2391210">p,</span> <span m="2391530">we're</span> <span m="2391710">able</span> <span m="2392030">to</span> <span m="2392580">get</span> <span m="2392800">rid</span> <span m="2392920">of</span> <span m="2393050">all</span> <span m="2393180">the</span> <span m="2393280">big</span> <span m="2393550">numbers</span> <span m="2393920">and</span> <span m="2394060">we</span> <span m="2394130">only</span> <span m="2394330">have</span> <span m="2394570">small</span> <span m="2394850">numbers</span> <span m="2395350">in our</span> <span m="2395600">rolling</span> <span m="2395920">hash.</span> <span m="2398070">And</span> <span m="2398720">there's</span> <span m="2400110">that</span> <span m="2400260">curveball there,</span> <span m="2400860">there</span> <span m="2401050">is</span> <span m="2401150">that</span> <span m="2401510">inverse,</span> <span m="2402010">multiplicative</span> <span m="2402670">inverse,</span> <span m="2403090">but</span> <span m="2403270">Python</span> <span m="2403600">computes it</span> <span m="2404090">for</span> <span m="2404250">you,</span> <span m="2404340">so</span> <span m="2405120">as</span> <span m="2405300">long</span> <span m="2405520">as</span> <span m="2405670">it's</span> <span m="2406360">in the</span> <span m="2406500">initializer,</span> <span m="2406990">here</span> <span m="2407380">you</span> <span m="2407510">don't</span> <span m="2407690">need</span> <span m="2407840">to</span> <span m="2407920">worry</span> <span m="2408120">about</span> <span m="2408390">it,</span> <span m="2408520">because</span> <span m="2408820">it's</span> <span m="2408990">not</span> <span m="2409250">part</span> <span m="2409590">of</span> <span m="2409820">the</span> <span m="2410780">rolling</span> <span m="2411090">hash</span> <span m="2411320">operations.</span> </p>
<p><span m="2412530">By</span> <span m="2412680">the</span> <span m="2412810">way,</span> <span m="2413010">what's</span> <span m="2413260">the</span> <span m="2413400">cost</span> <span m="2413700">of</span> <span m="2413810">the</span> <span m="2413880">rolling</span> <span m="2414170">hash</span> <span m="2414420">operations?</span> <span m="2415270">What's</span> <span m="2415530">the</span> <span m="2415630">cost</span> <span m="2415940">of</span> <span m="2416000">new?</span> <span m="2420240">Sorry,</span> <span m="2420580">what's the</span> <span m="2421050">cost</span> <span m="2421130">of</span> <span m="2421290">append?</span> <span m="2421600">Not</span> <span m="2421770">thinking</span> <span m="2422050">here.</span> <span m="2426750">Constant.</span> <span m="2427380">All</span> <span m="2427620">these</span> <span m="2427800">are</span> <span m="2427910">small</span> <span m="2428210">numbers,</span> <span m="2428610">so</span> <span m="2428810">the</span> <span m="2428950">arithmetic</span> <span m="2429460">is</span> <span m="2429620">constant,</span> <span m="2430072">right?</span> <span m="2431880">What's</span> <span m="2432150">the</span> <span m="2432270">cost</span> <span m="2432660">of</span> <span m="2432860">skip?</span> <span m="2434965">Skip</span> <span m="2435390">part 1</span> <span m="2435810">here,</span> <span m="2436200">skip</span> <span m="2436320">part</span> <span m="2436560">two</span> <span m="2436670">there.</span> <span m="2436860">What's</span> <span m="2437080">the</span> <span m="2437170">cost of</span> <span m="2437510">skip?</span> <span m="2439440">Constant.</span> <span m="2439825">.</span> <span m="2440210">All</span> <span m="2440480">the</span> <span m="2440580">numbers</span> <span m="2440990">are</span> <span m="2441130">small.</span> <span m="2441490">We</span> <span m="2441620">went</span> <span m="2441920">through</span> <span m="2442040">a</span> <span m="2442080">lot</span> <span m="2442270">of</span> <span m="2442400">effort</span> <span m="2442720">to</span> <span m="2442790">get</span> <span m="2442990">that,</span> <span m="2443270">so</span> <span m="2444170">skip</span> <span m="2444470">is</span> <span m="2444630">order</span> <span m="2444880">1.</span> <span m="2446740">We're</span> <span m="2446890">missing</span> <span m="2447280">hash.</span> <span m="2447770">How</span> <span m="2448000">would</span> <span m="2448150">we</span> <span m="2448280">implement</span> <span m="2448790">the</span> <span m="2448890">hash</span> <span m="2449180">operation?</span> <span m="2449850">A</span> <span m="2450270">hash</span> <span m="2450500">query.</span> <span m="2455610">It's</span> <span m="2455780">easy.</span> <span m="2457030">Sorry?</span> </p>
<p><span m="2457851">AUDIENCE: [INAUDIBLE]</span> <span m="2459695">lookup</span> <span m="2460156">[INAUDIBLE].</span> </p>
<p><span m="2461540">PROFESSOR: So</span> <span m="2462440">a</span> <span m="2462710">rolling</span> <span m="2463110">hash</span> <span m="2463530">has</span> <span m="2464110">append,</span> <span m="2464760">skip, and</span> <span m="2465150">hash.</span> <span m="2465650">I</span> <span m="2465730">want</span> <span m="2465940">to</span> <span m="2466000">implement</span> <span m="2466690">that</span> <span m="2467050">hash</span> <span m="2467523">function.</span> <span m="2469890">Hash.</span> <span m="2471610">We're</span> <span m="2471750">computing</span> <span m="2472270">hash</span> <span m="2472620">all</span> <span m="2472910">the</span> <span m="2473020">time.</span> <span m="2475470">Return.</span> <span m="2476080">Sorry,</span> <span m="2477020">I</span> <span m="2477100">didn't</span> <span m="2477300">understand</span> <span m="2477660">what</span> <span m="2477770">you</span> <span m="2477870">meant by</span> <span m="2478290">lookup.</span> </p>
<p><span m="2479120">AUDIENCE: It's</span> <span m="2479570">one of</span> <span m="2479770">our</span> <span m="2480020">states.</span> </p>
<p><span m="2480980">PROFESSOR: Yeah.</span> <span m="2481730">Exactly.</span> <span m="2482150">So</span> <span m="2482820">the</span> <span m="2482950">hash</span> <span m="2483240">function</span> <span m="2483620">returns</span> <span m="2484020">hash,</span> <span m="2484810">right?</span> <span m="2485690">What's</span> <span m="2485930">the</span> <span m="2486030">cost</span> <span m="2486310">of</span> <span m="2486410">that?</span> <span m="2489290">Constant.</span> <span m="2492240">So</span> <span m="2494090">append</span> <span m="2494480">is</span> <span m="2494630">constant</span> <span m="2495060">time,</span> <span m="2495410">yes?</span> <span m="2497290">Skip</span> <span m="2497580">is</span> <span m="2497770">constant</span> <span m="2498220">time.</span> <span m="2498740">Hash is</span> <span m="2499210">constant</span> <span m="2499630">time.</span> <span m="2500140">We're done.</span> <span m="2500880">This</span> <span m="2501070">works.</span> <span m="2501730">Any</span> <span m="2501930">questions</span> <span m="2502330">on</span> <span m="2502430">rolling</span> <span m="2502750">hashes</span> <span m="2503240">before</span> <span m="2503460">you</span> <span m="2503510">have</span> <span m="2503680">to</span> <span m="2503770">implement</span> <span m="2504230">one of</span> <span m="2504470">your</span> <span m="2504840">own?</span> </p>
<p><span m="2506804">AUDIENCE: [INAUDIBLE]</span> <span m="2508768">wouldn't</span> <span m="2509259">it</span> <span m="2509750">be</span> <span m="2510241">easier</span> <span m="2510732">to use</span> <span m="2511223">a</span> <span m="2511714">shift</span> <span m="2512205">function?</span> <span m="2513187">Then you</span> <span m="2513678">don't have to</span> <span m="2514169">think about</span> <span m="2514660">plus and minus.</span> </p>
<p><span m="2516640">PROFESSOR: A</span> <span m="2516730">shift</span> <span m="2516980">function.</span> </p>
<p><span m="2517255">AUDIENCE: Well</span> <span m="2517530">I mean like,</span> <span m="2518526">you</span> <span m="2519024">can shift</span> <span m="2520020">bit-wise,</span> <span m="2520430">right?</span> </p>
<p><span m="2521970">PROFESSOR: OK.</span> </p>
<p><span m="2522877">AUDIENCE: So you</span> <span m="2523374">can just</span> <span m="2523871">use</span> <span m="2524368">shift</span> <span m="2524865">instead of</span> <span m="2525362">thinking</span> <span m="2525859">about</span> <span m="2526356">where to add this,</span> <span m="2526853">where to</span> <span m="2527350">subtract this.</span> </p>
<p><span m="2528841">PROFESSOR: Well</span> <span m="2529350">so</span> <span m="2529470">I</span> <span m="2529560">do</span> <span m="2529950">bit</span> <span m="2530120">operations</span> <span m="2530680">if</span> <span m="2530810">I'm</span> <span m="2530940">willing</span> <span m="2531230">to</span> <span m="2531330">work</span> <span m="2531630">with</span> <span m="2532060">these</span> <span m="2532250">big</span> <span m="2532460">numbers.</span> </p>
<p><span m="2533396">AUDIENCE: But then you</span> <span m="2533882">have to</span> <span m="2534368">compute the</span> <span m="2534854">mod</span> <span m="2535340">of some</span> <span m="2535826">big</span> <span m="2536312">number, right?</span> <span m="2536798">Like</span> <span m="2537284">just like that.</span> <span m="2538742">For</span> <span m="2539228">this one,</span> <span m="2539714">you don't</span> <span m="2540200">have to,</span> <span m="2540686">because</span> <span m="2541172">you have the</span> <span m="2541658">original</span> <span m="2542144">hash</span> <span m="2542630">[INAUDIBLE].</span> </p>
<p><span m="2547490">AUDIENCE: Oh,</span> <span m="2547980">you mean</span> <span m="2548320">the</span> <span m="2548660">big number</span> <span m="2548970">being</span> <span m="2549200">the</span> <span m="2549300">actual</span> <span m="2549930">word you're</span> <span m="2550280">looking</span> <span m="2550702">at?</span> </p>
<p><span m="2551970">AUDIENCE: Yeah.</span> </p>
<p><span m="2553080">PROFESSOR: So</span> <span m="2553400">doing</span> <span m="2553630">shift</span> <span m="2554480">is</span> <span m="2554660">equivalent</span> <span m="2555230">to</span> <span m="2555300">maintaining</span> <span m="2555390">a</span> <span m="2555600">list</span> <span m="2556806">and</span> <span m="2557250">pushing</span> <span m="2558080">and</span> <span m="2558210">popping</span> <span m="2558560">things</span> <span m="2558850">into</span> <span m="2559050">the</span> <span m="2559310">list.</span> <span m="2559870">And</span> <span m="2560020">then</span> <span m="2560190">you have</span> <span m="2560360">to do a</span> <span m="2560850">hash,</span> <span m="2561400">it's</span> <span m="2561770">equivalent</span> <span m="2562035">to</span> <span m="2562300">looking</span> <span m="2562670">over</span> <span m="2562910">the</span> <span m="2563060">entire</span> <span m="2563560">list</span> <span m="2564020">and</span> <span m="2564480">computing</span> <span m="2564870">the</span> <span m="2564970">hash</span> <span m="2565200">function.</span> <span m="2565560">Because</span> <span m="2565820">you'd</span> <span m="2565910">have</span> <span m="2566130">a</span> <span m="2566200">big</span> <span m="2566390">number</span> <span m="2566710">and</span> <span m="2566800">you</span> <span m="2566870">have</span> <span m="2567010">to</span> <span m="2567150">take</span> <span m="2567350">it</span> <span m="2567470">modulo</span> <span m="2567860">23.</span> <span m="2569000">And</span> <span m="2569200">that's</span> <span m="2569490">order</span> <span m="2569860">of</span> <span m="2569950">the</span> <span m="2570060">size</span> <span m="2570300">of</span> <span m="2570410">the</span> <span m="2570510">big</span> <span m="2570680">number.</span> <span m="2571990">But</span> <span m="2572160">we're</span> <span m="2572270">not</span> <span m="2572460">allowed</span> <span m="2572730">to</span> <span m="2572920">do</span> <span m="2573050">that.</span> <span m="2573260">Hash</span> <span m="2573550">has</span> <span m="2573690">to</span> <span m="2573780">be</span> <span m="2573880">constant</span> <span m="2574310">time,</span> <span m="2574520">otherwise</span> <span m="2575480">this</span> <span m="2575760">thing</span> <span m="2575970">is</span> <span m="2576070">slow.</span> </p>
<p><span m="2580705">AUDIENCE: Why do</span> <span m="2581180">we compute</span> <span m="2581660">magic</span> <span m="2582080">numbers then?</span> </p>
<p><span m="2583680">PROFESSOR: Why do</span> <span m="2583850">we</span> <span m="2584240">compute</span> <span m="2584410">magic?</span> <span m="2584870">We</span> <span m="2585240">compute magic</span> <span m="2585670">because</span> <span m="2588400">somewhere</span> <span m="2588850">here,</span> <span m="2589650">we</span> <span m="2589770">had</span> <span m="2590160">this</span> <span m="2590490">base</span> <span m="2590890">to</span> <span m="2590980">the</span> <span m="2591170">size</span> <span m="2591560">mod</span> <span m="2591920">p</span> <span m="2592800">and</span> <span m="2593290">this</span> <span m="2593500">could</span> <span m="2593670">get</span> <span m="2593870">big.</span> <span m="2596750">So</span> <span m="2596980">I</span> <span m="2597060">can't</span> <span m="2597340">afford</span> <span m="2597680">to</span> <span m="2597770">keep</span> <span m="2597950">it</span> <span m="2598080">around</span> <span m="2598520">and do</span> <span m="2598610">math</span> <span m="2598890">with</span> <span m="2599190">it all</span> <span m="2599310">the</span> <span m="2599420">time.</span> <span m="2600020">So</span> <span m="2600150">I</span> <span m="2600220">can't</span> <span m="2600510">compute</span> <span m="2600870">base</span> <span m="2601140">to</span> <span m="2601200">the</span> <span m="2601290">size</span> <span m="2601580">every</span> <span m="2601800">time</span> <span m="2602000">I</span> <span m="2602080">want</span> <span m="2602430">to</span> <span m="2603100">do</span> <span m="2604860">append.</span> </p>
<p><span m="2611178">AUDIENCE: Would it be</span> <span m="2611664">worth</span> <span m="2612150">it if</span> <span m="2612636">you're computing</span> <span m="2613122">100 different</span> <span m="2613608">values for</span> <span m="2614094">matching</span> <span m="2616038">and</span> <span m="2616524">[INAUDIBLE],</span> <span m="2617496">so</span> <span m="2617982">all you'd</span> <span m="2618468">have to do</span> <span m="2618954">is,</span> <span m="2620350">when</span> <span m="2620590">reassigning</span> <span m="2620890">magic,</span> <span m="2621645">just</span> <span m="2622100">look</span> <span m="2622555">up--</span> </p>
<p><span m="2623010">PROFESSOR: So</span> <span m="2623180">if</span> <span m="2623290">you</span> <span m="2623370">do</span> <span m="2623540">that,</span> <span m="2623820">then</span> <span m="2623850">you</span> <span m="2623920">have</span> <span m="2624150">to</span> <span m="2624270">compute</span> <span m="2624760">values</span> <span m="2625220">for</span> <span m="2627510">all</span> <span m="2627770">the</span> <span m="2629220">sizes,</span> <span m="2629510">right?</span> <span m="2629860">For</span> <span m="2630060">all the</span> <span m="2630160">window</span> <span m="2630380">sizes.</span> </p>
<p><span m="2631040">AUDIENCE: Right.</span> <span m="2632460">So if we</span> <span m="2632870">assume</span> <span m="2633165">that</span> <span m="2633460">window</span> <span m="2633936">sizes will be</span> <span m="2634412">less than</span> <span m="2634888">100,</span> <span m="2635364">it doesn't take</span> <span m="2635840">very long.</span> </p>
<p><span m="2636320">PROFESSOR: Well</span> <span m="2636550">what if</span> <span m="2636850">the</span> <span m="2636970">window</span> <span m="2637230">size</span> <span m="2637520">is</span> <span m="2637690">1</span> <span m="2637920">million?</span> <span m="2640810">What</span> <span m="2641010">if</span> <span m="2641120">I'm</span> <span m="2641240">looking</span> <span m="2641460">for</span> <span m="2641760">a</span> <span m="2641820">1</span> <span m="2642080">million</span> <span m="2642350">character</span> <span m="2642880">in</span> <span m="2643100">a</span> <span m="2643170">1</span> <span m="2643360">gigabyte</span> <span m="2643800">string?</span> </p>
<p><span m="2645316">AUDIENCE: But</span> <span m="2645782">wouldn't</span> <span m="2646250">after all,</span> <span m="2646460">wouldn't</span> <span m="2646750">the</span> <span m="2647075">size</span> <span m="2647400">just</span> <span m="2647550">be</span> <span m="2648030">around</span> <span m="2648383">the string,</span> <span m="2648736">like</span> <span m="2649573">plus or</span> <span m="2650056">minus</span> <span m="2650539">the size</span> <span m="2651022">of the base?</span> <span m="2651988">So--</span> </p>
<p><span m="2652471">AUDIENCE: Only if</span> <span m="2652954">[INAUDIBLE]</span> </p>
<p><span m="2653920">So why</span> <span m="2654403">would the size</span> <span m="2654886">change again?</span> <span m="2656335">Why wouldn't</span> <span m="2656818">it just</span> <span m="2657310">be--</span> <span m="2657590">I mean,</span> <span m="2657895">if you're looking</span> <span m="2658200">at</span> <span m="2658540">one</span> <span m="2658790">character.</span> </p>
<p><span m="2659940">PROFESSOR: So</span> <span m="2659980">if</span> <span m="2660150">I</span> <span m="2660260">have</span> <span m="2660470">a</span> <span m="2660530">sliding</span> <span m="2660950">window</span> <span m="2661290">like</span> <span m="2661520">this,</span> <span m="2661950">then it</span> <span m="2662220">doesn't</span> <span m="2662560">change.</span> <span m="2662840">But</span> <span m="2663020">if</span> <span m="2663170">I</span> <span m="2663270">want</span> <span m="2663600">to</span> <span m="2663660">implement</span> <span m="2664140">a</span> <span m="2664220">rolling</span> <span m="2664520">hash,</span> <span m="2664790">that's</span> <span m="2664980">a</span> <span m="2665040">bit</span> <span m="2665220">more</span> <span m="2665400">general</span> <span m="2665770">and</span> <span m="2665890">that</span> <span m="2666070">supports</span> <span m="2667410">append and</span> <span m="2667900">skip.</span> <span m="2668960">Whenever</span> <span m="2669360">I</span> <span m="2669470">append,</span> <span m="2669950">the</span> <span m="2670090">size</span> <span m="2670330">increases.</span> <span m="2670870">Whenever</span> <span m="2671240">I</span> <span m="2671310">skip,</span> <span m="2671640">the</span> <span m="2671740">size</span> <span m="2672000">decreases.</span> </p>
<p><span m="2672355">AUDIENCE: Oh,</span> <span m="2672710">you're not</span> <span m="2673168">doing those at</span> <span m="2673626">every</span> <span m="2674084">time step.</span> <span m="2674542">You're</span> <span m="2675000">doing them</span> <span m="2675458">as</span> <span m="2675916">needed.</span> </p>
<p><span m="2677290">PROFESSOR: So</span> <span m="2677320">I'm</span> <span m="2677440">trying</span> <span m="2677660">to</span> <span m="2678050">implement</span> <span m="2678630">that,</span> <span m="2678895">that</span> <span m="2679160">can</span> <span m="2679340">do</span> <span m="2679460">them</span> <span m="2679690">in</span> <span m="2679810">any</span> <span m="2680090">sequence.</span> </p>
<p><span m="2680730">AUDIENCE: Oh.</span> </p>
<p><span m="2681965">AUDIENCE: OK.</span> <span m="2682400">I</span> <span m="2682835">thought we</span> <span m="2683270">were just</span> <span m="2683620">doing</span> <span m="2684240">sliding</span> <span m="2684500">window.</span> </p>
<p><span m="2685240">PROFESSOR: So</span> <span m="2685380">if</span> <span m="2685520">we're</span> <span m="2685640">just</span> <span m="2685860">doing</span> <span m="2686060">sliding</span> <span m="2686440">window,</span> <span m="2686790">you</span> <span m="2686960">can--</span> </p>
<p><span m="2687860">AUDIENCE: This is</span> <span m="2688206">really</span> <span m="2688552">more</span> <span m="2688900">caterpillar</span> <span m="2689355">hash</span> <span m="2690307">instead of</span> <span m="2690804">rolling hash,</span> <span m="2691798">like</span> <span m="2692295">it's more</span> <span m="2692792">general.</span> </p>
<p><span m="2693289">PROFESSOR: Yeah.</span> <span m="2693790">It's</span> <span m="2693950">a</span> <span m="2694000">bit</span> <span m="2694170">more</span> <span m="2694350">general.</span> <span m="2695070">So</span> <span m="2695120">let's</span> <span m="2695290">look</span> <span m="2695480">at</span> <span m="2696210">rolling</span> <span m="2696340">hash</span> <span m="2696580">for</span> <span m="2696730">the</span> <span m="2696980">window.</span> <span m="2697390">And</span> <span m="2698490">what</span> <span m="2698680">you're</span> <span m="2698810">saying</span> <span m="2699180">is,</span> <span m="2699520">hey,</span> <span m="2699610">the</span> <span m="2699760">window</span> <span m="2700000">size</span> <span m="2700270">is</span> <span m="2700460">constant,</span> <span m="2701130">so--</span> </p>
<p><span m="2702151">AUDIENCE: Why</span> <span m="2702632">do</span> <span m="2703113">we</span> <span m="2703594">repeat</span> <span m="2704075">magic</span> <span m="2704556">[INAUDIBLE]?</span> </p>
<p><span m="2706480">PROFESSOR: Yeah,</span> <span m="2706970">if the</span> <span m="2707080">window</span> <span m="2707500">size</span> <span m="2707950">is</span> <span m="2708080">constant,</span> <span m="2708650">then</span> <span m="2708870">we</span> <span m="2708970">wouldn't</span> <span m="2709220">re</span> <span m="2709320">compute</span> <span m="2709680">it.</span> <span m="2710040">It</span> <span m="2710200">wouldn't change.</span> <span m="2714040">But</span> <span m="2714475">with this</span> <span m="2714910">thing,</span> <span m="2715150">it's</span> <span m="2715370">not.</span> <span m="2717080">OK.</span> </p>
<p><span m="2718720">AUDIENCE: But</span> <span m="2719115">I</span> <span m="2719510">guess</span> <span m="2720008">it</span> <span m="2720506">doesn't really</span> <span m="2721004">matter,</span> <span m="2721502">but</span> <span m="2722000">even if</span> <span m="2722500">you</span> <span m="2722840">call</span> <span m="2723275">these in the</span> <span m="2723710">same</span> <span m="2724050">order,</span> <span m="2727238">then isn't</span> <span m="2727722">that</span> <span m="2728206">wasting a</span> <span m="2728690">lot of</span> <span m="2729174">computing</span> <span m="2729658">cycles</span> <span m="2730626">because</span> <span m="2733046">just</span> <span m="2733530">shrinking and then growing</span> <span m="2734498">every</span> <span m="2734982">single</span> <span m="2735466">operation?</span> </p>
<p><span m="2736450">PROFESSOR: Oh,</span> <span m="2736710">well</span> <span m="2736970">it</span> <span m="2737170">turns</span> <span m="2737420">out</span> <span m="2737550">that</span> <span m="2738090">a</span> <span m="2738190">lot</span> <span m="2738410">of</span> <span m="2738530">computing</span> <span m="2738970">cycles</span> <span m="2739400">is still</span> <span m="2739810">order</span> <span m="2740110">one,</span> <span m="2740440">right?</span> <span m="2740860">Everything</span> <span m="2741190">is</span> <span m="2741300">order</span> <span m="2741500">one.</span> <span m="2741720">So</span> <span m="2742520">as</span> <span m="2742860">algorithms</span> <span m="2743730">people,</span> <span m="2744130">we</span> <span m="2744240">don't</span> <span m="2744470">care.</span> <span m="2745090">If</span> <span m="2745240">you're</span> <span m="2745900">doing</span> <span m="2746150">it</span> <span m="2746260">in</span> <span m="2746370">a</span> <span m="2746430">system</span> <span m="2746830">and</span> <span m="2746930">you</span> <span m="2747000">actually</span> <span m="2747380">care</span> <span m="2747640">about</span> <span m="2747890">that,</span> <span m="2748110">then</span> <span m="2749130">OK.</span> <span m="2749520">But</span> <span m="2749760">you're</span> <span m="2749870">still</span> <span m="2750100">going</span> <span m="2750300">to</span> <span m="2750390">have</span> <span m="2750520">to</span> <span m="2750610">compute</span> <span m="2750930">the</span> <span m="2751020">initial</span> <span m="2751350">value</span> <span m="2751620">at</span> <span m="2751740">some</span> <span m="2751930">point.</span> </p>
<p><span m="2753982">AUDIENCE: But if you know</span> <span m="2754405">window's</span> <span m="2754830">staying the</span> <span m="2755145">same, you</span> <span m="2755460">don't</span> <span m="2755690">need</span> <span m="2755830">to that</span> <span m="2756190">computation</span> <span m="2756550">every time?</span> </p>
<p><span m="2758320">PROFESSOR: If</span> <span m="2758480">you--</span> <span m="2759100">sorry?</span> </p>
<p><span m="2759485">AUDIENCE: If</span> <span m="2759870">you</span> <span m="2760245">know</span> <span m="2760620">you're actually</span> <span m="2760880">just doing a</span> <span m="2761140">window</span> <span m="2762331">rolling hash--</span> </p>
<p><span m="2762730">PROFESSOR: Yup.</span> <span m="2763040">So</span> <span m="2763240">then</span> <span m="2763400">you</span> <span m="2763500">would</span> <span m="2763650">initialize</span> <span m="2764360">magic</span> <span m="2764830">here</span> <span m="2765400">to</span> <span m="2765510">be</span> <span m="2765920">whatever</span> <span m="2766490">you</span> <span m="2766590">want</span> <span m="2766790">it</span> <span m="2766890">to</span> <span m="2766970">be,</span> <span m="2767990">right?</span> <span m="2769690">But</span> <span m="2769870">then</span> <span m="2770110">when</span> <span m="2770270">you</span> <span m="2770800">add</span> <span m="2771060">the</span> <span m="2771150">first</span> <span m="2771510">few</span> <span m="2771650">characters</span> <span m="2772150">to</span> <span m="2772250">the</span> <span m="2772400">window,</span> <span m="2772780">you</span> <span m="2772890">have</span> <span m="2773080">to</span> <span m="2773180">figure</span> <span m="2773470">out</span> <span m="2773670">how</span> <span m="2773800">to</span> <span m="2773980">add</span> <span m="2774160">them.</span> <span m="2776630">So</span> <span m="2776690">the</span> <span m="2776800">code</span> <span m="2777030">gets</span> <span m="2777230">more</span> <span m="2777470">messy.</span> <span m="2777840">It</span> <span m="2778030">turns</span> <span m="2778300">out</span> <span m="2778400">that</span> <span m="2778570">this</span> <span m="2778780">is</span> <span m="2779380">actually</span> <span m="2779750">simpler</span> <span m="2780260">than</span> <span m="2780820">doing</span> <span m="2781080">it</span> <span m="2781170">that</span> <span m="2781400">way.</span> </p>
<p><span m="2784070">AUDIENCE: [INAUDIBLE]</span> <span m="2784270">magic</span> <span m="2787300">I guess I'm just</span> <span m="2787798">confused</span> <span m="2788296">because it seems</span> <span m="2788794">like we're</span> <span m="2789292">still working with the</span> <span m="2789790">large</span> <span m="2790288">numbers</span> <span m="2790786">every time</span> <span m="2791284">[INAUDIBLE].</span> </p>
<p><span m="2792790">PROFESSOR: Oh.</span> <span m="2793270">Let's</span> <span m="2793470">see.</span> <span m="2795020">Mod</span> <span m="2795350">p,</span> <span m="2795828">mod</span> <span m="2796306">p.</span> </p>
<p><span m="2797740">AUDIENCE: That's</span> <span m="2798218">not--</span> <span m="2798696">so even though</span> <span m="2799174">you're</span> <span m="2799652">still multiplying</span> <span m="2800130">magic</span> <span m="2800608">times</span> <span m="2801086">base,</span> <span m="2802042">it doesn't</span> <span m="2802520">matter.</span> </p>
<p><span m="2803960">PROFESSOR: After</span> <span m="2804340">I'm</span> <span m="2804480">going</span> <span m="2804670">that,</span> <span m="2804860">I'm</span> <span m="2804950">reducing</span> <span m="2805550">it</span> <span m="2805910">modulo</span> <span m="2806260">p.</span> <span m="2806960">Yeah.</span> </p>
<p><span m="2807960">AUDIENCE: And then</span> <span m="2808460">because</span> <span m="2808960">we're only working with the</span> <span m="2809460">smaller</span> <span m="2809800">values.</span> </p>
<p><span m="2811080">PROFESSOR: Yup.</span> <span m="2811760">So</span> <span m="2812090">everything</span> <span m="2812540">here</span> <span m="2812980">stays</span> <span m="2813430">between</span> <span m="2814740">0</span> <span m="2815180">and</span> <span m="2815400">base</span> <span m="2815850">or</span> <span m="2816090">0</span> <span m="2816440">and</span> <span m="2816640">p.</span> <span m="2816760">Actually</span> <span m="2817100">hash is</span> <span m="2817550">between</span> <span m="2817910">0</span> <span m="2818220">and</span> <span m="2818390">p</span> <span m="2818560">and</span> <span m="2818700">magic</span> <span m="2819040">is</span> <span m="2819160">between</span> <span m="2819300">0 and</span> <span m="2819764">p.</span> <span m="2822548">OK.</span> </p>
<p><span m="2823012">AUDIENCE: How big does</span> <span m="2823476">p usually get?</span> </p>
<p><span m="2826026">PROFESSOR: How</span> <span m="2826370">big</span> <span m="2826480">does</span> <span m="2827020">p</span> <span m="2827480">usually</span> <span m="2827820">get.</span> <span m="2828450">So</span> <span m="2830580">And let me</span> <span m="2830710">get</span> <span m="2830890">back</span> <span m="2831120">to</span> <span m="2831190">this.</span> <span m="2834450">So</span> <span m="2834640">I was</span> <span m="2834760">arguing</span> <span m="2835040">that</span> <span m="2835190">the</span> <span m="2835260">number</span> <span m="2835570">of</span> <span m="2836110">false</span> <span m="2836410">positives</span> <span m="2836860">here</span> <span m="2837140">is</span> <span m="2837220">one</span> <span m="2837480">over O,</span> <span m="2838450">right?</span> <span m="2843390">is</span> <span m="2843690">the</span> <span m="2843800">number</span> <span m="2844110">of</span> <span m="2844210">values</span> <span m="2844530">that the</span> <span m="2844840">hash</span> <span m="2844980">function</span> <span m="2845320">can</span> <span m="2845490">output.</span> <span m="2846490">How</span> <span m="2846620">many</span> <span m="2846940">hash</span> <span m="2847170">functions</span> <span m="2847660">can</span> <span m="2847850">we</span> <span m="2847940">output</span> <span m="2848330">using</span> <span m="2848560">a</span> <span m="2848670">rolling</span> <span m="2848940">hash?</span> </p>
<p><span m="2852258">AUDIENCE: P.</span> </p>
<p><span m="2853224">PROFESSOR: P.</span> <span m="2853710">OK.</span> <span m="2853970">So</span> <span m="2854110">the</span> <span m="2854230">number</span> <span m="2854540">of</span> <span m="2854620">false</span> <span m="2854930">positives</span> <span m="2856710">is</span> <span m="2857100">1/P.</span> <span m="2858510">So</span> <span m="2858720">what</span> <span m="2858870">do</span> <span m="2858920">we</span> <span m="2859030">want</span> <span m="2859270">for</span> <span m="2859440">p?</span> </p>
<p><span m="2859630">AUDIENCE: We want p</span> <span m="2860042">to be the</span> <span m="2860454">word size,</span> <span m="2860866">because</span> <span m="2861278">but if p's</span> <span m="2861690">the word</span> <span m="2861800">size,</span> <span m="2862100">then--</span> </p>
<p><span m="2863780">PROFESSOR: So</span> <span m="2863990">p</span> <span m="2864335">can't</span> <span m="2864680">be</span> <span m="2864820">the</span> <span m="2864930">word size,</span> <span m="2865350">because</span> <span m="2865590">it</span> <span m="2865700">has</span> <span m="2865880">to</span> <span m="2865940">be</span> <span m="2866080">prime,</span> <span m="2866330">right?</span> <span m="2866930">But</span> <span m="2867150">we</span> <span m="2867270">want it</span> <span m="2867510">to</span> <span m="2867570">be</span> <span m="2867710">big,</span> <span m="2867990">because</span> <span m="2868340">as p</span> <span m="2868600">becomes</span> <span m="2869250">bigger,</span> <span m="2869700">1/P</span> <span m="2870250">becomes</span> <span m="2870550">smaller.</span> <span m="2871800">So</span> <span m="2873868">there</span> <span m="2874340">are</span> <span m="2874430">two</span> <span m="2874540">constraints.</span> <span m="2875840">We</span> <span m="2875940">want</span> <span m="2876170">p</span> <span m="2876300">to</span> <span m="2876420">be</span> <span m="2876550">big</span> <span m="2876810">so</span> <span m="2877030">that</span> <span m="2877190">we</span> <span m="2877270">don't</span> <span m="2877440">have</span> <span m="2877550">a</span> <span m="2877590">lot</span> <span m="2877730">of</span> <span m="2877810">false</span> <span m="2878050">positives.</span> <span m="2879130">And</span> <span m="2879340">we</span> <span m="2879440">want</span> <span m="2879840">p</span> <span m="2880030">to</span> <span m="2880130">be</span> <span m="2880240">small</span> <span m="2880820">so</span> <span m="2881150">that</span> <span m="2882260">operations</span> <span m="2883230">don't</span> <span m="2883460">take</span> <span m="2883630">a</span> <span m="2883700">lot</span> <span m="2883880">of</span> <span m="2884000">time.</span> <span m="2885070">So</span> <span m="2885950">in</span> <span m="2886130">engineering,</span> <span m="2886660">this</span> <span m="2886860">is</span> <span m="2886970">how</span> <span m="2887130">things</span> <span m="2887450">work.</span> <span m="2887660">We</span> <span m="2887800">call</span> <span m="2888050">it</span> <span m="2888140">a</span> <span m="2888310">tradeoff</span> <span m="2888940">because</span> <span m="2889250">there</span> <span m="2889410">are</span> <span m="2889870">forces</span> <span m="2890370">pushing</span> <span m="2890730">in</span> <span m="2890820">opposite</span> <span m="2891170">directions,</span> <span m="2891640">and</span> <span m="2891770">it</span> <span m="2891890">turns</span> <span m="2892160">out</span> <span m="2892280">that</span> <span m="2892920">a</span> <span m="2892990">reasonable</span> <span m="2893460">answer</span> <span m="2893710">to</span> <span m="2893810">the</span> <span m="2893930">trade</span> <span m="2894170">off</span> <span m="2894340">is</span> <span m="2895020">you</span> <span m="2895160">make</span> <span m="2895470">p</span> <span m="2895700">fit</span> <span m="2895950">in</span> <span m="2896020">a</span> <span m="2896120">word</span> <span m="2896810">so</span> <span m="2897000">that</span> <span m="2897220">all</span> <span m="2897330">those</span> <span m="2897530">operations</span> <span m="2898120">are</span> <span m="2898240">still</span> <span m="2898480">implementable</span> <span m="2899210">by</span> <span m="2899940">one</span> <span m="2900340">CPU</span> <span m="2900730">instruction.</span> </p>
<p><span m="2902730">You</span> <span m="2902870">can't</span> <span m="2903100">have</span> <span m="2903240">it</span> <span m="2903390">be</span> <span m="2903500">the</span> <span m="2903630">word</span> <span m="2903810">size.</span> <span m="2904040">So</span> <span m="2904340">if</span> <span m="2904590">we're</span> <span m="2904750">working</span> <span m="2905080">on</span> <span m="2905200">a</span> <span m="2905260">32-bit</span> <span m="2905760">computer,</span> <span m="2906240">I</span> <span m="2906320">can't</span> <span m="2906590">have</span> <span m="2906770">this</span> <span m="2906990">be</span> <span m="2907333">2</span> <span m="2907676">to</span> <span m="2908020">the</span> <span m="2908260">32.</span> <span m="2909390">But</span> <span m="2909590">I</span> <span m="2909660">can</span> <span m="2909870">have</span> <span m="2910440">a</span> <span m="2911110">prime</span> <span m="2911380">number</span> <span m="2911750">that's</span> <span m="2912570">just</span> <span m="2912840">a</span> <span m="2912900">little</span> <span m="2913130">bit</span> <span m="2913330">smaller</span> <span m="2913670">than</span> <span m="2913840">2</span> <span m="2913960">to</span> <span m="2914090">the</span> <span m="2914210">32.</span> </p>
<p><span m="2914640">AUDIENCE: Wait,</span> <span m="2915112">why</span> <span m="2915584">can't it</span> <span m="2916056">be</span> <span m="2917000">the</span> <span m="2917472">word</span> <span m="2917944">size?</span> <span m="2918888">Or</span> <span m="2919360">why can't it</span> <span m="2919832">be</span> <span m="2920304">2 to the</span> <span m="2920776">32?</span> </p>
<p><span m="2921250">PROFESSOR: So</span> <span m="2921700">if p</span> <span m="2921970">would</span> <span m="2922150">be</span> <span m="2922290">this</span> <span m="2922610">instead</span> <span m="2922930">of</span> <span m="2923150">a</span> <span m="2923400">prime,</span> <span m="2923610">then</span> <span m="2923885">I</span> <span m="2924160">can't</span> <span m="2924640">do</span> <span m="2924940">this.</span> </p>
<p><span m="2925378">AUDIENCE: Oh,</span> <span m="2925816">right right right,</span> <span m="2926254">yeah I knew</span> <span m="2926692">that.</span> </p>
<p><span m="2927130">PROFESSOR: There</span> <span m="2927280">are</span> <span m="2927300">a</span> <span m="2927330">lot</span> <span m="2927530">of</span> <span m="2927630">moving</span> <span m="2927950">parts</span> <span m="2928190">here</span> <span m="2928330">and</span> <span m="2928430">they're</span> <span m="2928570">all</span> <span m="2928680">interconnected.</span> </p>
<p><span m="2930290">AUDIENCE: You could do</span> <span m="2930745">that for any</span> <span m="2931200">prime number,</span> <span m="2931655">right?</span> </p>
<p><span m="2932110">PROFESSOR: Yup.</span> <span m="2932990">So</span> <span m="2933170">this</span> <span m="2933330">works</span> <span m="2933540">for</span> <span m="2933660">prime</span> <span m="2933900">numbers,</span> <span m="2934250">but</span> <span m="2934410">it</span> <span m="2934470">doesn't</span> <span m="2934800">work</span> <span m="2935230">for</span> <span m="2935430">non</span> <span m="2935660">prime</span> <span m="2935890">numbers.</span> </p>
<p><span m="2937190">AUDIENCE: You</span> <span m="2937390">could</span> <span m="2937870">find</span> <span m="2938350">the multiplicative</span> <span m="2938830">inverse</span> <span m="2939310">for any</span> <span m="2939790">prime number</span> <span m="2940578">in</span> <span m="2941026">base 32.</span> <span m="2943714">Is that</span> <span m="2944170">true?</span> <span m="2944545">I mean</span> <span m="2944920">any odd</span> <span m="2945300">number is</span> <span m="2945660">what I'm</span> <span m="2946020">trying to</span> <span m="2946453">say.</span> <span m="2946886">No, that's</span> <span m="2947319">not true.</span> </p>
<p><span m="2948620">PROFESSOR: I</span> <span m="2948700">refuse</span> <span m="2949060">to</span> <span m="2949150">answer</span> <span m="2949410">hard</span> <span m="2949640">math</span> <span m="2949800">questions.</span> </p>
<p><span m="2950190">AUDIENCE: They</span> <span m="2950390">need to</span> <span m="2950845">be</span> <span m="2951300">relatively</span> <span m="2951595">prime.</span> <span m="2951890">They need to</span> <span m="2952370">share no</span> <span m="2952850">factors.</span> </p>
<p><span m="2953810">PROFESSOR: Yes,</span> <span m="2954310">it</span> <span m="2954580">might</span> <span m="2955020">be</span> <span m="2955150">true.</span> </p>
<p><span m="2955840">AUDIENCE: So</span> <span m="2956170">an</span> <span m="2956720">odd</span> <span m="2956910">will</span> <span m="2957340">not</span> <span m="2957590">share a</span> <span m="2957910">factor</span> <span m="2958780">with</span> <span m="2959010">2</span> <span m="2959345">to the</span> <span m="2959680">32?</span> </p>
<p><span m="2961040">PROFESSOR: You're</span> <span m="2961160">forcing me</span> <span m="2961280">to</span> <span m="2961700">remember</span> <span m="2961820">hard math.</span> </p>
<p><span m="2964036">AUDIENCE: Yeah, I totally just thought about this as</span> <span m="2964510">[INAUDIBLE]</span> <span m="2964984">number.</span> </p>
<p><span m="2966880">PROFESSOR: So,</span> <span m="2967640">no,</span> <span m="2967930">it</span> <span m="2968110">turns</span> <span m="2968370">out</span> <span m="2968640">that</span> <span m="2969510">there's</span> <span m="2969890">no--</span> <span m="2970650">if</span> <span m="2971030">you're</span> <span m="2971180">working</span> <span m="2971660">modulo</span> <span m="2972350">and</span> <span m="2972750">non prime</span> <span m="2972990">base,</span> <span m="2973400">then</span> <span m="2973620">there's</span> <span m="2973840">no</span> <span m="2973990">multiplicity</span> <span m="2974690">inverses.</span> <span m="2975620">So</span> <span m="2975760">some</span> <span m="2976020">numbers</span> <span m="2976330">have</span> <span m="2976680">no</span> <span m="2976760">multiplicative</span> <span m="2977450">inverses,</span> <span m="2978390">and</span> <span m="2978570">other</span> <span m="2978750">numbers</span> <span m="2979120">have</span> <span m="2979250">more</span> <span m="2979460">than</span> <span m="2979640">one</span> <span m="2980060">multiplicative</span> <span m="2980720">inverse.</span> <span m="2982730">And</span> <span m="2983000">then</span> <span m="2983150">the</span> <span m="2983240">whole</span> <span m="2983430">thing</span> <span m="2983590">doesn't</span> <span m="2983930">work.</span> <span m="2984870">So</span> <span m="2986070">let</span> <span m="2986190">me</span> <span m="2986290">see</span> <span m="2986450">if</span> <span m="2986580">I</span> <span m="2986650">can</span> <span m="2986870">make</span> <span m="2987170">this</span> <span m="2987620">work</span> <span m="2987970">without</span> <span m="2988350">having</span> <span m="2988630">an</span> <span m="2988710">example</span> <span m="2989140">by</span> <span m="2989280">hand.</span> <span m="2990020">Let's</span> <span m="2990100">say</span> <span m="2990210">we're</span> <span m="2990400">working</span> <span m="2990790">mod</span> <span m="2991090">8,</span> <span m="2991390">right?</span> <span m="2993380">Mod</span> <span m="2993590">8.</span> <span m="2993790">So</span> <span m="2994775">2</span> <span m="2995140">to</span> <span m="2996280">the</span> <span m="2996400">minus</span> <span m="2996740">1</span> <span m="2996930">mod</span> <span m="2997110">8</span> <span m="2997280">is</span> <span m="2997390">not</span> <span m="2997550">going</span> <span m="2997680">to</span> <span m="2997720">exist,</span> <span m="2998190">right?</span> </p>
<p><span m="2998390">AUDIENCE: Right, but</span> <span m="2998810">3 will.</span> </p>
<p><span m="2999650">PROFESSOR: 3.</span> <span m="3000040">Let's</span> <span m="3000280">see</span> <span m="3000420">what</span> <span m="3001770">do</span> <span m="3001850">we</span> <span m="3001990">use?</span> <span m="3002430">3</span> <span m="3002590">times</span> <span m="3002890">3</span> <span m="3004000">is</span> <span m="3004180">9,</span> <span m="3004420">right?</span> <span m="3004670">So</span> <span m="3004790">this</span> <span m="3005020">is</span> <span m="3005140">1.</span> <span m="3006580">How</span> <span m="3006730">about</span> <span m="3007080">3</span> <span m="3007400">times</span> <span m="3007680">5?</span> <span m="3013040">15</span> <span m="3013400">mod 8</span> <span m="3014060">is</span> <span m="3014700">7.</span> <span m="3016540">So</span> <span m="3016870">3</span> <span m="3017090">and</span> <span m="3017280">5,</span> <span m="3017710">and</span> <span m="3017930">then--</span> </p>
<p><span m="3019121">AUDIENCE: 11.</span> </p>
<p><span m="3024310">PROFESSOR: OK.</span> <span m="3027780">So</span> <span m="3028000">3</span> <span m="3028220">times</span> <span m="3028460">7</span> <span m="3028830">would be</span> <span m="3029310">21,</span> <span m="3030000">5.</span> <span m="3034030">OK</span> <span m="3034300">so</span> <span m="3035700">3</span> <span m="3036290">and--</span> <span m="3038950">3</span> <span m="3039140">is</span> <span m="3039240">the</span> <span m="3039330">multiplicative</span> <span m="3040050">inverse</span> <span m="3040390">of</span> <span m="3040490">itself,</span> <span m="3040900">and</span> <span m="3041050">5</span> <span m="3041340">and</span> <span m="3041520">7</span> <span m="3041880">are--</span> <span m="3042347">yeah.</span> <span m="3043281">I have</span> <span m="3043750">to</span> <span m="3043850">build</span> <span m="3044060">a</span> <span m="3044100">more</span> <span m="3044260">complicated</span> <span m="3044810">example,</span> <span m="3045690">but</span> <span m="3047240">this</span> <span m="3047460">breaks</span> <span m="3047740">down</span> <span m="3047990">in</span> <span m="3048110">some</span> <span m="3048430">cases.</span> <span m="3052100">I'll</span> <span m="3052250">have</span> <span m="3052360">to</span> <span m="3052450">get</span> <span m="3052600">back</span> <span m="3052780">to</span> <span m="3053250">you.</span> <span m="3053690">I</span> <span m="3053790">will</span> <span m="3053940">look</span> <span m="3054120">at</span> <span m="3054200">my</span> <span m="3054350">notes</span> <span m="3054720">for</span> <span m="3055100">modular</span> <span m="3055670">arithmetic</span> <span m="3056110">and</span> <span m="3056370">I'll</span> <span m="3056460">get</span> <span m="3056660">back</span> <span m="3056890">to</span> <span m="3057010">you</span> <span m="3057130">guys</span> <span m="3057320">over</span> <span m="3057450">email</span> <span m="3057740">for</span> <span m="3058360">why</span> <span m="3058580">and</span> <span m="3058670">how</span> <span m="3058800">that</span> <span m="3058980">breaks.</span> <span m="3059560">Yes.</span> </p>
<p><span m="3060377">AUDIENCE: Sorry,</span> <span m="3060854">can you</span> <span m="3061331">tell me again</span> <span m="3061808">why we did the</span> <span m="3062285">part 2</span> <span m="3062762">in skip?</span> <span m="3063239">Like</span> <span m="3064193">why did we</span> <span m="3064670">do that?</span> <span m="3066578">I'm not really</span> <span m="3067055">sure</span> <span m="3067532">[INAUDIBLE].</span> </p>
<p><span m="3070290">PROFESSOR: So</span> <span m="3070570">we</span> <span m="3071590">started</span> <span m="3071970">with</span> <span m="3072310">magic</span> <span m="3072810">1</span> <span m="3073120">and</span> <span m="3073250">then</span> <span m="3073510">we--</span> <span m="3074480">in</span> <span m="3074660">order</span> <span m="3074900">for</span> <span m="3075120">this</span> <span m="3075420">to</span> <span m="3075510">work,</span> <span m="3076840">we</span> <span m="3077010">agree</span> <span m="3077250">that</span> <span m="3077470">magic</span> <span m="3077940">will</span> <span m="3078120">be</span> <span m="3078290">base</span> <span m="3078920">to</span> <span m="3079110">the</span> <span m="3079250">size</span> <span m="3079570">modulo</span> <span m="3080020">p</span> <span m="3080350">all</span> <span m="3080510">the</span> <span m="3080610">time.</span> <span m="3080820">So</span> <span m="3080930">this</span> <span m="3081140">has</span> <span m="3081300">to</span> <span m="3081390">be</span> <span m="3081560">[INAUDIBLE]</span> <span m="3081870">invariant</span> <span m="3082250">for</span> <span m="3082440">my</span> <span m="3082580">rolling</span> <span m="3082870">hash.</span> <span m="3083900">When</span> <span m="3084100">I</span> <span m="3084170">do</span> <span m="3084310">an</span> <span m="3084410">append,</span> <span m="3085310">the</span> <span m="3085480">size</span> <span m="3085740">increases</span> <span m="3086210">by</span> <span m="3086330">1.</span> <span m="3087770">And</span> <span m="3087950">then</span> <span m="3088240">I</span> <span m="3088370">multiply</span> <span m="3088840">by</span> <span m="3088980">base</span> <span m="3089310">to</span> <span m="3089400">modulo</span> <span m="3089820">p.</span> <span m="3091010">When</span> <span m="3091320">I</span> <span m="3091410">do</span> <span m="3091610">a</span> <span m="3091680">skip,</span> <span m="3092750">the</span> <span m="3092890">size</span> <span m="3093200">decreases</span> <span m="3093690">by</span> <span m="3093800">1.</span> <span m="3095610">So</span> <span m="3097190">I</span> <span m="3097310">have</span> <span m="3097490">to</span> <span m="3097620">change</span> <span m="3097860">magic,</span> <span m="3098380">because</span> <span m="3098650">magic</span> <span m="3098970">is</span> <span m="3099090">always</span> <span m="3099360">base</span> <span m="3099630">times</span> <span m="3099750">size,</span> <span m="3100010">so</span> <span m="3100180">I</span> <span m="3100240">have</span> <span m="3100410">to</span> <span m="3100510">update</span> <span m="3100850">it.</span> </p>
<p><span m="3103100">So</span> <span m="3103240">this</span> <span m="3103470">is</span> <span m="3103620">why</span> <span m="3104140">this</span> <span m="3104340">happened.</span> <span m="3104740">Because</span> <span m="3105460">initially,</span> <span m="3105980">I</span> <span m="3106070">wanted</span> <span m="3106570">to</span> <span m="3106700">update</span> <span m="3107200">by</span> <span m="3107340">dividing</span> <span m="3107900">it</span> <span m="3108020">by</span> <span m="3108670">base,</span> <span m="3109010">right?</span> <span m="3109580">Magic</span> <span m="3110060">divided</span> <span m="3110440">by</span> <span m="3110550">base.</span> <span m="3111750">But</span> <span m="3112160">if</span> <span m="3112310">magic</span> <span m="3112690">is</span> <span m="3112860">5</span> <span m="3113140">and</span> <span m="3113270">base</span> <span m="3113510">is</span> <span m="3113610">100,</span> <span m="3114080">we're</span> <span m="3114180">not</span> <span m="3114350">going</span> <span m="3114470">to</span> <span m="3114530">get</span> <span m="3114710">an</span> <span m="3114820">integer.</span> <span m="3116450">And</span> <span m="3116520">we</span> <span m="3116620">want</span> <span m="3116810">to</span> <span m="3116870">stay</span> <span m="3117120">within</span> <span m="3117540">integers,</span> <span m="3118630">so</span> <span m="3119170">that's</span> <span m="3119450">when</span> <span m="3119600">I</span> <span m="3119690">pulled</span> <span m="3120000">out</span> <span m="3120180">fancy</span> <span m="3120500">math</span> <span m="3120790">and--</span> <span m="3122330">OK.</span> <span m="3125560">OK.</span> <span m="3126670">So</span> <span m="3126820">how are we</span> <span m="3127270">doing with rolling</span> <span m="3127660">hashes?</span> <span m="3128800">Good?</span> </p>
<p><span m="3131038">AUDIENCE: All</span> <span m="3131510">this math</span> <span m="3131982">will be in the notes, right?</span> </p>
<p><span m="3132930">PROFESSOR: Everything.</span> <span m="3133305">Oh,</span> <span m="3134140">yeah,</span> <span m="3134570">everything</span> <span m="3135110">else</span> <span m="3135360">will</span> <span m="3135460">be</span> <span m="3135620">in the</span> <span m="3136000">notes.</span> <span m="3136920">Before</span> <span m="3137170">we</span> <span m="3137280">close</span> <span m="3137560">out,</span> <span m="3137840">I want to</span> <span m="3137920">show</span> <span m="3138120">you</span> <span m="3138260">one</span> <span m="3138750">cute</span> <span m="3140150">thing.</span> <span m="3142880">Who</span> <span m="3143030">remembers</span> <span m="3143580">amortized</span> <span m="3144100">analysis?</span> <span m="3144650">I</span> <span m="3144760">know</span> <span m="3144920">there's</span> <span m="3145150">one</span> <span m="3145340">person</span> <span m="3145690">that</span> <span m="3145900">said</span> <span m="3146070">they</span> <span m="3146150">understood.</span> </p>
<p><span m="3150490">All</span> </p>
<p><span m="3152530">PROFESSOR: The</span> <span m="3152680">growing,</span> <span m="3153020">shrinking</span> <span m="3153330">thing</span> <span m="3153550">is</span> <span m="3153660">what</span> <span m="3153820">we</span> <span m="3153910">did</span> <span m="3154070">in</span> <span m="3154160">lecture.</span> <span m="3154540">I</span> <span m="3154590">want</span> <span m="3154760">to</span> <span m="3154810">show</span> <span m="3155100">something</span> <span m="3155440">else.</span> <span m="3156290">I</span> <span m="3156390">want</span> <span m="3156570">to</span> <span m="3156650">show</span> <span m="3156860">you</span> <span m="3156980">a</span> <span m="3157030">binary</span> <span m="3157450">tree.</span> <span m="3157990">A</span> <span m="3158080">binary</span> <span m="3158380">search</span> <span m="3158700">tree,</span> <span m="3158920">because</span> <span m="3159270">you've</span> <span m="3159400">seen</span> <span m="3159600">this</span> <span m="3159780">on</span> <span m="3159890">the</span> <span m="3160010">PSAT</span> <span m="3160370">and</span> <span m="3160480">you</span> <span m="3160570">already</span> <span m="3160840">hate</span> <span m="3161080">it.</span> </p>
<p><span m="3163300">AUDIENCE: Why'd</span> <span m="3163770">they call</span> <span m="3164240">it</span> <span m="3164710">amortization?</span> <span m="3165180">Because I</span> <span m="3165650">looked it</span> <span m="3166120">up</span> <span m="3166590">online,</span> <span m="3166940">it means to</span> <span m="3167290">kill,</span> <span m="3167640">and</span> <span m="3168120">so</span> <span m="3168510">I'm like,</span> <span m="3168980">why</span> <span m="3169450">not</span> <span m="3169920">say</span> <span m="3170390">like,</span> <span m="3170840">attrition</span> <span m="3171100">or</span> <span m="3171360">something</span> <span m="3171760">else</span> <span m="3172215">that's</span> <span m="3172670">a little bit</span> <span m="3172970">less--</span> </p>
<p><span m="3173270">PROFESSOR: Amortization</span> <span m="3174010">is</span> <span m="3174170">also</span> <span m="3175010">used in</span> <span m="3175380">accounting</span> <span m="3176010">to</span> <span m="3176100">mean</span> <span m="3178410">you're--</span> </p>
<p><span m="3179260">[INTERPOSING VOICES]</span> </p>
<p><span m="3185920">PROFESSOR: Let's</span> <span m="3186140">use</span> <span m="3186320">the</span> <span m="3186610">growing</span> <span m="3186890">hash</span> <span m="3187110">example,</span> <span m="3187510">because</span> <span m="3187790">that's</span> <span m="3187980">good</span> <span m="3188140">for</span> <span m="3188310">why</span> <span m="3188470">this</span> <span m="3188690">is</span> <span m="3188810">the</span> <span m="3188920">case.</span> <span m="3190300">So</span> <span m="3190380">when</span> <span m="3190490">you're</span> <span m="3190620">growing</span> <span m="3190880">your</span> <span m="3191050">table,</span> <span m="3192070">you're</span> <span m="3192240">inserting.</span> <span m="3193470">If</span> <span m="3193600">you</span> <span m="3193690">still</span> <span m="3193900">have</span> <span m="3194040">space,</span> <span m="3194400">that's</span> <span m="3194640">order</span> <span m="3194920">one.</span> <span m="3195230">If</span> <span m="3195450">not,</span> <span m="3196110">you</span> <span m="3196210">have</span> <span m="3196400">to</span> <span m="3196510">grow</span> <span m="3196700">your</span> <span m="3196880">table</span> <span m="3197200">to</span> <span m="3197270">insert.</span> <span m="3198540">And</span> <span m="3198770">that</span> <span m="3198940">is</span> <span m="3199190">more</span> <span m="3199380">expensive.</span> <span m="3200710">That's</span> <span m="3201010">order</span> <span m="3201480">n</span> <span m="3201750">where</span> <span m="3201980">n</span> <span m="3202100">is</span> <span m="3202210">how</span> <span m="3202300">many</span> <span m="3202540">elements</span> <span m="3202920">you</span> <span m="3203000">had</span> <span m="3203220">before.</span> <span m="3204220">So</span> <span m="3204250">if</span> <span m="3204390">you</span> <span m="3204490">graph</span> <span m="3204820">this</span> <span m="3205030">costs,</span> <span m="3207090">if</span> <span m="3207210">you</span> <span m="3207300">start</span> <span m="3207630">off with</span> <span m="3207770">a</span> <span m="3207850">table</span> <span m="3208120">of</span> <span m="3208210">size</span> <span m="3208500">one,</span> <span m="3208690">you</span> <span m="3208790">can</span> <span m="3208930">insert</span> <span m="3209240">the</span> <span m="3209330">first</span> <span m="3209650">element</span> <span m="3210560">for</span> <span m="3210840">a</span> <span m="3210890">cost</span> <span m="3211180">of</span> <span m="3211280">one.</span> <span m="3212520">For</span> <span m="3212690">the</span> <span m="3212820">second</span> <span m="3213170">element,</span> <span m="3213550">you</span> <span m="3213640">have</span> <span m="3213780">to</span> <span m="3213870">resize</span> <span m="3214230">the</span> <span m="3214350">table,</span> <span m="3214690">so</span> <span m="3214850">it's</span> <span m="3214990">a</span> <span m="3215050">cost</span> <span m="3215340">of</span> <span m="3215450">two.</span> </p>
<p><span m="3218640">Now</span> <span m="3218790">when</span> <span m="3218900">you're</span> <span m="3219020">trying</span> <span m="3219290">to</span> <span m="3219420">insert</span> <span m="3219760">the</span> <span m="3219850">third</span> <span m="3220140">element,</span> <span m="3220620">you</span> <span m="3220720">have</span> <span m="3220890">to</span> <span m="3220970">resize</span> <span m="3221320">the</span> <span m="3221410">table</span> <span m="3221730">again</span> <span m="3221970">to a size</span> <span m="3222390">of</span> <span m="3222480">4.</span> <span m="3223600">But</span> <span m="3223800">when</span> <span m="3223930">you</span> <span m="3224070">insert</span> <span m="3224330">the</span> <span m="3224410">fourth</span> <span m="3224720">element,</span> <span m="3225200">it's</span> <span m="3225380">free.</span> <span m="3226460">Well,</span> <span m="3226830">cost</span> <span m="3227110">of</span> <span m="3227200">one.</span> <span m="3228400">When</span> <span m="3228640">you</span> <span m="3229470">insert</span> <span m="3229940">the</span> <span m="3230040">fifth</span> <span m="3230310">element,</span> <span m="3230690">you</span> <span m="3230780">have</span> <span m="3230910">to</span> <span m="3231010">resize</span> <span m="3231450">a</span> <span m="3231550">table</span> <span m="3231900">to</span> <span m="3231990">the</span> <span m="3232070">size</span> <span m="3232350">of</span> <span m="3232540">eight,</span> <span m="3233290">right?</span> <span m="3233490">So</span> <span m="3233590">The</span> <span m="3233700">table</span> <span m="3234020">size is</span> <span m="3234400">one,</span> <span m="3234850">two,</span> <span m="3235550">four,</span> <span m="3235870">four,</span> <span m="3236190">and</span> <span m="3236270">now</span> <span m="3236420">it's</span> <span m="3236610">eight.</span> <span m="3237540">But</span> <span m="3237720">because</span> <span m="3238190">they</span> <span m="3238410">resized</span> <span m="3238810">this</span> <span m="3239010">to</span> <span m="3239440">eight,</span> <span m="3239560">the next</span> <span m="3239810">three</span> <span m="3239970">assertions</span> <span m="3240600">are</span> <span m="3240740">going</span> <span m="3240990">to</span> <span m="3241090">be</span> <span m="3241230">order</span> <span m="3241500">one.</span> <span m="3242730">And</span> <span m="3242900">then</span> <span m="3243060">the</span> <span m="3243160">one</span> <span m="3243350">after</span> <span m="3243630">that</span> <span m="3243910">is</span> <span m="3244080">going</span> <span m="3244460">to</span> <span m="3245310">make</span> <span m="3245670">the</span> <span m="3245950">table</span> <span m="3246270">be</span> <span m="3246810">16.</span> <span m="3247350">So</span> <span m="3247580">I</span> <span m="3247660">can</span> <span m="3247890">do</span> <span m="3248930">seven</span> <span m="3249290">insertions</span> <span m="3251210">for</span> <span m="3251480">free</span> <span m="3251900">and</span> <span m="3252070">then</span> <span m="3252240">I'm</span> <span m="3252340">going</span> <span m="3252570">to</span> <span m="3252680">have</span> <span m="3252910">to pay</span> <span m="3253140">a</span> <span m="3253790">lot</span> <span m="3254010">more</span> <span m="3254180">for</span> <span m="3254370">the</span> <span m="3254500">next</span> <span m="3254770">one.</span> </p>
<p><span m="3257450">Someone</span> <span m="3257830">said</span> <span m="3257980">dampening.</span> <span m="3258520">I</span> <span m="3258550">like</span> <span m="3258790">dampening</span> <span m="3259370">because</span> <span m="3259820">the</span> <span m="3259930">idea</span> <span m="3260170">behind</span> <span m="3260490">amortization</span> <span m="3261170">is</span> <span m="3261370">that</span> <span m="3262200">you</span> <span m="3262320">can</span> <span m="3262530">take--</span> <span m="3263980">you</span> <span m="3264140">have</span> <span m="3264320">these</span> <span m="3264480">big</span> <span m="3264660">costs</span> <span m="3265160">and</span> <span m="3265270">they</span> <span m="3265360">don't</span> <span m="3265620">occur</span> <span m="3265910">very</span> <span m="3266220">often.</span> <span m="3267030">So</span> <span m="3267180">you</span> <span m="3267300">can</span> <span m="3267480">think</span> <span m="3267710">of</span> <span m="3267850">it</span> <span m="3268020">as</span> <span m="3268610">taking</span> <span m="3268900">these</span> <span m="3269100">big</span> <span m="3269280">costs</span> <span m="3270190">and</span> <span m="3270990">chopping</span> <span m="3271330">them</span> <span m="3271500">up.</span> <span m="3271690">For</span> <span m="3271800">example,</span> <span m="3272170">I'm</span> <span m="3272310">going</span> <span m="3272530">to</span> <span m="3272640">chop</span> <span m="3272880">this</span> <span m="3273060">up</span> <span m="3273220">into</span> <span m="3274300">four</span> <span m="3275170">and</span> <span m="3275460">I'm</span> <span m="3275540">going</span> <span m="3275740">to</span> <span m="3275870">take</span> <span m="3276070">this</span> <span m="3276290">piece</span> <span m="3276720">and</span> <span m="3276870">put</span> <span m="3277020">it</span> <span m="3277140">here.</span> <span m="3278010">This</span> <span m="3278290">piece</span> <span m="3278570">and</span> <span m="3278700">put</span> <span m="3278840">it</span> <span m="3278980">here.</span> <span m="3279940">This</span> <span m="3280100">piece</span> <span m="3280650">and</span> <span m="3280820">put</span> <span m="3280970">it</span> <span m="3281100">here.</span> <span m="3282000">And</span> <span m="3282200">then</span> <span m="3282360">I'm</span> <span m="3282470">going</span> <span m="3282680">to</span> <span m="3282810">chop</span> <span m="3283170">this</span> <span m="3283300">guy</span> <span m="3283570">into</span> <span m="3283720">two, and</span> <span m="3285000">then</span> <span m="3285150">take</span> <span m="3285310">this</span> <span m="3285490">piece</span> <span m="3286060">and</span> <span m="3286320">put</span> <span m="3286470">it</span> <span m="3286590">here.</span> <span m="3287150">And</span> <span m="3287440">the</span> <span m="3287500">beginning's</span> <span m="3287900">a little</span> <span m="3288160">bit weird,</span> <span m="3288550">let's</span> <span m="3288750">not</span> <span m="3288940">worry</span> <span m="3289120">about</span> <span m="3289370">that</span> <span m="3289630">but</span> <span m="3290730">this</span> <span m="3290930">guy,</span> <span m="3291130">if</span> <span m="3291270">I</span> <span m="3291370">chop this</span> <span m="3291650">guy up</span> <span m="3291970">into</span> <span m="3292240">eight,</span> <span m="3294565">it's going to</span> <span m="3295030">happen,</span> <span m="3295350">is</span> <span m="3295510">it?</span> </p>
<p><span m="3297600">Well</span> <span m="3297920">we</span> <span m="3298050">can</span> <span m="3298220">put--</span> <span m="3300850">so</span> <span m="3302620">this</span> <span m="3302870">guy</span> <span m="3302970">grows</span> <span m="3303260">exponentially,</span> <span m="3303880">right?</span> <span m="3304180">Every</span> <span m="3304460">time</span> <span m="3304680">it's</span> <span m="3304830">multiplied</span> <span m="3305310">by</span> <span m="3305430">2.</span> <span m="3306070">But</span> <span m="3306300">the</span> <span m="3306400">gap</span> <span m="3306680">size</span> <span m="3306960">here</span> <span m="3307210">also</span> <span m="3307870">is</span> <span m="3308020">multiplied</span> <span m="3308580">by</span> <span m="3308720">2.</span> <span m="3309680">So</span> <span m="3309870">when</span> <span m="3310040">I</span> <span m="3310140">chop</span> <span m="3310450">this</span> <span m="3310670">up</span> <span m="3311010">and</span> <span m="3311340">I</span> <span m="3311410">re</span> <span m="3311530">distribute</span> <span m="3312050">the</span> <span m="3312160">pieces,</span> <span m="3313230">it</span> <span m="3313370">turns</span> <span m="3313620">out</span> <span m="3313710">that</span> <span m="3313860">the</span> <span m="3313980">pieces</span> <span m="3314580">are</span> <span m="3314820">the</span> <span m="3314970">same</span> <span m="3315190">size.</span> <span m="3317040">So</span> <span m="3318510">if</span> <span m="3318700">I</span> <span m="3318760">apply</span> <span m="3319050">a</span> <span m="3319140">dampening</span> <span m="3319600">function</span> <span m="3320000">that</span> <span m="3320200">does</span> <span m="3320450">this,</span> <span m="3321370">then</span> <span m="3321580">the</span> <span m="3321690">costs</span> <span m="3322070">are</span> <span m="3322210">going</span> <span m="3322490">to</span> <span m="3322620">look--</span> <span m="3322900">they're</span> <span m="3323010">not</span> <span m="3323170">going</span> <span m="3323300">to</span> <span m="3323370">be</span> <span m="3323490">on</span> <span m="3323650">one,</span> <span m="3323890">they</span> <span m="3324130">there</span> <span m="3324230">are</span> <span m="3324280">going</span> <span m="3324430">to</span> <span m="3324490">be</span> <span m="3324640">three</span> <span m="3324870">or</span> <span m="3324980">something.</span> </p>
<p><span m="3328690">And</span> <span m="3328830">they</span> <span m="3328940">look</span> <span m="3329120">like</span> <span m="3329270">this.</span> <span m="3330920">Now,</span> <span m="3331030">my</span> <span m="3331170">CPU</span> <span m="3331560">time</span> <span m="3331780">is</span> <span m="3331880">going</span> <span m="3332110">to</span> <span m="3332200">look</span> <span m="3332390">like</span> <span m="3332540">this,</span> <span m="3332830">right?</span> <span m="3333020">That's</span> <span m="3333200">not</span> <span m="3333350">going</span> <span m="3333540">to</span> <span m="3333650">change,</span> <span m="3334120">because</span> <span m="3334420">that's</span> <span m="3334670">what's</span> <span m="3335110">really</span> <span m="3335370">happening.</span> <span m="3336370">But</span> <span m="3336750">what</span> <span m="3336990">I</span> <span m="3337050">can</span> <span m="3337280">argue</span> <span m="3337530">for</span> <span m="3337830">is</span> <span m="3337940">that</span> <span m="3338150">if</span> <span m="3338300">I</span> <span m="3338380">look</span> <span m="3339190">for</span> <span m="3339445">a</span> <span m="3339700">bunch</span> <span m="3340020">of</span> <span m="3340120">operations,</span> <span m="3340750">say</span> <span m="3340990">if</span> <span m="3341130">I</span> <span m="3341220">look</span> <span m="3341420">at</span> <span m="3341550">the</span> <span m="3341650">first</span> <span m="3343700">16</span> <span m="3344060">insertions,</span> <span m="3345910">the</span> <span m="3346060">cost</span> <span m="3346370">of</span> <span m="3346520">those</span> <span m="3346970">is</span> <span m="3347420">the</span> <span m="3347570">sum</span> <span m="3347790">of</span> <span m="3347920">these</span> <span m="3348160">guys.</span> <span m="3350830">So</span> <span m="3351020">it's</span> <span m="3351180">not</span> <span m="3351420">been</span> <span m="3351630">squared,</span> <span m="3352530">which</span> <span m="3352650">is</span> <span m="3352770">what you</span> <span m="3352870">would</span> <span m="3353130">get</span> <span m="3353290">if</span> <span m="3353430">you</span> <span m="3353560">look</span> <span m="3353760">at</span> <span m="3353960">the</span> <span m="3354080">worst</span> <span m="3354390">cases</span> <span m="3354820">here,</span> <span m="3355520">but it's</span> <span m="3355630">order</span> <span m="3356170">n.</span> <span m="3356900">So</span> <span m="3357070">this</span> <span m="3357280">is</span> <span m="3357390">what's</span> <span m="3357610">being</span> <span m="3357840">dampened,</span> <span m="3358390">the</span> <span m="3358990">amount</span> <span m="3359360">of</span> <span m="3359490">time</span> <span m="3359740">an operation</span> <span m="3360216">takes.</span> <span m="3364980">Does</span> <span m="3365160">this</span> <span m="3365330">make</span> <span m="3365510">some</span> <span m="3365660">sense?</span> </p>
<p><span m="3369430">All</span> <span m="3369530">right,</span> <span m="3369750">I</span> <span m="3369790">want</span> <span m="3369940">to</span> <span m="3370000">show</span> <span m="3370160">you</span> <span m="3370300">a</span> <span m="3370400">cute</span> <span m="3370670">example</span> <span m="3371240">for</span> <span m="3371790">amortization.</span> <span m="3372870">And</span> <span m="3373130">I'll</span> <span m="3373230">try</span> <span m="3373380">to</span> <span m="3373510">make</span> <span m="3373700">it</span> <span m="3373830">quick.</span> <span m="3374560">So</span> <span m="3375060">how</span> <span m="3375290">do you</span> <span m="3375580">list</span> <span m="3375880">the</span> <span m="3376010">keys</span> <span m="3376290">in</span> <span m="3376450">a</span> <span m="3376510">binary</span> <span m="3376870">search</span> <span m="3377180">tree</span> <span m="3377340">in</span> <span m="3377460">order?</span> </p>
<p><span m="3378308">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="3380940">PROFESSOR: In</span> <span m="3381110">order</span> <span m="3381310">traversal,</span> <span m="3381790">right?</span> <span m="3383200">OK,</span> <span m="3384070">there's</span> <span m="3384280">another</span> <span m="3384610">way</span> <span m="3384720">of</span> <span m="3384840">doing it</span> <span m="3385170">that</span> <span m="3385390">makes</span> <span m="3385730">perfect</span> <span m="3386110">intuitive</span> <span m="3386520">sense.</span> <span m="3387630">Get</span> <span m="3387800">the</span> <span m="3387880">minimum</span> <span m="3388320">key,</span> <span m="3388840">right?</span> <span m="3390970">And</span> <span m="3391250">then</span> <span m="3392020">output</span> <span m="3392400">the</span> <span m="3392490">minimum</span> <span m="3392880">key,</span> <span m="3394330">then</span> <span m="3395980">while</span> <span m="3396250">you</span> <span m="3396350">can</span> <span m="3396570">get</span> <span m="3397790">the</span> <span m="3397910">next</span> <span m="3398170">largest,</span> <span m="3399095">which is</span> <span m="3399470">the</span> <span m="3399590">successor--</span> <span m="3403570">so</span> <span m="3403810">while</span> <span m="3404050">this</span> <span m="3404230">is</span> <span m="3404360">not,</span> <span m="3404660">now</span> <span m="3405420">output</span> <span m="3405890">that</span> <span m="3406160">key,</span> <span m="3406790">right?</span> </p>
<p><span m="3408500">If</span> <span m="3408650">you</span> <span m="3408740">do</span> <span m="3408900">the</span> <span m="3409040">thing</span> <span m="3409320">within</span> <span m="3409620">order</span> <span m="3409800">traversal,</span> <span m="3410170">you</span> <span m="3410400">get</span> <span m="3410660">order</span> <span m="3410960">end</span> <span m="3411050">running</span> <span m="3411340">time.</span> <span m="3411580">What's</span> <span m="3411790">the</span> <span m="3411910">running time</span> <span m="3412030">for</span> <span m="3412528">this?</span> </p>
<p><span m="3414520">AUDIENCE: For n.</span> <span m="3418006">You're going through</span> <span m="3418504">all the keys,</span> <span m="3419002">too.</span> </p>
<p><span m="3420500">PROFESSOR: Yeah,</span> <span m="3420780">but</span> <span m="3421020">next</span> <span m="3421300">largest--</span> <span m="3421910">what's the</span> <span m="3422330">running time</span> <span m="3422635">for</span> <span m="3422940">next</span> <span m="3423000">largest?</span> </p>
<p><span m="3424500">AUDIENCE: Log n.</span> </p>
<p><span m="3426000">PROFESSOR: So</span> <span m="3426130">this</span> <span m="3426320">guy's</span> <span m="3426550">log</span> <span m="3426920">in,</span> <span m="3427230">right?</span> <span m="3430240">So</span> <span m="3430510">I</span> <span m="3430650">have n</span> <span m="3430980">keys,</span> <span m="3431490">so</span> <span m="3431710">this</span> <span m="3431880">whole</span> <span m="3432060">thing</span> <span m="3432460">is</span> <span m="3435160">O of n</span> <span m="3435430">logn.</span> <span m="3437640">So</span> <span m="3438260">it's</span> <span m="3438420">definitely</span> <span m="3438980">not</span> <span m="3439270">bigger</span> <span m="3439500">than</span> <span m="3439780">n logn.</span> <span m="3441140">But</span> <span m="3441280">now,</span> <span m="3441420">let's</span> <span m="3441650">look</span> <span m="3441810">at</span> <span m="3441910">what</span> <span m="3442080">happens</span> <span m="3442500">using</span> <span m="3442850">the</span> <span m="3443000">tree.</span> <span m="3444630">When</span> <span m="3444800">I</span> <span m="3444880">call</span> <span m="3445170">min,</span> <span m="3446030">I</span> <span m="3446160">go</span> <span m="3446410">down</span> <span m="3446990">on</span> <span m="3447180">each</span> <span m="3447360">edge.</span> <span m="3449190">And</span> <span m="3449270">then</span> <span m="3449430">I</span> <span m="3449510">call</span> <span m="3449760">successor</span> <span m="3450510">and it</span> <span m="3450920">outputs</span> <span m="3451560">this</span> <span m="3451790">guy.</span> <span m="3452600">Then</span> <span m="3452810">I</span> <span m="3452880">call</span> <span m="3453120">successor</span> <span m="3453840">and</span> <span m="3453930">it</span> <span m="3454070">goes</span> <span m="3454360">here.</span> <span m="3455460">Than</span> <span m="3455670">I</span> <span m="3455740">call</span> <span m="3456020">successor</span> <span m="3456740">and</span> <span m="3456850">it</span> <span m="3456950">goes</span> <span m="3457230">up</span> <span m="3457410">here</span> <span m="3457760">and</span> <span m="3457880">here</span> <span m="3458190">and outputs</span> <span m="3458650">this</span> <span m="3458890">guy.</span> <span m="3459370">Successor</span> <span m="3460220">goes</span> <span m="3460460">here.</span> <span m="3461230">Successor</span> <span m="3462820">goes</span> <span m="3463050">here.</span> <span m="3464850">Successor</span> <span m="3465840">goes</span> <span m="3466440">all</span> <span m="3466640">the</span> <span m="3466750">way</span> <span m="3466920">down</span> <span m="3467160">here,</span> <span m="3468580">successor</span> <span m="3469690">goes</span> <span m="3470170">up</span> <span m="3470370">here,</span> <span m="3471010">successor</span> <span m="3471720">goes</span> <span m="3471960">here,</span> <span m="3472700">and</span> <span m="3472880">then</span> <span m="3473030">successor</span> <span m="3474280">goes</span> <span m="3474960">all</span> <span m="3475140">the</span> <span m="3475260">way</span> <span m="3475380">up</span> <span m="3475510">to</span> <span m="3475600">the</span> <span m="3475770">roots</span> <span m="3476250">and</span> <span m="3476460">gives</span> <span m="3476630">up.</span> </p>
<p><span m="3479450">AUDIENCE: [INAUDIBLE]</span> </p>
<p><span m="3483680">PROFESSOR: So</span> <span m="3483860">how</span> <span m="3483980">many</span> <span m="3484230">times</span> <span m="3484400">do</span> <span m="3484600">I</span> <span m="3485050">traverse</span> <span m="3485490">each</span> <span m="3485700">edge?</span> <span m="3487720">Exactly</span> <span m="3488210">twice,</span> <span m="3488550">right?</span> <span m="3488740">How</span> <span m="3488830">many</span> <span m="3489080">edges</span> <span m="3489370">in</span> <span m="3489470">the</span> <span m="3489590">tree?</span> <span m="3491520">If I</span> <span m="3491740">have</span> <span m="3491990">n</span> <span m="3492260">nodes, how</span> <span m="3492370">many</span> <span m="3492640">lines</span> <span m="3492900">do</span> <span m="3493000">I use</span> <span m="3493220">to</span> <span m="3493330">connect</span> <span m="3493630">them?</span> <span m="3495660">[INAUDIBLE].</span> <span m="3497210">So</span> <span m="3498490">1</span> <span m="3498830">node,</span> <span m="3499210">zero</span> <span m="3499550">lines.</span> <span m="3500020">2</span> <span m="3500400">nodes,</span> <span m="3500780">one line.</span> <span m="3501370">Three</span> <span m="3501660">nodes,</span> <span m="3501950">two lines.</span> <span m="3502860">So</span> <span m="3503040">n</span> <span m="3503130">nodes,</span> <span m="3503420">n</span> <span m="3503710">minus</span> <span m="3503930">one.</span> <span m="3505964">N</span> <span m="3506440">asymptotically,</span> <span m="3506920">good.</span> <span m="3507395">Good</span> <span m="3507870">answer.</span> <span m="3508440">Order,</span> <span m="3508720">n,</span> <span m="3509450">edges.</span> <span m="3510250">Right,</span> <span m="3510740">each</span> <span m="3511010">edge</span> <span m="3511900">gets</span> <span m="3512050">traversed</span> <span m="3512570">exactly</span> <span m="3513040">twice.</span> <span m="3513840">So</span> <span m="3515250">amortized</span> <span m="3515900">cost</span> <span m="3516780">for</span> <span m="3517370">n</span> <span m="3517840">next</span> <span m="3518150">largest</span> <span m="3518560">operations</span> <span m="3519580">is</span> <span m="3519820">order</span> <span m="3520200">n.</span> <span m="3521760">So</span> <span m="3521900">you</span> <span m="3522020">can</span> <span m="3522170">do</span> <span m="3522270">this</span> <span m="3523120">instead.</span> </p>
<p><span m="3524230">This</span> <span m="3524470">code</span> <span m="3524720">makes</span> <span m="3524930">a</span> <span m="3524990">lot</span> <span m="3525150">more</span> <span m="3525330">sense</span> <span m="3525590">than</span> <span m="3525850">in</span> <span m="3525990">order</span> <span m="3526180">traversal.</span> <span m="3528440">OK,</span> <span m="3528680">and</span> <span m="3528900">the</span> <span m="3529000">last</span> <span m="3529360">part</span> <span m="3529730">is</span> <span m="3530150">remember</span> <span m="3531020">that</span> <span m="3531420">list</span> <span m="3531890">query</span> <span m="3532190">that</span> <span m="3532370">was</span> <span m="3532540">on</span> <span m="3532650">the</span> <span m="3532760">PSAT?</span> <span m="3538140">Turns</span> <span m="3538510">out</span> <span m="3538700">you</span> <span m="3538800">can</span> <span m="3539050">do</span> <span m="3539680">a</span> <span m="3539810">find</span> <span m="3540230">for</span> <span m="3540450">the</span> <span m="3540610">lowest</span> <span m="3541180">element</span> <span m="3541840">and</span> <span m="3542010">then</span> <span m="3542210">call</span> <span m="3542460">successor</span> <span m="3543120">until</span> <span m="3543380">you</span> <span m="3543590">see</span> <span m="3543820">the</span> <span m="3543950">highest</span> <span m="3544160">element</span> <span m="3549385">for</span> <span m="3549870">the</span> <span m="3550130">same</span> <span m="3550330">argument.</span> <span m="3551070">Well,</span> <span m="3551970">I</span> <span m="3552070">couldn't</span> <span m="3552370">tell</span> <span m="3552520">you</span> <span m="3552620">this</span> <span m="3552830">for</span> <span m="3552960">the</span> <span m="3553110">PSAT</span> <span m="3553400">because</span> <span m="3553670">we</span> <span m="3553740">hadn't</span> <span m="3553900">learned</span> <span m="3554230">amortized</span> <span m="3554700">analysis,</span> <span m="3554975">so you</span> <span m="3555250">wouldn't</span> <span m="3555530">be</span> <span m="3555660">able</span> <span m="3555860">to</span> <span m="3555950">prove</span> <span m="3556250">that</span> <span m="3556440">your</span> <span m="3556590">code</span> <span m="3556840">is</span> <span m="3556970">fast.</span> </p>
<p><span m="3558430">But</span> <span m="3558630">now</span> <span m="3558790">if</span> <span m="3558920">you</span> <span m="3559020">get</span> <span m="3559220">the</span> <span m="3559310">intuition,</span> <span m="3559950">you</span> <span m="3560060">can</span> <span m="3560210">write</span> <span m="3560490">it</span> <span m="3560570">that</span> <span m="3560800">way.</span> <span m="3561910">And</span> <span m="3561960">your</span> <span m="3562100">code</span> <span m="3562520">will</span> <span m="3562660">still be</span> <span m="3562790">fast.</span> <span m="3563650">Same</span> <span m="3564130">running</span> <span m="3564610">time.</span> <span m="3567970">So</span> <span m="3568170">the</span> <span m="3568470">intuition</span> <span m="3568720">for</span> <span m="3568850">that</span> <span m="3569040">is</span> <span m="3569150">a</span> <span m="3569210">bit</span> <span m="3569340">more</span> <span m="3569520">complicated.</span> <span m="3570620">The</span> <span m="3570850">proof</span> <span m="3571030">is</span> <span m="3571150">more</span> <span m="3571340">complicated.</span> <span m="3571960">But</span> <span m="3572120">the</span> <span m="3572180">intuition</span> <span m="3572680">is</span> <span m="3572860">that</span> <span m="3573550">say</span> <span m="3573750">this</span> <span m="3573960">is</span> <span m="3574200">l</span> <span m="3574890">and</span> <span m="3575030">this</span> <span m="3575190">is</span> <span m="3575340">h.</span> <span m="3576280">Then</span> <span m="3576450">I'm</span> <span m="3576540">going</span> <span m="3576750">to</span> <span m="3576860">go</span> <span m="3577020">in this</span> <span m="3577305">tree</span> <span m="3577590">here.</span> <span m="3579720">So</span> <span m="3579890">the</span> <span m="3580020">same</span> <span m="3580330">edge</span> <span m="3580560">magic</span> <span m="3580930">is</span> <span m="3581080">going</span> <span m="3581370">to</span> <span m="3581480">happen,</span> <span m="3582460">except</span> <span m="3582820">there</span> <span m="3582950">will</span> <span m="3583140">be</span> <span m="3583890">logn</span> <span m="3584400">edges</span> <span m="3584840">that</span> <span m="3585050">are</span> <span m="3585190">unmatched</span> <span m="3585650">here</span> <span m="3586060">and</span> <span m="3586240">logn</span> <span m="3586690">edges</span> <span m="3586980">that</span> <span m="3587210">aren't</span> <span m="3587600">unmatched</span> <span m="3587970">here.</span> </p>
<p><span m="3588790">Because</span> <span m="3589030">once</span> <span m="3589260">I</span> <span m="3589340">find</span> <span m="3589780">the</span> <span m="3589960">node</span> <span m="3590150">that's</span> <span m="3590400">next</span> <span m="3590670">to h,</span> <span m="3590980">I'll</span> <span m="3591110">stop,</span> <span m="3591440">right?</span> <span m="3591970">So</span> <span m="3592110">some</span> <span m="3592340">edges</span> <span m="3592610">will</span> <span m="3592750">not</span> <span m="3593020">be</span> <span m="3593310">matched.</span> <span m="3595140">So</span> <span m="3595330">then</span> <span m="3595530">I'll</span> <span m="3595680">say</span> <span m="3595910">that</span> <span m="3596170">the</span> <span m="3596280">total</span> <span m="3596550">running</span> <span m="3596890">time</span> <span m="3597220">is</span> <span m="3598490">logn plus</span> <span m="3598960">a.</span> </p>
<p><span m="3602250">AUDIENCE: i being the</span> <span m="3602720">number of elements</span> <span m="3603190">you pull out, right?</span> </p>
<p><span m="3604210">PROFESSOR: Yup.</span> <span m="3606510">So</span> <span m="3606650">this</span> <span m="3606830">is</span> <span m="3606960">amortized</span> <span m="3607360">analysis.</span> <span m="3610330">The</span> <span m="3610560">list</span> <span m="3610970">is</span> <span m="3611120">hard.</span> <span m="3611960">The</span> <span m="3612110">traversal</span> <span m="3612290">is</span> <span m="3612600">easy.</span> <span m="3613060">Remember</span> <span m="3613480">the</span> <span m="3613590">traversal.</span> <span m="3615730">That's</span> <span m="3615950">easy</span> <span m="3616150">to</span> <span m="3616260">reason</span> <span m="3616500">about,</span> <span m="3616790">so</span> <span m="3616980">that's</span> <span m="3617240">good.</span> <span m="3617980">OK.</span> <span m="3618960">Any</span> <span m="3619150">questions</span> <span m="3619520">on</span> <span m="3619580">amortized</span> <span m="3619840">analysis?</span> <span m="3623460">So</span> <span m="3623580">the idea</span> <span m="3623840">is</span> <span m="3624020">that</span> <span m="3624180">you</span> <span m="3624290">look</span> <span m="3624480">at</span> <span m="3624650">all</span> <span m="3624870">the</span> <span m="3625000">operations,</span> <span m="3625660">you</span> <span m="3625750">don't</span> <span m="3625880">look</span> <span m="3626070">at</span> <span m="3626190">one</span> <span m="3626400">operation</span> <span m="3626910">at</span> <span m="3626980">a</span> <span m="3627090">time.</span> </p>
<p><span m="3627810">And</span> <span m="3628050">you're</span> <span m="3628410">trying</span> <span m="3628750">to</span> <span m="3628870">see</span> <span m="3629600">if</span> <span m="3629770">I</span> <span m="3629850">look</span> <span m="3630040">at</span> <span m="3630200">everything,</span> <span m="3631310">is</span> <span m="3631500">it</span> <span m="3631590">the</span> <span m="3631710">case</span> <span m="3631910">that</span> <span m="3632070">I</span> <span m="3632160">have</span> <span m="3632350">some</span> <span m="3632580">really</span> <span m="3632840">fast</span> <span m="3633160">operations</span> <span m="3633780">and</span> <span m="3633930">the</span> <span m="3634020">slow</span> <span m="3634210">operations</span> <span m="3634880">don't</span> <span m="3635090">happen</span> <span m="3635490">too</span> <span m="3635870">much,</span> <span m="3636720">because</span> <span m="3636930">if</span> <span m="3637060">that's</span> <span m="3637210">the</span> <span m="3637320">case,</span> <span m="3637580">then</span> <span m="3637730">I</span> <span m="3637800">can</span> <span m="3638010">make</span> <span m="3638270">an</span> <span m="3638580">argument</span> <span m="3639040">for</span> <span m="3639170">the</span> <span m="3639330">average</span> <span m="3639680">cost,</span> <span m="3640790">which</span> <span m="3640990">is</span> <span m="3641120">better</span> <span m="3641400">than</span> <span m="3642360">the</span> <span m="3642560">argument</span> <span m="3643150">that</span> <span m="3643360">says</span> <span m="3644100">this</span> <span m="3644300">is</span> <span m="3644420">the</span> <span m="3644540">worst</span> <span m="3644780">case</span> <span m="3644980">of</span> <span m="3645080">an</span> <span m="3645200">operation,</span> <span m="3645750">I'm</span> <span m="3645860">doing</span> <span m="3646110">an</span> <span m="3646200">operation,</span> <span m="3646820">the</span> <span m="3646950">total</span> <span m="3647210">cost</span> <span m="3647540">is</span> <span m="3647840">n</span> <span m="3648030">times</span> <span m="3648260">the worst</span> <span m="3648757">cost.</span> <span m="3652740">Make</span> <span m="3652960">some</span> <span m="3653160">sense?</span> <span m="3654910">OK.</span> <span m="3655580">Cool.</span> <span m="3657830">All right.</span> <span m="3658130">Have fun</span> <span m="3658430">at the</span> <span m="3658730">next</span> <span m="3659030">p set.</span> </p>
</div>
        <div id="vid_related" itemprop="description" class="tabContent hide"><p><a target="_blank" href="../../../contents/recitation-videos/MIT6_006F11_rec09.pdf">Recitation notes (PDF)</a></p></div>
        <div id="vid_transcript" itemprop="description" class="tabContent hide">
<h2 class="subhead">Free Downloads</h2>
<h3 class="subsubhead">Video</h3>
<ul>
<li>iTunes U (<a href="https://itunes.apple.com/us/itunes-u/recitation-9-rolling-hashes/id585700718?i=126257090">MP4 - 131MB</a>)</li>
<li>Internet Archive (<a href="http://www.archive.org/download/MIT6.006F11/MIT6_006F11_rec09_300k.mp4">MP4 - 131MB</a>)</li>
</ul>
<br><h3 class="subsubhead">Subtitle</h3>
<ul><li>English - US (<a href="../../../contents/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/w6nuXg0BISo.srt">SRT</a>)</li></ul>
</div>
    
   </div>  



      					 
        <div class="" id="parent-fieldname-bottom_html_area">
            
            
        </div>
    
               </main><!--Course_inner_media tag close -->
</div>
<!--Course_wrapper tag close -->
            </div>
<!--left tag close -->
            <aside id="right"><!--Begin Right Portion --><div>
    
<div id="portletwrapper-6f63772e7269676874746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a646f6e617465" class="portletWrapper kssattr-portlethash-6f63772e7269676874746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a646f6e617465">
<div class="portletStaticText portlet-static-donate"><p class="zero"><a href="http://ocw.mit.edu/give"><img src="../../../common/images/button_donate-now.png" alt="Give Now." class="donate"></a></p></div>

</div>




</div>

                	<div>
    



</div>


        <div class="" id="parent-fieldname-rsi_top_html_area">
            
            
        </div>
    

<!-- RSI google ad space-->


<div id="google_ads">    
    <script type="text/javascript" src="https://partner.googleadservices.com/gampad/google_service.js"></script><script type="text/javascript">GS_googleAddAdSenseService("ca-pub-6588555046597237");GS_googleEnableAllServices();</script><script type="text/javascript">GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_A_DL");GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_B_DL");GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_C_DL");</script><script type="text/javascript">GA_googleFetchAds();</script><script language="javascript" type="text/javascript">
GA_googleAddAttr("TYPE","HOUSE");
GA_googleAddAttr("DEPARTMENT","6");
GA_googleAddAttr("CRS_BEG2","00");
GA_googleAddAttr("CRS_END","6");
GA_googleAddAttr("SESSION","F");
GA_googleAddAttr("YEAR","11");
</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_A_DL");</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_B_DL");</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_C_DL");</script>
</div>

<!-- End RSI ads--> 

<div>
    



</div>

            </aside><!--Right div close --><div class="clear"></div>
        </div>
<!--grid tag close -->
      </div>
		
		<footer id="bottom"><div id="grid">
				
<div id="portletwrapper-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572" class="portletWrapper kssattr-portlethash-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572">
<div class="portletStaticText portlet-static-site-footer"><div id="footer">
<nav aria-label="Footer"><nav id="foot-c1" class="grid_2 alpha" aria-labelledby="f-find-courses"><span class="footer" id="f-find-courses" aria-hidden="true">Find Courses</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/courses/find-by-topic/">Find by Topic</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-number/">Find by Course Number</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-department/">Find by Department</a></li>
    <li><a href="https://ocw.mit.edu/educator/?view=instructional&amp;utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=find-courses&amp;utm_content=approaches">Instructional Approach</a></li>
    <li><a href="https://ocw.mit.edu/educator/?view=teaching&amp;utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=find-courses&amp;utm_content=materials">Teaching Materials</a></li>
    <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/subtitled/">Courses with Subtitles</a></li>
    <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
    <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
    <li><a href="https://ocw.mit.edu/courses/translated-courses/">Translated Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/?utm_source=ocw-footer&amp;utm_medium=link&amp;utm_campaign=mclstudy">View All Courses</a></li>
</ul></nav><div id="foot-c2" class="grid_2">
<nav aria-labelledby="f-about"><span id="f-about" class="footer" aria-hidden="true">About</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/about/">About OpenCourseWare</a></li>
    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
    <li><a href="https://ocw.mit.edu/about/newsletter/">News</a></li>
    <li><a href="https://ocw.mit.edu/about/media-coverage/press-releases/">Press Releases</a></li>
</ul></nav><!--about--><nav aria-labelledby="f-tools"><span id="f-tools" class="footer" aria-hidden="true">Tools</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/help/">Help &amp; FAQs</a></li>
    <li><a href="../../../common/jsp/feedback.htm">Contact Us</a></li>
    <li><a href="../../../common/search/AdvancedSearch.htm">Advanced Search</a></li>
    <li><a href="https://ocw.mit.edu/help/site-map/">Site Map</a></li>
    <li><a href="../../../common/terms/index.htm">Privacy &amp; Terms of Use</a></li>
    <li><a href="https://ocw.mit.edu/help/rss/">RSS Feeds</a></li>
</ul></nav><!--tools-->
</div>
<nav class="grid_2" id="foot-c3" aria-labelledby="f-donate"><span id="f-donate" class="footer" aria-hidden="true">Give Now</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
    <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
    <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
    <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
    <li><a href="https://ocw.mit.edu/give/shop-ocw/">Shop OCW</a></li>
    <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
</ul></nav><div class="grid_2" id="foot-c4"><nav aria-labelledby="f-featured-sites"><span id="f-featured-sites" class="footer" aria-hidden="true">Featured Sites</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/high-school/">Highlights for High School</a></li>
    <li><a href="https://ocw.mit.edu/educator/?utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=featured-sites">OCW Educator</a></li>
    <li><a href="https://ocw.mit.edu/courses/crosslinks/">MIT Crosslinks and OCW</a></li>
    <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx and Related OCW Courses</a></li>
    <li><a href="http://k12videos.mit.edu" aria-label="External Link: MIT+K12 Videos">MIT+K12 Videos</a></li>
    <li><a href="http://teachingexcellence.mit.edu/" aria-label="External Link: Teaching Excellence at MIT">Teaching Excellence at MIT</a></li>
    <li><a href="https://outreach.mit.edu/" aria-label="External Link: Outreach at MIT">Outreach@MIT</a></li>
    <li><a href="http://www.oeconsortium.org/" aria-label="External Link: Open Education Consortium">Open Education Consortium</a></li>
</ul></nav></div>
</nav><aside style="min-height: 289px;" aria-labelledby="f-our-corporate-supporters" class="grid_4 omega" id="foot-c5"><span aria-hidden="true" class="footer" id="f-our-corporate-supporters">Our Corporate Supporters</span>           <!-- HOME_CORP_LOGO_1 -->
<div id="div-gpt-ad-1388181177156-0" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-0'); });
            </script></div>
<!-- HOME_CORP_LOGO_2 -->
<div id="div-gpt-ad-1388181177156-1" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-1'); });
            </script></div>
<!-- HOME_CORP_LOGO_3 -->
<div id="div-gpt-ad-1388181177156-2" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-2'); });
            </script></div>
<!-- HOME_CORP_LOGO_4 -->
<div id="div-gpt-ad-1388181177156-3" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-3'); });
            </script></div>
<!-- HOME_CORP_LOGO_5 -->
<div id="div-gpt-ad-1388181177156-4" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-4'); });
              </script></div>
<!-- HOME_CORP_LOGO_6 -->
<div id="div-gpt-ad-1388181177156-5" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-5'); });
              </script></div>
</aside><div class="grid_12 alpha omega" itemprop="publisher" itemscope="" itemtype="http://schema.org/CollegeOrUniversity">
<h4 class="footer" style="border-top: thin solid #d5c9ba; padding-top: 10px; margin-bottom: 10px;">About <span itemprop="name">MIT OpenCourseWare</span>
</h4>
<p style="color: #999; font-size: 1em; line-height: 1.5em; margin-top: 10px;" itemprop="description">MIT OpenCourseWare makes the materials used in the teaching of almost all of MIT's subjects available on the Web, free of charge. With more than 2,400 courses available, OCW is delivering on the promise of open sharing of knowledge. <a href="http://ocw.mit.edu/about/">Learn more »</a></p>
</div>
<div id="foot-copy" class="grid_12 alpha omega" style="border-top: none;">
<a href="http://web.mit.edu"><img src="../../../common/images/logo_mit.png" alt="Massachusetts Institute of Technology logo and name." style="width: 195; height: 44;"></a><a href="http://odl.mit.edu"><img src="https://ocw.mit.edu/images/logo_odl.png" alt="MIT Office of Digital Learning logo and name." style="width: 289; height: 54; vertical-align: top;"></a><a href="http://www.oeconsortium.org/"><img src="https://ocw.mit.edu/images/logo_oec.png" alt="Open Education Consortium logo." style="width: 219px; height: 59px; vertical-align: top;"></a><a rel="license" itemprop="useRightsUrl" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../../../common/images/cc_by-nc-sa.png" alt="Creative Commons logo with terms BY-NC-SA." style="width: 126px; height: 44px; margin-right: 0; margin-left: 13px;"></a>
<p class="copyright">© 2001–2017<br>
Massachusetts Institute of Technology</p>
<p style="font-size: 0.9em; margin-bottom: 15px;">Your use of the MIT OpenCourseWare site and materials is subject to our <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">Creative Commons License</a> and other <a href="../../../common/terms/index.htm" rel="cc:morePermissions">terms of use</a>.</p>
</div>
</div></div>

</div>





                
			</div> <!-- bottom grid end -->
		</footer><!-- footer bottom end -->
</body>
</html>
