<!DOCTYPE html><html lang="en">
<head>
<meta charset="utf-8">
<meta name="format-detection" content="telephone=no">
<title>Recitation 6: AVL Trees | Recitation Videos | Introduction to Algorithms | Electrical Engineering and Computer Science | MIT OpenCourseWare</title>
<!-- Begin Automatic Metadata Insertion --><meta content="6-006-introduction-to-algorithms-fall-2011" name="WT.cg_n">
<meta content="Recitation 6: AVL Trees" name="WT.cg_s">
<meta content="This recitation covers insertion, deletion, and rebalancing of AVL trees." name="Description">
<meta content="Demaine, Erik" name="Author">
<meta content="Devadas, Srinivas" name="Author">
<meta content="6.006,binary search tree,AVL tree,height,rotation,rebalance,Algorithms and Data Structures" name="keywords">
<meta content="6.006 Introduction to Algorithms | Recitation 6: AVL Trees" name="Search_Display">
<meta content="Algorithms and Data Structures" itemprop="about">
<!-- End Automatic Metadata Insertion --><link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/grid.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/base.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/menu.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.bubblepopup.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses_new.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.jscrollpane.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/media_tabs.css">
<link href="https://ocw.mit.edu/xml/ocwcc.rdf" type="application/rdf+xml" rel="metadata">
<link rel="canonical" href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-6-avl-trees/">
<link rel="apple-touch-icon" href="../../../common/images/apple-touch-icon.png">
<script type="text/javascript" src="../../../common/scripts/jquery.js"></script><script type="text/javascript" src="../../../common/scripts/ocw-media-utils-offline.js"></script><script type="text/javascript" src="../../../common/scripts/ocw-offline.js"></script><script type="text/javascript" src="../../../common/scripts/jquery.bubblepopup.min.js"></script><script type="text/javascript" src="../../../common/scripts/jquery-ui.min.js"></script><script type="text/javascript" src="../../../common/scripts/jquery.jscrollpane.min.js"></script><script type="text/javascript" src="../../../common/scripts/expandy.js"></script><script type="text/javascript" src="../../../common/scripts/bubble-popup-offline.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $("#tabs").tabs();
        IpadScroller();
      });
    </script>
</head>
<body itemscope itemtype="http://schema.org/WebPage">
        
	

        <header id="top"><div id="grid">
				
				
					
<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572">
<div class="portletStaticText portlet-static-site-header">
<!--googleoff: index-->
<div class="grid_6 alpha" id="banner"><a href="https://ocw.mit.edu/"><img src="../../../common/images/ocw_mast.png" class="logo" alt="MIT OpenCourseWare, Massachusetts Institute of Technology"></a></div>
<div class="grid_6 omega" id="subscribe">
<aside class="module" aria-label="Connect with OCW"><table class="social"><tbody><tr>
<td class="socialbutton"><a aria-label="Subscribe to the OCW Newsletter" href="https://ocw.mit.edu/subscribe/index.htm?utm_source=header"><img src="../../../common/images/trans.gif" alt="An icon depicting an envelope.">Subscribe to the OCW Newsletter</a></td>
            <td>
<a aria-label="Facebook" href="https://facebook.com/mitocw"><img src="../../../common/images/icon_fb.png" alt="Click to visit our Facebook page."></a>   <a aria-label="Twitter" href="https://twitter.com/mitocw"><img src="https://ocw.mit.edu/images/icon_twitter.png" alt="Click to visit our Twitter feed."></a>   <a aria-label="YouTube" href="https://www.youtube.com/mitocw"><img src="https://ocw.mit.edu/images/icon_yt.png" alt="Click to visit our YouTube page."></a>   <a aria-label="Open Matters blog on WordPress" href="https://mitopencourseware.wordpress.com/"><img src="https://ocw.mit.edu/images/icon_wp.png" alt="Click to visit our blog on WordPress."></a>
</td>
        </tr></tbody></table></aside><nav aria-label="Help Links" class="helplinks"><a aria-label="OCW Site Help" href="https://ocw.mit.edu/help">Help</a><span aria-hidden="true">|</span>     <a href="../../../common/jsp/feedback.htm">Contact Us</a>   </nav>
</div>
<div class="clear"> </div>
<!--googleon: index-->
</div>

</div>





<!--googleoff: index-->
<nav id="mega" class="grid_8 alpha" aria-label="Site"><ul id="menu" role="presentation">
<li id="menu_home">
        <a href="https://ocw.mit.edu/" aria-label="Homepage"><img src="../../../common/images/top-nav_home.png" class="home_icon" alt="Click for site home page."></a><!-- Begin Home Item -->
    </li>
<!-- End Home Item -->
    
    <li id="drop_1" aria-label="Find Courses" class="selected">
     <a href="#" aria-hidden="true">FIND COURSES</a><!-- Begin 5 columns Item -->
      <div class="dropdown_5columns-a mega-courses">
        <div class="col_1a">
          <div class="row_1a">
            <nav aria-labelledby="mm-find-courses-by"><span id="mm-find-courses-by" class="nav" aria-hidden="true">Find courses by:</span>
              <ul class="find_by" role="presentation">
<li><a href="https://ocw.mit.edu/courses/find-by-topic/">Topic</a></li>
                <li><a href="https://ocw.mit.edu/courses/find-by-number/">MIT Course Number</a></li>
                <li><a href="https://ocw.mit.edu/courses/find-by-department/">Department</a></li>
				<li><a href="https://ocw.mit.edu/educator/?view=instructional&amp;utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=find-courses&amp;utm_content=approaches">Instructional Approach</a></li>
				<li><a href="https://ocw.mit.edu/educator/?view=teaching&amp;utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=find-courses&amp;utm_content=materials">Teaching Materials</a></li>
             </ul></nav><nav aria-labelledby="mm-collections"><span id="mm-collections" class="nav" aria-hidden="true">Collections</span>
              <ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
                <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Lectures</a></li>
                <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
                <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
                <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
              </ul></nav><nav class="col_1b" aria-labelledby="mm-translated-courses"><span id="mm-translated-courses" class="nav" aria-hidden="true" style="line-height: 1.3;">Cross-Disciplinary Topic Lists</span>
							<ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/energy-courses">Energy</a></li>
                				<li><a href="https://ocw.mit.edu/courses/entrepreneurship">Entrepreneurship</a></li>
				                <li><a href="https://ocw.mit.edu/courses/environment-courses">Environment</a></li>
				              	<li><a href="https://ocw.mit.edu/courses/intro-programming">Introductory Programming</a></li>
				                <li><a href="https://ocw.mit.edu/courses/life-sciences">Life Sciences</a></li>
                				<li><a href="https://ocw.mit.edu/courses/transportation-courses">Transportation</a></li>
							</ul></nav>
</div>
          <div class="row_1b">
            <nav aria-labelledby="mm-cross-disciplinary-topic-lists"><span id="mm-cross-disciplinary-topic-lists" class="nav" aria-hidden="true">Translated Courses</span>
            	<ul role="presentation">
<li><a href="https://ocw.mit.edu/courses/translated-courses/traditional-chinese" aria-label="Traditional Chinese">繁體字 / Traditional Chinese</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/spanish" aria-label="Spanish">Español / Spanish</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/portuguese" aria-label="Portuguese">Português / Portuguese</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/persian" aria-label="Persian">فارسی / Persian</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/turkish" aria-label="Turkish">Türkçe / Turkish</a></li>
					<li><a href="https://ocw.mit.edu/courses/translated-courses/korean" aria-label="Korean">(비디오)한국 / Korean</a></li>
              </ul></nav>
</div>
        </div>

      </div>
    </li>
    <li id="drop_2">
        <a href="" aria-hidden="true">About</a>
        <div class="dropdown_1column-a">
            <nav class="col_1" aria-label="About"><ul role="presentation">
<li><a href="https://ocw.mit.edu/about/">About MIT OpenCourseWare</a></li>
                    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
                    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
                    <li><a href="https://ocw.mit.edu/about/newsletter/">News</a></li>
                </ul></nav>
</div>
    </li>
    <li id="drop_3">
        <a href="" aria-hidden="true">Give Now</a>
        <div class="dropdown_1column-a">
          <nav class="col_1" aria-label="Donate"><ul role="presentation">
<li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
              <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
              <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
              <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
              <li><a href="https://ocw.mit.edu/give/shop-ocw">Shop OCW</a></li>
              <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
            </ul></nav>
</div>
    </li>
    <li id="drop_4">
      <a href="" aria-hidden="true">Featured Sites</a>
      <div class="dropdown_1column-a">
        <nav class="col_1" aria-labelledby="mm-featured-sites"><span id="mm-featured-sites" class="nav" aria-hidden="true">OCW Initiatives</span>
          <ul role="presentation">
<li><a href="https://ocw.mit.edu/high-school/">Highlights for High School</a></li>
            <li><a href="https://ocw.mit.edu/educator/?utm_campaign=Educator&amp;utm_source=megamenu&amp;utm_medium=featured-sites">OCW Educator</a></li>
            <li><a href="https://ocw.mit.edu/courses/crosslinks/">MIT Crosslinks and OCW</a></li>
            <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx and Related OCW Courses</a></li>
					</ul></nav><nav class="col_1" aria-labelledby="mm-featured-external-links"><span id="mm-featured-external-links" class="nav" aria-hidden="true">Beyond OCW</span>
					<ul>
<li><a href="https://www.k12videos.mit.edu/videos" aria-label="External Link: MIT Plus K12 Videos">MIT+K12 Videos</a></li>
						<li><a href="http://climatex.mit.edu/" aria-label="External Link: MIT ClimateX">MIT ClimateX</a></li>
            <li><a href="https://teachingexcellence.mit.edu/" aria-label="External Link: Teaching Excellence at MIT">Teaching Excellence at MIT</a></li>
						<li><a href="https://outreach.mit.edu" aria-label="External Link: Outreach at MIT">Outreach @ MIT</a></li>
						<li><a href="http://www.oeconsortium.org/" aria-label="External Link: Open Education Consortium">Open Education Consortium</a></li>
          </ul></nav>
</div>
    </li>
  </ul></nav><div id="search" role="search" class="grid_4 omega">
  
    <form aria-label="Advanced Search" method="get" action="../../../common/search/AdvancedSearch.htm">
		  <table class="search"><tbody><tr>
<td class="black"><input type="text" onblur="fillSearchBox()" onfocus="clearSearchBox()" maxlength="255" value="Search" name="q" class="greytext searchField" id="terms"></td>
            <td class="black"><input type="image" src="../../../common/images/button_search.png" name="btnG" class="sub_button"></td>
            <td class="text2"><a href="../../../common/search/AdvancedSearch.htm">Advanced<br>Search</a></td>
          </tr></tbody></table>
</form>
</div>
<div class="clear"></div>
<!--googleon: index-->
<!-- *end header* -->

				
				
			</div>
<!-- top grid end -->
		</header><!-- top end --><div id="center_media">
      	<div id="grid">
      		<div id="left">
        		<nav id="breadcrumb_media" aria-label="Breadcrumb"><p>

    <a href="https://ocw.mit.edu/">Home</a>
    
        »
        
    
    
        
            <a href="https://ocw.mit.edu/courses">Courses</a>
            
                »
                
            
            
         
    
    
        
            <a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science">Electrical Engineering and Computer Science</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/index.htm">Introduction to Algorithms</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/recitation-videos/index.htm">Recitation Videos</a>
            
                »
                
            
            
         
    
    
        
            
            
            Recitation 6: AVL Trees
         
    
</p>

            	</nav><div class="clear"></div>
        		<div id="media_title">
        		<h1 class="title" itemprop="name" property="dct:title">
        <span class="" id="parent-fieldname-title">
            Recitation 6: AVL Trees
        </span>
    </h1>
        		</div>
           		<div class="clear"></div>
           		<div id="course_wrapper_media">
           			<nav id="course_nav" aria-label="Course"><script language="javascript" type="text/javascript">
function toggleMenu(objID) {
  if (!document.getElementById) return;
  var ob = document.getElementById(objID);
  ob.className = (ob.className == 'selected')?'': 'selected';
}
function toggleClass(id)
{
  var divtoggleClass= document.getElementById(id);
  divtoggleClass.className = (divtoggleClass.className == 'mO')?'mC': 'mO';
  return false;
}
function changeAlt(id)
{
  id.alt = (id.alt == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
  id.title = (id.title == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
}
</script><!--Left Nav Starts --><ul>
<li class="">
			   			<a href="../../../contents/index.htm">
		                  Course Home  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
         	<li class="">
       		<div class="tlp_links">
	        	<div id="syllabus" class="mO">
						<a href="#" class="" onclick="toggleMenu('menusyllabus'); toggleClass('syllabus'); return false">
		                  <img src="../../../common/images/trans.gif" class="expandCollapseTrans" border="0" width="10" height="12" onclick="changeAlt(this)" alt="Expand Menu" title="Expand Menu"></a>
		                <a href="../../../contents/syllabus/index.htm" class="">
		                  Syllabus  			                
	                    </a>
	                 			                
	            </div>
			    
	        	<ul id="menusyllabus" class="">
<li class="">
				 		<a href="../../../contents/syllabus/software/index.htm" class="">Software</a>
		            </li>
			    </ul>
</div>
			</li>
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/calendar/index.htm">
		                  Calendar  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
         	<li class="">
       		<div class="tlp_links">
	        	<div id="readings" class="mO">
						<a href="#" class="" onclick="toggleMenu('menureadings'); toggleClass('readings'); return false">
		                  <img src="../../../common/images/trans.gif" class="expandCollapseTrans" border="0" width="10" height="12" onclick="changeAlt(this)" alt="Expand Menu" title="Expand Menu"></a>
		                <a href="../../../contents/readings/index.htm" class="">
		                  Readings  			                
	                    </a>
	                 			                
	            </div>
			    
	        	<ul id="menureadings" class="">
<li class="">
				 		<a href="../../../contents/readings/python-cost-model/index.htm" class="">Python Cost Model</a>
		            </li>
		            <li class="">
				 		<a href="../../../contents/readings/binary-search-trees/index.htm" class="">Binary Search Trees</a>
		            </li>
			    </ul>
</div>
			</li>
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-notes/index.htm">
		                  Lecture Notes  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-videos/index.htm">
		                  Lecture Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="selected">
			   			<a href="../../../contents/recitation-videos/index.htm">
		                  Recitation Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/assignments/index.htm">
		                  Assignments  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/exams/index.htm">
		                  Exams  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/related-resources/index.htm">
		                  Related Resources  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    
		    
         	
	<!--second tal block close-->  
	
</ul>
<!--Left Nav Ends --></nav><main id="course_inner_media" aria-labelledby="media_title"><div class="" id="parent-fieldname-text">
            
            
        </div>
    
      					 

<script type="text/javascript">var caption_embed_1 ={'English - US': '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-6-avl-trees/IWzYoXKaRIc.srt'}</script><div id="media-embed">
         <div class="attention_message" id="embed_1">
<p>Flash and JavaScript are required for this feature.</p>
<p>Download the video from <a href="https://itunes.apple.com/us/itunes-u/recitation-6-avl-trees/id585700718?i=126257028">iTunes U</a> or the <a href="http://www.archive.org/download/MIT6.006F11/MIT6_006F11_rec06_300k.mp4">Internet Archive</a>.</p>
</div>
     </div>
    
     <script type="text/javascript">ocw_embed_chapter_media('embed_1', 'https://www.youtube.com/v/IWzYoXKaRIc', 'youtube', '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-6-avl-trees', 'https://img.youtube.com/vi/IWzYoXKaRIc/0.jpg',0,0, 'https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/recitation-videos/recitation-6-avl-trees/IWzYoXKaRIc.srt')</script><div id="transcript1"></div>
				 <script type="text/javascript">createThreePlayParams(2, 455896, "embed_1", 0, 0)</script><div id="media_resource_next_prev_nav" style="margin-top: 1em;">
        <p>
        
            <a href="../../../contents/recitation-videos/recitation-5-recursion-trees-binary-search-trees/index.htm">
                <img src="../../../common/images/btn_previous_resource.png" style="margin: 0 30px 0 50px;" alt="Previous track" title="Previous track"></a>
     	
     	
        
            <a href="../../../contents/recitation-videos/recitation-7-comparison-sort-counting-and-radix-sort/index.htm"> 
                <img src="../../../common/images/btn_next_resource.png" alt="Next track" title="Next track"></a>
       
       </p>
     </div>
 


<script type="text/javascript">
		window.onload=function(){
		init();
		
		}
		var tabLinks = new Array();
		var contentDivs = new Array();
		function init() {
		  // Grab the tab links and content divs from the page
		  var tabListItems = document.getElementById('tabs').childNodes;
		  for ( var i = 0; i < tabListItems.length; i++ ) {
			if ( tabListItems[i].nodeName == "LI" ) {
			  var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
			  var id = getHash( tabLink.getAttribute('href') );
			  tabLinks[id] = tabLink;
			  contentDivs[id] = document.getElementById( id );
			}
		  }
		  // Assign onclick events to the tab links, and
		  // highlight the first tab
		  var i = 0;
		  for ( var id in tabLinks ) {
			tabLinks[id].onclick = showTab;
			tabLinks[id].onfocus = function() { this.blur() };
			if ( i == 0 ) tabLinks[id].className = 'selected';
			i++;
		  }
		  // Hide all content divs except the first
		  var i = 0;
		  for ( var id in contentDivs ) {
			if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
			i++;
		  }
		}
		function showTab() {
		  var selectedId = getHash( this.getAttribute('href') );
		  // Highlight the selected tab, and dim all others.
		  // Also show the selected content div, and hide all others.
		  for ( var id in contentDivs ) {
			if ( id == selectedId ) {
			  tabLinks[id].className = 'selected';
			  contentDivs[id].className = 'tabContent';
			} else {
			  tabLinks[id].className = '';
			  contentDivs[id].className = 'tabContent hide';
			}
		  }
		  // Stop the browser following the link
		  return false;
		}
		function getFirstChildWithTagName( element, tagName ) {
		  for ( var i = 0; i < element.childNodes.length; i++ ) {
			if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
		  }
		}
		function getHash( url ) {
		  var hashPos = url.lastIndexOf ( '#' );
		  return url.substring( hashPos + 1 );
		}
 </script><div id="media_tabs">
     
        <ul id="tabs">
<li class="first">
                <a href="#vid_about" class="selected">About this Video</a>
            </li>
            <li class="">
                <a href="#vid_index" class="">Playlist</a>
            </li>
            <li class="">
                <a href="#vid_playlist" class="">Transcript</a>
            </li>
            <li class="">
                <a href="#vid_related" class="">Recitation Notes</a>
            </li>
            <li class="">
                <a href="#vid_transcript" class="">Download this Video</a>
            </li>
        </ul>
<div id="vid_about" itemprop="description" class="tabContent">
<p><strong>Description:</strong> This recitation covers insertion, deletion, and rebalancing of AVL trees.</p> <p><strong>Instructor:</strong> Victor Costan</p>
</div>
        <div id="vid_index" itemprop="description" class="tabContent hide">
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-1-asymptotic-complexity-peak-finding/index.htm">
<img src="https://img.youtube.com/vi/P7frcB_-g4w/default.jpg" title="Recitation 1: Asymptotic Complexity, Peak Finding" alt="Recitation 1: Asymptotic Complexity, Peak Finding"><p>Recitation 1: Asymptotic Co...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-2-python-cost-model-document-distance/index.htm">
<img src="https://img.youtube.com/vi/QFcyt8fgQMU/default.jpg" title="Recitation 2: Python Cost Model, Document Distance" alt="Recitation 2: Python Cost Model, Document Distance"><p>Recitation 2: Python Cost M...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-3-document-distance-insertion-and-merge-sort/index.htm">
<img src="https://img.youtube.com/vi/4iXLnF3hExw/default.jpg" title="Recitation 3: Document Distance, Insertion and Merge Sort" alt="Recitation 3: Document Distance, Insertion and Merge Sort"><p>Recitation 3: Document Dist...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-5-recursion-trees-binary-search-trees/index.htm">
<img src="https://img.youtube.com/vi/r5pXu1PAUkI/default.jpg" title="Recitation 5: Recursion Trees, Binary Search Trees" alt="Recitation 5: Recursion Trees, Binary Search Trees"><p>Recitation 5: Recursion Tre...</p></a>
</div>
<div class="related-media-thumbnail-nolink">
<div class="now-playing-resource">Now Playing</div>
<img src="https://img.youtube.com/vi/IWzYoXKaRIc/default.jpg" title="Recitation 6: AVL Trees" alt="Recitation 6: AVL Trees"><p>Recitation 6: AVL Trees</p>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-7-comparison-sort-counting-and-radix-sort/index.htm">
<img src="https://img.youtube.com/vi/9bkvws_vqLU/default.jpg" title="Recitation 7: Comparison Sort, Counting and Radix Sort" alt="Recitation 7: Comparison Sort, Counting and Radix Sort"><p>Recitation 7: Comparison So...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-8-simulation-algorithms/index.htm">
<img src="https://img.youtube.com/vi/eGSXsaJ-BlY/default.jpg" title="Recitation 8: Simulation Algorithms" alt="Recitation 8: Simulation Algorithms"><p>Recitation 8: Simulation Al...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-9-rolling-hashes-amortized-analysis/index.htm">
<img src="https://img.youtube.com/vi/w6nuXg0BISo/default.jpg" title="Recitation 9: Rolling Hashes, Amortized Analysis" alt="Recitation 9: Rolling Hashes, Amortized Analysis"><p>Recitation 9: Rolling Hashe...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-9b-dna-sequence-matching/index.htm">
<img src="https://img.youtube.com/vi/-DwGrJ8JxDc/default.jpg" title="Recitation 9b: DNA Sequence Matching" alt="Recitation 9b: DNA Sequence Matching"><p>Recitation 9b: DNA Sequence...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-10-quiz-1-review/index.htm">
<img src="https://img.youtube.com/vi/-FElVPKykgw/default.jpg" title="Recitation 10: Quiz 1 Review" alt="Recitation 10: Quiz 1 Review"><p>Recitation 10: Quiz 1 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-11-principles-of-algorithm-design/index.htm">
<img src="https://img.youtube.com/vi/a_otxyu0mSQ/default.jpg" title="Recitation 11: Principles of Algorithm Design" alt="Recitation 11: Principles of Algorithm Design"><p>Recitation 11: Principles o...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-12-karatsuba-multiplication-newtons-method/index.htm">
<img src="https://img.youtube.com/vi/JRgIXyEPnbA/default.jpg" title="Recitation 12: Karatsuba Multiplication, Newton's Method" alt="Recitation 12: Karatsuba Multiplication, Newton's Method"><p>Recitation 12: Karatsuba Mu...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-13-breadth-first-search-bfs/index.htm">
<img src="https://img.youtube.com/vi/5JxShDZ_ylo/default.jpg" title="Recitation 13: Breadth-First Search (BFS)" alt="Recitation 13: Breadth-First Search (BFS)"><p>Recitation 13: Breadth-Firs...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-14-depth-first-search-dfs/index.htm">
<img src="https://img.youtube.com/vi/C5SPsY72_CM/default.jpg" title="Recitation 14: Depth-First Search (DFS)" alt="Recitation 14: Depth-First Search (DFS)"><p>Recitation 14: Depth-First ...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-15-shortest-paths/index.htm">
<img src="https://img.youtube.com/vi/mQSp6VmfakA/default.jpg" title="Recitation 15: Shortest Paths" alt="Recitation 15: Shortest Paths"><p>Recitation 15: Shortest Paths</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-16-rubiks-cube-starcraft-zero/index.htm">
<img src="https://img.youtube.com/vi/oRpERQA4Vik/default.jpg" title="Recitation 16: Rubik's Cube, StarCraft Zero" alt="Recitation 16: Rubik's Cube, StarCraft Zero"><p>Recitation 16: Rubik's Cube...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-18-quiz-2-review/index.htm">
<img src="https://img.youtube.com/vi/sPuazUPiV1k/default.jpg" title="Recitation 18: Quiz 2 Review" alt="Recitation 18: Quiz 2 Review"><p>Recitation 18: Quiz 2 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-19-dynamic-programming-crazy-eights-shortest-path/index.htm">
<img src="https://img.youtube.com/vi/IFrvgSvZA0I/default.jpg" title="Recitation 19: Dynamic Programming: Crazy Eights, Shortest Path" alt="Recitation 19: Dynamic Programming: Crazy Eights, Shortest Path"><p>Recitation 19: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-20-dynamic-programming-blackjack/index.htm">
<img src="https://img.youtube.com/vi/jZbkToeNK2g/default.jpg" title="Recitation 20: Dynamic Programming: Blackjack" alt="Recitation 20: Dynamic Programming: Blackjack"><p>Recitation 20: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-21-dynamic-programming-knapsack-problem/index.htm">
<img src="https://img.youtube.com/vi/wFP5VHGHFdk/default.jpg" title="Recitation 21: Dynamic Programming: Knapsack Problem" alt="Recitation 21: Dynamic Programming: Knapsack Problem"><p>Recitation 21: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-22-dynamic-programming-dance-dance-revolution/index.htm">
<img src="https://img.youtube.com/vi/PptQgy89cN8/default.jpg" title="Recitation 22: Dynamic Programming: Dance Dance Revolution" alt="Recitation 22: Dynamic Programming: Dance Dance Revolution"><p>Recitation 22: Dynamic Prog...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-23-computational-complexity/index.htm">
<img src="https://img.youtube.com/vi/t5Wxk96QjUk/default.jpg" title="Recitation 23: Computational Complexity" alt="Recitation 23: Computational Complexity"><p>Recitation 23: Computationa...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/recitation-videos/recitation-24-final-exam-review/index.htm">
<img src="https://img.youtube.com/vi/hkAONP0aC9w/default.jpg" title="Recitation 24: Final Exam Review" alt="Recitation 24: Final Exam Review"><p>Recitation 24: Final Exam R...</p></a>
</div>
</div>
        <div id="vid_playlist" itemprop="description" class="tabContent hide">
<ul><li><a class="transcript-link" title="Open in a new window." alt="Open in a new window." style="text-decoration: none; font-size: 1.0em;" target="_blank" text-decoration: none font-size: href="../../../contents/recitation-videos/recitation-6-avl-trees/IWzYoXKaRIc.pdf"> Download this transcript - PDF (English - US)</a></li></ul>
<p><span m="90">The</span> <span m="180">following</span> <span m="620">content</span> <span m="1210">is</span> <span m="1330">provided</span> <span m="1770">under</span> <span m="2050">a</span> <span m="2090">Creative</span> <span m="2490">Commons</span> <span m="2900">license.</span> <span m="4000">Your</span> <span m="4200">support</span> <span m="4700">will</span> <span m="4860">help</span> <span m="5100">MIT</span> <span m="5560">OpenCourseWare</span> <span m="6350">continue</span> <span m="6860">to</span> <span m="6940">offer</span> <span m="7350">high</span> <span m="7590">quality</span> <span m="8109">educational</span> <span m="8730">resources</span> <span m="9360">for</span> <span m="9510">free.</span> <span m="10720">To</span> <span m="10820">make</span> <span m="10930">a</span> <span m="10970">donation</span> <span m="11660">or</span> <span m="11930">view</span> <span m="12360">additional</span> <span m="12790">materials</span> <span m="13320">from</span> <span m="13480">hundreds</span> <span m="13910">of</span> <span m="14020">MIT</span> <span m="14450">courses,</span> <span m="15570">visit</span> <span m="15780">MIT</span> <span m="16200">OpenCourseWare</span> <span m="17250">at</span> <span m="17410">ocw.mit.edu.</span> </p>
<p><span m="22200">PROFESSOR: Are people</span> <span m="22550">understanding</span> <span m="23210">AVLs?</span> <span m="27600">That's</span> <span m="28070">good,</span> <span m="28270">because</span> <span m="28580">if</span> <span m="28740">everyone</span> <span m="29250">raised</span> <span m="29440">their</span> <span m="29600">hands,</span> <span m="29960">we'd</span> <span m="30110">be</span> <span m="30250">done</span> <span m="30700">and</span> <span m="30910">out</span> <span m="31050">of</span> <span m="31140">here.</span> <span m="31690">So</span> <span m="31900">we're</span> <span m="32000">not</span> <span m="32220">covering</span> <span m="32659">new</span> <span m="32840">material</span> <span m="33400">in</span> <span m="33520">this</span> <span m="33700">recitation.</span> <span m="34270">We're</span> <span m="34390">talking</span> <span m="34820">about</span> <span m="35150">AVLs</span> <span m="35650">again,</span> <span m="35940">except</span> <span m="36820">this</span> <span m="37050">time</span> <span m="37320">you'll</span> <span m="37700">tell</span> <span m="37910">me</span> <span m="38120">how</span> <span m="38630">we'll</span> <span m="38840">do</span> <span m="38970">them,</span> <span m="39210">and</span> <span m="39380">we'll</span> <span m="39460">look</span> <span m="39700">at</span> <span m="39820">the</span> <span m="39930">code</span> <span m="40270">and</span> <span m="41920">see</span> <span m="42140">how</span> <span m="42420">the</span> <span m="42570">theory</span> <span m="43230">matches</span> <span m="43690">the</span> <span m="43810">code.</span> <span m="44780">And</span> <span m="45010">I</span> <span m="45070">need</span> <span m="45220">one of</span> <span m="45340">these.</span> <span m="47150">Thank</span> <span m="47320">you.</span> </p>
<p><span m="52370">So</span> <span m="52500">let's</span> <span m="52680">start</span> <span m="52930">simple.</span> <span m="53260">What's</span> <span m="53440">a</span> <span m="53540">BST?</span> </p>
<p><span m="55610">AUDIENCE: Binary</span> <span m="56110">search</span> <span m="56610">tree.</span> </p>
<p><span m="60110">PROFESSOR: OK,</span> <span m="60450">binary</span> <span m="60930">search</span> <span m="61280">tree.</span> <span m="62930">It's</span> <span m="63140">binary</span> <span m="63580">because</span> <span m="64470">every</span> <span m="64700">node</span> <span m="64950">has</span> <span m="65150">at</span> <span m="65239">most</span> <span m="65550">two</span> <span m="65620">children.</span> <span m="66080">Why</span> <span m="66350">is it</span> <span m="66440">a</span> <span m="66550">search</span> <span m="66910">tree?</span> </p>
<p><span m="67686">AUDIENCE: It's</span> <span m="68122">easy</span> <span m="68558">to search.</span> </p>
<p><span m="69870">PROFESSOR: OK.</span> <span m="70210">Why</span> <span m="70410">is</span> <span m="70510">it</span> <span m="70620">easy</span> <span m="70840">to</span> <span m="70940">search?</span> </p>
<p><span m="71786">AUDIENCE: Because</span> <span m="72212">you start</span> <span m="72640">[INAUDIBLE],</span> <span m="72945">is my</span> <span m="73250">number</span> <span m="73620">greater than</span> <span m="74000">this key</span> <span m="74315">or is it</span> <span m="74630">less than,</span> <span m="74990">and then</span> <span m="75350">you go</span> <span m="75703">from there.</span> </p>
<p><span m="76410">PROFESSOR: OK.</span> <span m="76730">So</span> <span m="77200">if</span> <span m="77390">I</span> <span m="77500">would</span> <span m="78160">have</span> <span m="78400">to</span> <span m="78530">state</span> <span m="78790">this</span> <span m="79030">as</span> <span m="79240">a</span> <span m="79410">formal</span> <span m="79850">rep</span> <span m="80080">invariant</span> <span m="80600">thing,</span> <span m="80830">what</span> <span m="81020">would</span> <span m="81180">I</span> <span m="81270">say</span> <span m="81520">it</span> <span m="81630">is</span> <span m="82060">so</span> <span m="82300">that</span> <span m="82470">I</span> <span m="82580">can</span> <span m="82770">do</span> <span m="82890">that</span> <span m="83130">operation?</span> </p>
<p><span m="84016">AUDIENCE: Node</span> <span m="84460">at</span> <span m="84835">right</span> <span m="85210">is</span> <span m="85340">greater</span> <span m="85804">than</span> <span m="86268">node</span> <span m="86732">at</span> <span m="87196">key,</span> <span m="88124">which</span> <span m="88588">is</span> <span m="89052">greater</span> <span m="89516">than</span> <span m="89980">node</span> <span m="90444">at left.</span> </p>
<p><span m="90910">PROFESSOR: OK,</span> <span m="91150">excellent.</span> <span m="92140">So</span> <span m="92540">it</span> <span m="92740">turns out I</span> <span m="92960">can</span> <span m="94390">use</span> <span m="94750">this</span> <span m="95040">argument</span> <span m="95510">recursively</span> <span m="96190">to</span> <span m="96300">say</span> <span m="96490">that</span> <span m="97200">for</span> <span m="98650">a</span> <span m="98710">given</span> <span m="99000">node,</span> <span m="100150">everything</span> <span m="100670">that</span> <span m="100830">is</span> <span m="101050">to</span> <span m="101150">the</span> <span m="101300">right</span> <span m="101540">of</span> <span m="101670">that</span> <span m="101890">node</span> <span m="103090">is</span> <span m="103450">greater,</span> <span m="104740">and</span> <span m="105180">everything</span> <span m="105580">that</span> <span m="106003">is</span> <span m="106849">to the</span> <span m="107272">left</span> <span m="108120">is</span> <span m="108310">smaller.</span> <span m="112450">And</span> <span m="112630">this</span> <span m="112770">allows</span> <span m="113160">us</span> <span m="113410">to</span> <span m="113530">do</span> <span m="113720">search</span> <span m="114100">quickly</span> <span m="114480">because</span> <span m="115020">if</span> <span m="115410">you're</span> <span m="115520">looking</span> <span m="115810">for</span> <span m="116730">a</span> <span m="116850">key,</span> <span m="117180">say</span> <span m="118400">you</span> <span m="118550">have</span> <span m="118710">numbers</span> <span m="119050">in</span> <span m="119120">your</span> <span m="119260">tree</span> <span m="119420">and</span> <span m="119500">you're</span> <span m="119620">looking</span> <span m="119900">for</span> <span m="120090">5.</span> <span m="120480">If you</span> <span m="120650">arrive</span> <span m="120960">at</span> <span m="121060">a</span> <span m="121150">node</span> <span m="121870">whose</span> <span m="122080">value is</span> <span m="122510">4,</span> <span m="122780">you</span> <span m="122860">go</span> <span m="123030">right.</span> <span m="123770">If</span> <span m="123950">you</span> <span m="124240">arrive</span> <span m="124390">at</span> <span m="124490">a</span> <span m="124580">node</span> <span m="124800">whose</span> <span m="125020">value is</span> <span m="125370">7,</span> <span m="125750">you</span> <span m="125840">go</span> <span m="126010">left.</span> <span m="127820">OK</span> <span m="128060">So</span> <span m="128240">what</span> <span m="128430">do</span> <span m="128509">we</span> <span m="128620">know</span> <span m="128889">how</span> <span m="129070">to</span> <span m="129220">do</span> <span m="129370">on</span> <span m="129520">BSTs?</span> <span m="131420">What</span> <span m="131640">are</span> <span m="131730">the</span> <span m="131860">operations</span> <span m="132430">that</span> <span m="132680">we</span> <span m="132770">know?</span> </p>
<p><span m="134325">AUDIENCE: Minimum,</span> <span m="134790">maximum.</span> </p>
<p><span m="137580">PROFESSOR: Min,</span> <span m="138680">max.</span> </p>
<p><span m="142100">AUDIENCE: Left,</span> <span m="142575">right,</span> <span m="143050">parent.</span> </p>
<p><span m="144210">PROFESSOR: So</span> <span m="144320">those</span> <span m="144540">are</span> <span m="144660">for</span> <span m="144810">the</span> <span m="144940">node.</span> <span m="146640">I</span> <span m="146760">want the</span> <span m="146880">queries</span> <span m="147380">and</span> <span m="147530">the</span> <span m="147640">updates</span> <span m="148000">for</span> <span m="148170">the</span> <span m="148300">BST</span> <span m="148800">type.</span> </p>
<p><span m="150300">AUDIENCE: Insert</span> <span m="150800">and</span> <span m="151300">delete.</span> </p>
<p><span m="151800">PROFESSOR: OK.</span> <span m="155030">Insert,</span> <span m="158280">Delete.</span> </p>
<p><span m="159052">AUDIENCE: Next</span> <span m="159544">larger.</span> </p>
<p><span m="162988">PROFESSOR: OK.</span> <span m="172340">And</span> <span m="172500">then</span> <span m="172810">in here,</span> <span m="173000">the</span> <span m="173200">S</span> <span m="173553">in</span> <span m="173906">BST.</span> <span m="175026">Someone</span> <span m="175720">give</span> <span m="175890">me the</span> <span m="175990">S</span> <span m="176360">so we</span> <span m="176782">can move on.</span> </p>
<p><span m="177626">AUDIENCE: Find.</span> </p>
<p><span m="178800">PROFESSOR: Find,</span> <span m="179570">search,</span> <span m="182990">depending</span> <span m="183460">on</span> <span m="183570">what</span> <span m="183850">code</span> <span m="183990">you're</span> <span m="184210">reading.</span> <span m="187070">What's</span> <span m="187430">the</span> <span m="187550">running</span> <span m="187900">time</span> <span m="188180">for</span> <span m="188880">these</span> <span m="189110">guys?</span> </p>
<p><span m="191260">AUDIENCE: Order</span> <span m="191690">h.</span> </p>
<p><span m="192550">PROFESSOR: Excellent.</span> <span m="194220">So</span> <span m="194830">everything</span> <span m="195340">has</span> <span m="195490">the</span> <span m="195570">same</span> <span m="195820">running</span> <span m="196085">time.</span> <span m="196350">Nice and</span> <span m="196700">easy</span> <span m="196920">to</span> <span m="197020">remember.</span> <span m="199030">Order</span> <span m="199400">h.</span> <span m="199900">What's</span> <span m="200270">h?</span> </p>
<p><span m="201636">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="203930">PROFESSOR: OK.</span> <span m="205190">How</span> <span m="205380">do</span> <span m="205500">we</span> <span m="205630">define</span> <span m="206000">this</span> <span m="206100">height?</span> <span m="207120">What's</span> <span m="207380">the</span> <span m="207500">height</span> <span m="207990">for</span> <span m="209180">this</span> <span m="209380">tree?</span> </p>
<p><span m="211718">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="215460">PROFESSOR: Good.</span> <span m="216720">What's</span> <span m="217080">the</span> <span m="217210">height</span> <span m="217530">for</span> <span m="218230">this</span> <span m="218500">tree?</span> <span m="223460">What's</span> <span m="223800">the</span> <span m="223940">height</span> <span m="224390">for</span> <span m="227120">this</span> <span m="227250">tree?</span> </p>
<p><span m="228987">AUDIENCE: Two.</span> </p>
<p><span m="232600">PROFESSOR: So</span> <span m="232760">now</span> <span m="233050">for a</span> <span m="233330">more</span> <span m="233560">general</span> <span m="233960">case,</span> <span m="235020">where</span> <span m="235770">this</span> <span m="236000">is</span> <span m="236150">the</span> <span m="236240">height,</span> <span m="237640">and</span> <span m="238910">the</span> <span m="239040">height</span> <span m="239250">of my</span> <span m="239360">left</span> <span m="239740">subtree</span> <span m="240320">is</span> <span m="240460">hl.</span> <span m="240880">The</span> <span m="240990">height</span> <span m="241300">of</span> <span m="241390">my</span> <span m="241580">right</span> <span m="241920">subtree</span> <span m="242650">is</span> <span m="243120">hr.</span> <span m="244940">What's</span> <span m="245230">h?</span> </p>
<p><span m="246672">AUDIENCE: It's</span> <span m="247153">the maximum</span> <span m="247634">of</span> <span m="248115">hr times</span> <span m="248596">hl</span> <span m="250039">plus</span> <span m="250520">1.</span> </p>
<p><span m="257269">PROFESSOR: Nice</span> <span m="257350">save.</span> <span m="257660">I</span> <span m="257730">heard</span> <span m="257940">a</span> <span m="258000">"plus</span> <span m="258260">1"</span> <span m="258480">somewhere</span> <span m="258760">there.</span> <span m="262290">Very</span> <span m="262500">good.</span> <span m="264480">This</span> <span m="264660">is</span> <span m="264800">r.</span> <span m="268870">So</span> <span m="269040">if</span> <span m="269140">we</span> <span m="269200">look</span> <span m="269410">at</span> <span m="269780">the</span> <span m="270020">first</span> <span m="270280">part</span> <span m="270440">of</span> <span m="270560">the</span> <span m="270680">code,</span> <span m="271060">lines</span> <span m="271590">one</span> <span m="271860">through</span> <span m="272350">eight,</span> <span m="274870">lines</span> <span m="275250">seven and</span> <span m="275630">eight</span> <span m="275840">implement</span> <span m="276270">the</span> <span m="276330">definition</span> <span m="276850">that</span> <span m="277010">we</span> <span m="277140">talked</span> <span m="277390">about</span> <span m="277680">here.</span> <span m="279280">So</span> <span m="279450">in</span> <span m="279610">our</span> <span m="279700">Python</span> <span m="280040">implementation,</span> <span m="280840">each</span> <span m="281090">node</span> <span m="281440">knows</span> <span m="281770">the</span> <span m="281890">height</span> <span m="282730">of</span> <span m="282910">the</span> <span m="283060">tree</span> <span m="283440">that</span> <span m="283830">he's</span> <span m="283980">the</span> <span m="284120">root</span> <span m="284280">of.</span> <span m="287640">And</span> <span m="288530">since</span> <span m="288800">we're</span> <span m="288930">storing</span> <span m="289360">that,</span> <span m="289630">we</span> <span m="289740">need</span> <span m="289900">to</span> <span m="289990">update</span> <span m="290330">it</span> <span m="290450">every</span> <span m="290710">once</span> <span m="290910">in</span> <span m="291010">awhile</span> <span m="291290">when</span> <span m="291420">we</span> <span m="291480">make</span> <span m="291780">changes</span> <span m="292150">to</span> <span m="292270">the</span> <span m="292430">tree,</span> <span m="292640">like</span> <span m="292850">when</span> <span m="292990">we</span> <span m="293120">insert</span> <span m="293490">nodes.</span> <span m="294870">And</span> <span m="295110">the</span> <span m="295210">way</span> <span m="295320">we</span> <span m="295420">do</span> <span m="295550">that</span> <span m="295780">is</span> <span m="295920">update</span> <span m="296240">height,</span> <span m="296580">which</span> <span m="296810">uses</span> <span m="297120">the</span> <span m="297230">formula</span> <span m="297730">that</span> <span m="298050">we</span> <span m="298160">came</span> <span m="298420">up</span> <span m="298720">with</span> <span m="298980">here.</span> <span m="299970">Now,</span> <span m="300110">there</span> <span m="300380">is</span> <span m="300500">a</span> <span m="300560">hack</span> <span m="301160">on</span> <span m="301750">lines</span> <span m="302660">two,</span> <span m="302940">three,</span> <span m="303310">four,</span> <span m="303610">five.</span> <span m="304120">Can</span> <span m="304290">anyone</span> <span m="305340">tell</span> <span m="305550">me</span> <span m="305680">what</span> <span m="305880">the</span> <span m="305960">hack</span> <span m="306260">is?</span> </p>
<p><span m="320989">AUDIENCE: The</span> <span m="321480">negative</span> <span m="321971">1.</span> </p>
<p><span m="322470">PROFESSOR: OK.</span> <span m="323240">How</span> <span m="323390">does</span> <span m="323570">that</span> <span m="323710">work?</span> <span m="324140">Why</span> <span m="324170">do</span> <span m="324280">I</span> <span m="324370">need</span> <span m="324570">it?</span> </p>
<p><span m="327780">AUDIENCE: That's</span> <span m="328258">so if</span> <span m="328736">you're</span> <span m="329214">at the</span> <span m="329692">root node,</span> <span m="330170">you can</span> <span m="330480">still</span> <span m="330790">calculate</span> <span m="331243">the height.</span> </p>
<p><span m="333510">PROFESSOR: Depends</span> <span m="333820">on</span> <span m="334080">how the</span> <span m="334250">root</span> <span m="334400">node</span> <span m="334850">looks</span> <span m="335150">like.</span> </p>
<p><span m="337820">AUDIENCE: If it</span> <span m="338290">has no</span> <span m="338760">children.</span> </p>
<p><span m="340060">PROFESSOR: That's</span> <span m="340270">a</span> <span m="340300">leaf.</span> </p>
<p><span m="341080">AUDIENCE: Yes.</span> </p>
<p><span m="341880">PROFESSOR: OK.</span> <span m="343670">So</span> <span m="343870">if</span> <span m="344030">I'm</span> <span m="344150">in</span> <span m="344250">this</span> <span m="344480">case</span> <span m="344900">or</span> <span m="345060">in</span> <span m="345170">this</span> <span m="345390">case,</span> <span m="346540">what's</span> <span m="346990">hl,</span> <span m="347390">what's</span> <span m="347650">hr?</span> <span m="349140">In</span> <span m="349300">this</span> <span m="349490">case,</span> <span m="350690">I</span> <span m="350720">have</span> <span m="350950">this</span> <span m="351130">node of</span> <span m="351450">height</span> <span m="351800">zero,</span> <span m="352130">so</span> <span m="352570">I</span> <span m="352710">can</span> <span m="353130">make</span> <span m="353330">a</span> <span m="353400">small</span> <span m="353640">mistake</span> <span m="354050">here</span> <span m="354400">and</span> <span m="354520">it'll</span> <span m="354820">save</span> <span m="355010">me,</span> <span m="355400">but</span> <span m="355530">here,</span> <span m="356170">I</span> <span m="356310">have</span> <span m="356420">no</span> <span m="356590">children,</span> <span m="357610">so</span> <span m="357980">hl</span> <span m="358150">and</span> <span m="358590">hr</span> <span m="359350">have</span> <span m="359990">to</span> <span m="360090">be</span> <span m="360210">set</span> <span m="360440">in</span> <span m="360540">such</span> <span m="360810">a</span> <span m="360880">way</span> <span m="361090">that</span> <span m="361870">this</span> <span m="362130">formula</span> <span m="362590">evaluates</span> <span m="363080">to</span> <span m="363180">0.</span> <span m="364560">If</span> <span m="364700">I</span> <span m="364770">set</span> <span m="364990">them</span> <span m="365140">to</span> <span m="365230">minus</span> <span m="365620">1,</span> <span m="365980">I'll</span> <span m="366110">have</span> <span m="366270">minus</span> <span m="366650">1,</span> <span m="366830">minus</span> <span m="367200">1.</span> <span m="367890">The</span> <span m="368010">maximum</span> <span m="368490">is</span> <span m="368590">minus</span> <span m="368910">1</span> <span m="369200">plus</span> <span m="369440">1</span> <span m="369670">equals</span> <span m="370030">0.</span> </p>
<p><span m="371756">AUDIENCE: It's</span> <span m="372208">just to</span> <span m="372660">check the</span> <span m="373112">nodes</span> <span m="373564">for AVLs.</span> </p>
<p><span m="375650">PROFESSOR: We</span> <span m="375710">use</span> <span m="375880">that</span> <span m="376120">to</span> <span m="376290">update</span> <span m="376610">the</span> <span m="376680">height.</span> <span m="378090">For</span> <span m="378420">AVLs,</span> <span m="378990">we</span> <span m="379130">need</span> <span m="379280">to</span> <span m="379370">know</span> <span m="379550">the</span> <span m="379660">height</span> <span m="379950">of</span> <span m="380050">a</span> <span m="380210">node</span> <span m="380360">instantaneously.</span> <span m="381650">We</span> <span m="381800">can't</span> <span m="382040">afford</span> <span m="382360">to</span> <span m="382430">go</span> <span m="382630">down</span> <span m="382890">the</span> <span m="383010">tree</span> <span m="383200">and</span> <span m="383340">compute</span> <span m="383700">the</span> <span m="383780">height</span> <span m="384120">every</span> <span m="384370">time</span> <span m="384560">we</span> <span m="384650">need</span> <span m="384820">it,</span> <span m="385590">so</span> <span m="386010">every</span> <span m="386280">node</span> <span m="386580">gets</span> <span m="386800">to</span> <span m="386910">store</span> <span m="387280">its</span> <span m="387780">height.</span> <span m="389750">There's</span> <span m="389890">a</span> <span m="389950">small</span> <span m="390260">field</span> <span m="390870">in</span> <span m="391030">each</span> <span m="391190">node</span> <span m="391410">that</span> <span m="391600">has</span> <span m="391790">the</span> <span m="391870">height.</span> </p>
<p><span m="392960">So</span> <span m="393140">we</span> <span m="393230">need</span> <span m="393380">to</span> <span m="393430">update</span> <span m="393760">that</span> <span m="393960">every</span> <span m="394430">once in</span> <span m="394560">awhile</span> <span m="394840">when</span> <span m="395010">we</span> <span m="395110">do</span> <span m="395220">insertions and</span> <span m="395680">deletions.</span> <span m="396770">This</span> <span m="396970">is</span> <span m="397110">how</span> <span m="397250">we</span> <span m="397360">update</span> <span m="397715">it,</span> <span m="398070">and</span> <span m="398270">in</span> <span m="398400">order</span> <span m="398590">to</span> <span m="398710">update</span> <span m="399050">it</span> <span m="399180">for</span> <span m="399810">this</span> <span m="400130">case,</span> <span m="401030">where</span> <span m="401280">we're</span> <span m="401430">at</span> <span m="401600">a</span> <span m="402010">leaf,</span> <span m="402320">we</span> <span m="402510">have</span> <span m="402680">to</span> <span m="402800">say</span> <span m="402980">that</span> <span m="403220">the</span> <span m="403310">height</span> <span m="403700">of</span> <span m="403870">a</span> <span m="404260">non-existing</span> <span m="405010">tree is</span> <span m="405450">minus</span> <span m="405840">1.</span> <span m="407516">Of</span> <span m="408010">course,</span> <span m="408390">in</span> <span m="408650">theory</span> <span m="409100">and</span> <span m="409250">in</span> <span m="409350">real</span> <span m="409580">life,</span> <span m="409810">there</span> <span m="409940">are</span> <span m="410010">no</span> <span m="410310">non-existing</span> <span m="410990">trees,</span> <span m="411280">so</span> <span m="411570">this</span> <span m="411770">is</span> <span m="411890">a</span> <span m="411960">clever</span> <span m="412250">hack</span> <span m="412540">to</span> <span m="413120">reduce</span> <span m="413500">code</span> <span m="413730">size.</span> </p>
<p><span m="416470">So</span> <span m="416690">we</span> <span m="416800">said</span> <span m="417280">binary</span> <span m="417700">search</span> <span m="418080">trees</span> <span m="418390">would</span> <span m="418570">look</span> <span m="419100">something</span> <span m="419520">like</span> <span m="419720">this.</span> <span m="436408">Is this</span> <span m="436900">guy</span> <span m="437020">an</span> <span m="437100">AVL?</span> <span m="444050">Does</span> <span m="444220">anyone</span> <span m="444510">think</span> <span m="444730">it's</span> <span m="444870">an</span> <span m="444990">a</span> <span m="445110">AVL?</span> <span m="446696">Does</span> <span m="447108">anyone</span> <span m="448010">think</span> <span m="448190">it's</span> <span m="448330">not</span> <span m="448550">an</span> <span m="448730">AVL?</span> <span m="451660">Can</span> <span m="452160">one of you</span> <span m="452530">tell me</span> <span m="452800">why?</span> </p>
<p><span m="455205">AUDIENCE: The</span> <span m="455686">tree</span> <span m="456167">with</span> <span m="456650">5</span> <span m="457490">as</span> <span m="457740">its</span> <span m="458000">root</span> <span m="458260">is</span> <span m="458606">not</span> <span m="458952">balanced.</span> </p>
<p><span m="464220">PROFESSOR: So</span> <span m="464380">this</span> <span m="464560">guy</span> <span m="464720">here</span> <span m="465010">is</span> <span m="465160">not</span> <span m="465380">balanced.</span> <span m="465695">Why</span> <span m="466010">is it</span> <span m="466270">not</span> <span m="466400">balanced?</span> </p>
<p><span m="468670">AUDIENCE: Because</span> <span m="470930">it</span> <span m="471333">has</span> <span m="471736">two</span> <span m="472140">on its</span> <span m="472390">right</span> <span m="472610">and</span> <span m="472920">zero</span> <span m="473225">on its</span> <span m="473530">left,</span> <span m="474410">so</span> <span m="474850">the difference is greater than 1.</span> </p>
<p><span m="480600">PROFESSOR: You're</span> <span m="480730">saying</span> <span m="480980">that</span> <span m="481180">there's</span> <span m="481460">something</span> <span m="482030">here</span> <span m="482380">that's</span> <span m="482700">two,</span> <span m="484950">and</span> <span m="485210">something</span> <span m="485500">here</span> <span m="485700">that's--</span> <span m="486380">OK,</span> <span m="486640">so</span> <span m="486810">height.</span> <span m="488100">So</span> <span m="488560">then</span> <span m="489080">it's</span> <span m="490760">almost</span> <span m="491400">like</span> <span m="491570">that.</span> <span m="491890">It's</span> <span m="492840">1</span> <span m="493200">here</span> <span m="494150">and</span> <span m="495850">minus</span> <span m="496230">1</span> <span m="496410">here.</span> <span m="497770">So</span> <span m="497920">the</span> <span m="498050">reason</span> <span m="498340">I</span> <span m="498380">asked</span> <span m="498670">you</span> <span m="498820">to</span> <span m="498960">clarify</span> <span m="499470">is</span> <span m="499620">that</span> <span m="499840">first</span> <span m="500160">you</span> <span m="500260">said</span> <span m="500480">two</span> <span m="500710">and</span> <span m="500840">zero,</span> <span m="501300">and</span> <span m="501620">that's the</span> <span m="501760">node</span> <span m="502040">count,</span> <span m="503300">and</span> <span m="503590">AVL</span> <span m="503940">doesn't</span> <span m="504240">care</span> <span m="504450">about</span> <span m="504690">node</span> <span m="505020">count.</span> <span m="505660">AVL</span> <span m="505980">cares</span> <span m="506230">about</span> <span m="506520">height.</span> </p>
<p><span m="507650">So</span> <span m="507830">for</span> <span m="508020">example,</span> <span m="509050">if</span> <span m="509090">I</span> <span m="509180">have</span> <span m="509400">something</span> <span m="509870">like</span> <span m="515049">this,</span> <span m="515949">this</span> <span m="516400">is</span> <span m="516530">a</span> <span m="516600">happy</span> <span m="516910">AVL.</span> <span m="517619">Three</span> <span m="518419">nodes,</span> <span m="518710">here</span> <span m="518990">one node</span> <span m="519400">here.</span> <span m="519809">The</span> <span m="519950">difference</span> <span m="520340">in</span> <span m="520450">node</span> <span m="520570">count</span> <span m="520950">is</span> <span m="521100">greater</span> <span m="521419">than</span> <span m="521610">1,</span> <span m="522460">but</span> <span m="522679">the</span> <span m="522789">difference</span> <span m="523179">in</span> <span m="523280">height</span> <span m="523650">is</span> <span m="523750">1.</span> <span m="524200">Therefore,</span> <span m="524560">this</span> <span m="524800">is</span> <span m="524920">a</span> <span m="524990">good</span> <span m="525300">AVL.</span> <span m="527360">So</span> <span m="527530">what's</span> <span m="527780">a</span> <span m="527830">rep</span> <span m="528200">invariant</span> <span m="528610">for</span> <span m="528980">an</span> <span m="529010">AVL?</span> </p>
<p><span m="536024">AUDIENCE: The</span> <span m="536530">height</span> <span m="536980">of the</span> <span m="537190">left</span> <span m="537530">subtree</span> <span m="538290">for</span> <span m="538400">every</span> <span m="538620">node</span> <span m="538973">is within</span> <span m="539326">1</span> <span m="539680">of</span> <span m="540080">the</span> <span m="540522">height</span> <span m="541406">of</span> <span m="541848">the</span> <span m="542290">right</span> <span m="542555">subtree.</span> </p>
<p><span m="543380">PROFESSOR: Excellent.</span> <span m="546420">AVL.</span> <span m="547030">The</span> <span m="547150">core</span> <span m="547390">property</span> <span m="547760">is</span> <span m="548130">that</span> <span m="552210">for</span> <span m="552450">every</span> <span m="552680">node,</span> <span m="555050">the</span> <span m="555180">left</span> <span m="555420">height</span> <span m="556070">and</span> <span m="556500">the</span> <span m="556640">right</span> <span m="556940">height</span> <span m="558070">differ</span> <span m="558340">by</span> <span m="558520">at</span> <span m="558700">most</span> <span m="559280">1.</span> <span m="560850">What</span> <span m="561050">else?</span> <span m="562300">If</span> <span m="562520">we want</span> <span m="562660">to</span> <span m="562740">be</span> <span m="563210">completely</span> <span m="563750">rigorous,</span> <span m="564560">what</span> <span m="564780">else</span> <span m="565320">do</span> <span m="565430">we</span> <span m="565520">have</span> <span m="565680">to</span> <span m="565800">say?</span> <span m="568790">It's</span> <span m="568990">a</span> <span m="569260">BST.</span> <span m="574170">So</span> <span m="574400">an</span> <span m="574530">AVL</span> <span m="574870">is</span> <span m="575000">a</span> <span m="575070">special</span> <span m="575470">kind</span> <span m="575710">of</span> <span m="575870">BST,</span> <span m="576145">and</span> <span m="576420">that's</span> <span m="576680">why</span> <span m="576900">when</span> <span m="577210">we</span> <span m="577360">write</span> <span m="577640">the AVL</span> <span m="578140">code,</span> <span m="578470">we</span> <span m="579090">inherit</span> <span m="579630">from</span> <span m="580430">the</span> <span m="580620">BST</span> <span m="581110">and</span> <span m="581300">we</span> <span m="581440">use</span> <span m="582160">some</span> <span m="582430">of</span> <span m="582510">its</span> <span m="582680">methods</span> <span m="583050">heavily.</span> <span m="587660">Why do</span> <span m="587930">we</span> <span m="588120">like</span> <span m="588320">AVLs?</span> <span m="588760">What's</span> <span m="588980">so good</span> <span m="589190">about</span> <span m="589450">them?</span> </p>
<p><span m="592140">AUDIENCE: It's</span> <span m="592640">faster</span> <span m="593140">because</span> <span m="593640">it</span> <span m="594140">ensures</span> <span m="594640">the</span> <span m="595140">minimal</span> <span m="595640">height</span> <span m="596140">of the</span> <span m="596640">entire</span> <span m="597140">tree</span> <span m="598140">because</span> <span m="598640">most of</span> <span m="599140">our</span> <span m="599640">complexities are</span> <span m="600140">o of h,</span> <span m="600640">so it would</span> <span m="601140">have to</span> <span m="601640">be smaller.</span> </p>
<p><span m="602670">PROFESSOR: So</span> <span m="603420">we</span> <span m="603560">care</span> <span m="603760">about</span> <span m="604000">this.</span> <span m="605110">In</span> <span m="605280">a</span> <span m="605340">regular</span> <span m="605770">binary</span> <span m="606230">tree,</span> <span m="606470">the</span> <span m="606610">worst</span> <span m="606870">case</span> <span m="607080">that</span> <span m="607240">you</span> <span m="607350">have</span> <span m="607660">is</span> <span m="611080">this.</span> <span m="612560">Ignoring</span> <span m="612980">this</span> <span m="613220">part,</span> <span m="613520">this</span> <span m="613710">is</span> <span m="613830">a</span> <span m="613910">worst</span> <span m="614190">case</span> <span m="614880">binary</span> <span m="615230">search</span> <span m="615530">tree</span> <span m="615740">where it's</span> <span m="616170">basically a</span> <span m="616600">list,</span> <span m="617430">so</span> <span m="617870">height</span> <span m="618180">is</span> <span m="618870">order</span> <span m="619220">n.</span> <span m="619880">In</span> <span m="620060">an</span> <span m="620290">AVL,</span> <span m="620690">you're</span> <span m="620900">saying</span> <span m="621290">it's</span> <span m="622330">better.</span> </p>
<p><span m="624510">So</span> <span m="624710">the</span> <span m="624840">reason</span> <span m="625110">why</span> <span m="625270">we</span> <span m="625390">care</span> <span m="625600">about</span> <span m="625850">AVLs</span> <span m="629090">is</span> <span m="629480">that</span> <span m="630860">height</span> <span m="631260">is</span> <span m="632130">order</span> <span m="633190">of</span> <span m="635350">log</span> <span m="635620">n.</span> <span m="636570">Now,</span> <span m="636780">did</span> <span m="636880">people</span> <span m="637150">understand</span> <span m="637780">from</span> <span m="637980">lecture</span> <span m="638360">why</span> <span m="638590">that's</span> <span m="638830">the</span> <span m="638940">case?</span> <span m="642840">Can</span> <span m="643020">anyone</span> <span m="643400">tell</span> <span m="643570">me</span> <span m="644320">why</span> <span m="644510">that's</span> <span m="644740">the</span> <span m="644840">case?</span> </p>
<p><span m="647660">AUDIENCE: Well,</span> <span m="648142">it's just</span> <span m="648624">like</span> <span m="649106">every level</span> <span m="649588">you go</span> <span m="650070">down,</span> <span m="652010">if</span> <span m="652310">you</span> <span m="652460">split</span> <span m="652910">off</span> <span m="653320">that many</span> <span m="653756">times,</span> <span m="655064">of</span> <span m="655500">course it's</span> <span m="655930">log</span> <span m="656240">n.</span> <span m="658260">If</span> <span m="658630">you have</span> <span m="658870">n</span> <span m="659290">nodes</span> <span m="660016">and</span> <span m="660380">they're</span> <span m="660570">filled</span> <span m="660820">up</span> <span m="662120">to</span> <span m="662250">the edge,</span> <span m="663690">there's</span> <span m="663930">going to</span> <span m="664130">be</span> <span m="664460">log n</span> <span m="664830">of them.</span> </p>
<p><span m="666140">AUDIENCE: It's</span> <span m="666210">close</span> <span m="666380">to a</span> <span m="666720">full</span> <span m="666960">binary</span> <span m="667414">tree,</span> <span m="667868">right?</span> </p>
<p><span m="669230">PROFESSOR: For</span> <span m="669450">some</span> <span m="669640">definition</span> <span m="670140">of</span> <span m="670260">"close."</span> <span m="672260">So</span> <span m="672390">here's</span> <span m="672660">what</span> <span m="672810">I</span> <span m="672910">use</span> <span m="673160">to</span> <span m="673330">remember,</span> <span m="674010">and</span> <span m="674870">I</span> <span m="674980">think</span> <span m="675190">I</span> <span m="675250">can</span> <span m="675530">persuade</span> <span m="676080">you</span> <span m="676330">that</span> <span m="676680">the</span> <span m="676770">height</span> <span m="677060">is</span> <span m="677230">log</span> <span m="677525">n</span> <span m="678400">using</span> <span m="678810">the</span> <span m="679020">argument</span> <span m="679510">that</span> <span m="679690">I'll</span> <span m="679830">show</span> <span m="680020">you</span> <span m="680120">here.</span> <span m="682050">Let's</span> <span m="682200">start</span> <span m="682490">building</span> <span m="682800">a</span> <span m="682870">tree</span> <span m="683100">this</span> <span m="683330">way.</span> <span m="683490">Let's</span> <span m="683700">say I</span> <span m="683960">have</span> <span m="684070">a</span> <span m="684140">fixed</span> <span m="684470">height,</span> <span m="685460">and</span> <span m="685720">I</span> <span m="685750">want</span> <span m="685990">to</span> <span m="686090">have</span> <span m="686540">as</span> <span m="686790">few</span> <span m="687010">nodes</span> <span m="687220">as</span> <span m="687500">possible.</span> <span m="688620">If</span> <span m="688850">I</span> <span m="688920">have</span> <span m="689110">a</span> <span m="689230">tree</span> <span m="689430">with</span> <span m="689610">a</span> <span m="689660">big</span> <span m="689850">height</span> <span m="690120">and</span> <span m="690260">very</span> <span m="690520">few</span> <span m="690700">nodes,</span> <span m="693280">h</span> <span m="693550">is</span> <span m="693670">going</span> <span m="693890">to</span> <span m="693990">be</span> <span m="694110">bad</span> <span m="695150">when</span> <span m="695340">you</span> <span m="695450">write</span> <span m="695660">it</span> <span m="696920">as</span> <span m="697110">a</span> <span m="697170">function</span> <span m="697520">of</span> <span m="697660">n.</span> <span m="698740">So</span> <span m="698830">those</span> <span m="699070">trees</span> <span m="699300">are</span> <span m="699420">unbalanced.</span> <span m="700670">Big</span> <span m="700930">height,</span> <span m="701490">small</span> <span m="701750">number</span> <span m="702020">of</span> <span m="702100">nodes.</span> </p>
<p><span m="703000">So</span> <span m="703240">say</span> <span m="703460">we're</span> <span m="703610">trying</span> <span m="703850">to</span> <span m="703960">build</span> <span m="704170">an</span> <span m="704290">AVL</span> <span m="705250">with</span> <span m="705420">the</span> <span m="705520">smallest</span> <span m="706000">number</span> <span m="706310">of</span> <span m="706430">nodes</span> <span m="706940">and</span> <span m="707080">a</span> <span m="707170">fixed</span> <span m="707500">height.</span> <span m="708720">What</span> <span m="708900">if</span> <span m="709030">the</span> <span m="709120">height</span> <span m="709420">is</span> <span m="709540">0?</span> <span m="709860">What</span> <span m="710220">does</span> <span m="710400">that</span> <span m="710600">tree</span> <span m="710790">look</span> <span m="711010">like?</span> <span m="712660">It's</span> <span m="713760">not</span> <span m="714070">too</span> <span m="714170">complicated,</span> <span m="714770">right?</span> <span m="716930">This</span> <span m="717110">is</span> <span m="717230">an</span> <span m="717300">AVL</span> <span m="717610">of</span> <span m="717820">height</span> <span m="718300">0.</span> <span m="718610">It's</span> <span m="718740">the</span> <span m="718840">only</span> <span m="719260">possible</span> <span m="719596">AVL</span> <span m="720270">of</span> <span m="720470">height</span> <span m="720720">0.</span> </p>
<p><span m="721740">Now,</span> <span m="721880">what</span> <span m="721990">if</span> <span m="722130">we're</span> <span m="722250">trying</span> <span m="722490">to</span> <span m="722590">build</span> <span m="722900">an</span> <span m="723010">AVL</span> <span m="723110">of</span> <span m="723490">height</span> <span m="723840">1</span> <span m="724260">that</span> <span m="724550">has</span> <span m="724750">as</span> <span m="724950">few</span> <span m="725140">nodes</span> <span m="725400">as</span> <span m="725560">possible?</span> <span m="730550">This</span> <span m="730770">is</span> <span m="730860">what</span> <span m="731020">it</span> <span m="731090">looks</span> <span m="731340">like,</span> <span m="731620">right?</span> <span m="732890">Height</span> <span m="733195">0,</span> <span m="733500">height</span> <span m="733860">1.</span> <span m="736510">I</span> <span m="736630">could</span> <span m="736850">add</span> <span m="736980">another</span> <span m="737340">node</span> <span m="737580">here,</span> <span m="737830">but</span> <span m="738020">I</span> <span m="738080">don't</span> <span m="738260">want</span> <span m="738490">to</span> <span m="738610">because</span> <span m="738950">I</span> <span m="739020">want</span> <span m="739260">as</span> <span m="739655">few nodes as</span> <span m="740050">possible.</span> <span m="741370">Now,</span> <span m="741530">what</span> <span m="741640">if</span> <span m="741770">I</span> <span m="741860">tried</span> <span m="742100">to</span> <span m="742230">build</span> <span m="742500">an</span> <span m="742550">AVL</span> <span m="742830">of</span> <span m="743140">height</span> <span m="743490">2</span> <span m="743720">that</span> <span m="743990">has</span> <span m="744400">as few</span> <span m="744580">nodes</span> <span m="744840">as</span> <span m="745000">possible?</span> <span m="748340">Can I</span> <span m="748530">do</span> <span m="748740">this?</span> </p>
<p><span m="751735">AUDIENCE: So</span> <span m="752226">at the</span> <span m="752717">worst case,</span> <span m="753208">you have</span> <span m="753699">h minus</span> <span m="754190">1 and then</span> <span m="754681">h minus 2</span> <span m="755172">there.</span> </p>
<p><span m="756160">PROFESSOR: OK.</span> <span m="758890">You're</span> <span m="758990">moving</span> <span m="759340">ahead.</span> <span m="759840">You're</span> <span m="760010">forcing</span> <span m="760280">me</span> <span m="760490">to</span> <span m="760560">move</span> <span m="760720">faster,</span> <span m="761170">but</span> <span m="761770">you're</span> <span m="761920">right.</span> <span m="762280">And</span> <span m="762470">the</span> <span m="762560">reason</span> <span m="762860">is</span> <span m="763610">this</span> <span m="763900">is</span> <span m="764030">unbalanced.</span> <span m="765320">The</span> <span m="765460">height</span> <span m="765740">at</span> <span m="765850">the</span> <span m="765970">left</span> <span m="766290">has</span> <span m="766500">to</span> <span m="766610">be</span> <span m="767430">the</span> <span m="767550">height</span> <span m="767820">of</span> <span m="767950">the</span> <span m="768070">right</span> <span m="768590">plus</span> <span m="769020">or</span> <span m="769090">minus</span> <span m="769460">1.</span> <span m="769810">Can't</span> <span m="770140">be</span> <span m="770470">anything</span> <span m="770870">else.</span> <span m="771680">So</span> <span m="771910">at the</span> <span m="772050">very</span> <span m="772270">least,</span> <span m="772560">I</span> <span m="772600">have</span> <span m="772830">to</span> <span m="772950">build</span> <span m="773200">a</span> <span m="773300">tree</span> <span m="773550">of</span> <span m="773710">height 0</span> <span m="773940">here,</span> <span m="774980">and</span> <span m="775360">I</span> <span m="775430">know</span> <span m="775600">that</span> <span m="775900">the</span> <span m="776165">best</span> <span m="776430">tree</span> <span m="776940">of</span> <span m="777040">height</span> <span m="777240">0</span> <span m="777500">that</span> <span m="777650">I</span> <span m="777770">have</span> <span m="778350">is</span> <span m="778580">this</span> <span m="778810">guy.</span> <span m="783770">Cool.</span> <span m="784540">So</span> <span m="784730">for</span> <span m="784920">height</span> <span m="785190">3,</span> <span m="786660">I</span> <span m="786760">would</span> <span m="786890">have</span> <span m="787050">to</span> <span m="787160">do</span> <span m="787300">this.</span> <span m="787940">And</span> <span m="788030">then</span> <span m="788190">you're</span> <span m="788380">saying,</span> <span m="789350">what</span> <span m="789610">would I</span> <span m="789900">use</span> <span m="790070">at</span> <span m="790180">the</span> <span m="790280">left?</span> </p>
<p><span m="791168">AUDIENCE: You'd use</span> <span m="791666">whatever</span> <span m="792164">height's</span> <span m="792662">on the</span> <span m="793160">right</span> <span m="793658">minus 2.</span> <span m="796148">The</span> <span m="796646">height on</span> <span m="797144">the right</span> <span m="797642">minus 1</span> <span m="798140">per side.</span> </p>
<p><span m="798650">PROFESSOR: So</span> <span m="799020">on</span> <span m="799140">the</span> <span m="799210">right,</span> <span m="799430">I</span> <span m="799480">have</span> <span m="799850">a height</span> <span m="800105">2.</span> <span m="800360">On</span> <span m="800530">the</span> <span m="800630">left,</span> <span m="800900">I</span> <span m="800950">have</span> <span m="801860">a</span> <span m="802320">height</span> <span m="802720">1.</span> <span m="806360">If</span> <span m="806560">I</span> <span m="806610">want</span> <span m="806820">to</span> <span m="806870">go</span> <span m="807020">up</span> <span m="807190">to</span> <span m="807530">height</span> <span m="807805">4,</span> <span m="808080">I</span> <span m="808190">do</span> <span m="808310">the</span> <span m="808460">same</span> <span m="808670">thing.</span> <span m="809940">So</span> <span m="810000">if</span> <span m="810170">I</span> <span m="810240">want</span> <span m="810580">to</span> <span m="811260">build</span> <span m="812830">an</span> <span m="812920">AVL</span> <span m="813210">tree</span> <span m="813470">with</span> <span m="813670">as</span> <span m="813850">few</span> <span m="814010">nodes as</span> <span m="814210">possible</span> <span m="814890">and</span> <span m="815040">height</span> <span m="815330">h,</span> <span m="816890">I</span> <span m="817050">start</span> <span m="817400">with</span> <span m="817480">the</span> <span m="817650">root,</span> <span m="818250">then at</span> <span m="818610">the</span> <span m="818720">right,</span> <span m="818960">I</span> <span m="819090">build</span> <span m="819360">an</span> <span m="819480">AVL</span> <span m="819580">tree</span> <span m="819860">of</span> <span m="820880">height</span> <span m="821470">h</span> <span m="821670">minus</span> <span m="822040">1,</span> <span m="822530">and</span> <span m="822890">at</span> <span m="823000">the</span> <span m="823110">left,</span> <span m="823350">an</span> <span m="823450">AVL</span> <span m="823790">tree</span> <span m="824100">of</span> <span m="824190">height</span> <span m="824980">h</span> <span m="825170">minus</span> <span m="825500">2.</span> </p>
<p><span m="825970">And</span> <span m="826210">if</span> <span m="826380">these</span> <span m="826920">have</span> <span m="827180">the</span> <span m="827260">minimum</span> <span m="827670">number</span> <span m="828000">of</span> <span m="828110">nodes,</span> <span m="828420">then</span> <span m="828610">it</span> <span m="829950">turns</span> <span m="830240">out</span> <span m="830380">that</span> <span m="830520">the</span> <span m="830610">whole</span> <span m="830840">thing</span> <span m="831040">has</span> <span m="831370">the</span> <span m="831450">minimum</span> <span m="831840">number</span> <span m="832100">of</span> <span m="832200">nodes.</span> <span m="832850">I</span> <span m="832970">don't</span> <span m="833120">want</span> <span m="833250">to</span> <span m="833310">build</span> <span m="833580">a</span> <span m="833650">tree</span> <span m="833870">where</span> <span m="834020">the</span> <span m="834150">heights</span> <span m="834430">are</span> <span m="834570">equal</span> <span m="834880">because</span> <span m="835180">that</span> <span m="835340">would</span> <span m="835480">mean</span> <span m="835700">more</span> <span m="835930">nodes</span> <span m="836240">here,</span> <span m="837500">so</span> <span m="837680">this</span> <span m="837900">is</span> <span m="838030">the</span> <span m="838150">best</span> <span m="838430">I</span> <span m="838500">can</span> <span m="838710">do.</span> <span m="839040">This</span> <span m="839310">is</span> <span m="840470">the</span> <span m="840670">best</span> <span m="841000">way I</span> <span m="841140">can</span> <span m="841350">build</span> <span m="841570">a</span> <span m="841750">tall tree</span> <span m="842220">with</span> <span m="842410">as</span> <span m="842570">few</span> <span m="842720">nodes</span> <span m="842950">as</span> <span m="843090">possible.</span> </p>
<p><span m="850450">Suppose</span> <span m="850850">I</span> <span m="850910">want</span> <span m="851120">to</span> <span m="851210">write</span> <span m="851600">the</span> <span m="851720">number</span> <span m="852060">of</span> <span m="852170">nodes</span> <span m="853150">as</span> <span m="853330">a</span> <span m="853390">function</span> <span m="853810">of</span> <span m="853920">height.</span> <span m="854270">You're</span> <span m="854550">telling</span> <span m="854840">me</span> <span m="855420">what</span> <span m="855650">it</span> <span m="855750">is.</span> <span m="856970">When</span> <span m="857320">I was</span> <span m="857800">here,</span> <span m="858160">you were giving me</span> <span m="858460">the</span> <span m="858720">answer</span> <span m="858970">for</span> <span m="859090">this.</span> <span m="861420">So</span> <span m="861650">suppose</span> <span m="862040">I</span> <span m="862130">have</span> <span m="862350">a</span> <span m="862390">height,</span> <span m="862750">and</span> <span m="862910">I</span> <span m="862940">want</span> <span m="863100">to</span> <span m="863160">know</span> <span m="863310">how</span> <span m="863430">many</span> <span m="863660">nodes</span> <span m="863840">I</span> <span m="864010">have</span> <span m="864200">in</span> <span m="864280">my</span> <span m="864450">tree</span> <span m="864930">that</span> <span m="865090">has</span> <span m="865250">a</span> <span m="865310">minimum</span> <span m="865650">number</span> <span m="865920">of</span> <span m="866010">nodes.</span> <span m="866370">What</span> <span m="866560">is</span> <span m="866700">it?</span> </p>
<p><span m="868657">AUDIENCE: It's</span> <span m="873647">N</span> <span m="874146">h minus</span> <span m="874645">1,</span> <span m="876142">and</span> <span m="876641">then</span> <span m="877140">plus</span> <span m="878138">N</span> <span m="878637">h minus</span> <span m="879136">2.</span> <span m="884126">There</span> <span m="884625">might be</span> <span m="885124">a constant.</span> </p>
<p><span m="886340">PROFESSOR: There</span> <span m="886470">might</span> <span m="886620">be</span> <span m="886690">a</span> <span m="886750">constant.</span> <span m="890950">N</span> <span m="891060">h</span> <span m="891570">minus</span> <span m="891860">1</span> <span m="892030">is</span> <span m="892160">this</span> <span m="892290">tree,</span> <span m="892680">N</span> <span m="892900">h</span> <span m="893070">minus</span> <span m="893380">2</span> <span m="893480">is</span> <span m="893640">this</span> <span m="893760">tree,</span> <span m="894840">so</span> <span m="895070">what's</span> <span m="895180">the</span> <span m="895280">constant?</span> </p>
<p><span m="896830">AUDIENCE: [INAUDIBLE].</span> </p>
<p><span m="897315">PROFESSOR: Yep.</span> <span m="897800">This</span> <span m="898285">guy.</span> </p>
<p><span m="901195">AUDIENCE: Doesn't</span> <span m="901680">he have</span> <span m="902165">height</span> <span m="902660">0,</span> <span m="903050">though?</span> </p>
<p><span m="904355">AUDIENCE: We're</span> <span m="904790">talking</span> <span m="905110">number</span> <span m="905430">of nodes.</span> </p>
<p><span m="906250">AUDIENCE: Oh.</span> <span m="906660">Number of</span> <span m="906940">nodes,</span> <span m="907420">yeah.</span> </p>
<p><span m="911530">PROFESSOR: I'm</span> <span m="911680">not</span> <span m="911830">going</span> <span m="911950">to</span> <span m="912020">solve</span> <span m="912330">this</span> <span m="912520">now.</span> <span m="912710">We</span> <span m="912820">learned</span> <span m="913030">how</span> <span m="913160">to</span> <span m="913280">solve</span> <span m="913560">recurrences</span> <span m="914100">a</span> <span m="914180">long</span> <span m="914370">time</span> <span m="914580">ago,</span> <span m="914830">so</span> <span m="914980">I'll</span> <span m="915150">pretend</span> <span m="915550">I still</span> <span m="915930">remember</span> <span m="916300">how</span> <span m="916420">to</span> <span m="916550">do</span> <span m="916710">that,</span> <span m="916990">and</span> <span m="917190">I</span> <span m="917220">will</span> <span m="917390">tell</span> <span m="917550">you</span> <span m="917660">that the</span> <span m="917940">solution</span> <span m="918390">looks</span> <span m="918670">something</span> <span m="919010">like</span> <span m="919210">this.</span> <span m="920480">N</span> <span m="920700">of</span> <span m="920890">h</span> <span m="921250">is</span> <span m="922100">roughly</span> <span m="923050">5,</span> <span m="923470">which</span> <span m="923660">is</span> <span m="923770">the</span> <span m="923870">magic</span> <span m="924230">number</span> <span m="924530">that</span> <span m="924710">we</span> <span m="924830">talked</span> <span m="925080">about</span> <span m="925400">in</span> <span m="925480">lecture--</span> <span m="926670">roughly,</span> <span m="927470">which</span> <span m="927760">means</span> <span m="927960">there</span> <span m="928100">might</span> <span m="928300">be</span> <span m="928410">some</span> <span m="929290">things</span> <span m="929540">there</span> <span m="929740">that</span> <span m="929900">I</span> <span m="930020">forgot--</span> <span m="931390">to</span> <span m="932900">the</span> <span m="933110">h.</span> </p>
<p><span m="934880">What</span> <span m="935150">really</span> <span m="935510">matters</span> <span m="935610">is</span> <span m="935890">that</span> <span m="936070">it's</span> <span m="936220">an</span> <span m="936330">exponential</span> <span m="936640">in</span> <span m="937150">h.</span> <span m="938280">If</span> <span m="938420">you</span> <span m="938520">look</span> <span m="938680">at</span> <span m="938800">these</span> <span m="939020">guys,</span> <span m="939330">this</span> <span m="939520">is</span> <span m="939780">close</span> <span m="940080">to</span> <span m="940160">the</span> <span m="940290">Fibonacci</span> <span m="940830">number</span> <span m="941160">formula</span> <span m="942880">except</span> <span m="943090">there's</span> <span m="943280">a</span> <span m="943350">plus</span> <span m="943630">1</span> <span m="943820">here.</span> <span m="944720">So</span> <span m="944810">these</span> <span m="945050">guys</span> <span m="945340">are</span> <span m="945490">bigger</span> <span m="945880">than</span> <span m="946080">the</span> <span m="946180">Fibonacci</span> <span m="946720">numbers.</span> <span m="948350">This</span> <span m="948550">is</span> <span m="948690">definitely</span> <span m="949120">bigger</span> <span m="949490">than</span> <span m="950280">whatever</span> <span m="950690">the</span> <span m="950810">formula</span> <span m="951170">for</span> <span m="951310">Fibonacci</span> <span m="951810">numbers is,</span> <span m="952280">which</span> <span m="952720">is</span> <span m="953330">5</span> <span m="953980">to</span> <span m="954255">the</span> <span m="954530">h</span> <span m="954690">minus</span> <span m="955810">something</span> <span m="956250">over</span> <span m="956480">something.</span> </p>
<p><span m="958160">What</span> <span m="958220">really</span> <span m="958450">matters</span> <span m="958800">is</span> <span m="960540">the</span> <span m="960650">minimum</span> <span m="961020">number</span> <span m="961330">of</span> <span m="961430">nodes</span> <span m="961700">in</span> <span m="961790">an</span> <span m="961880">AVL</span> <span m="962190">of</span> <span m="962410">height</span> <span m="962700">h</span> <span m="963090">is</span> <span m="963230">an</span> <span m="963350">exponential</span> <span m="964050">as</span> <span m="964180">a</span> <span m="964250">function</span> <span m="964620">of</span> <span m="964760">h.</span> <span m="966240">If</span> <span m="966390">you</span> <span m="966670">invert</span> <span m="966820">that,</span> <span m="967030">you</span> <span m="967190">get</span> <span m="967430">that</span> <span m="968536">the</span> <span m="968960">maximum</span> <span m="969550">height</span> <span m="970110">for</span> <span m="971050">a</span> <span m="971190">tree</span> <span m="971450">with</span> <span m="971720">N</span> <span m="971850">nodes</span> <span m="972040">is</span> <span m="972910">log</span> <span m="973260">N.</span> <span m="979670">This</span> <span m="979870">is</span> <span m="979980">a</span> <span m="980050">way</span> <span m="980160">to</span> <span m="980290">construct</span> <span m="980740">an</span> <span m="980980">AVL</span> <span m="981590">that</span> <span m="981840">shows</span> <span m="982130">you</span> <span m="982760">that</span> <span m="983250">the</span> <span m="983520">height</span> <span m="984000">has</span> <span m="984270">to</span> <span m="984370">be</span> <span m="984490">logarithmic</span> <span m="985470">as</span> <span m="985690">long</span> <span m="985920">as</span> <span m="986030">we</span> <span m="986140">can</span> <span m="986430">keep</span> <span m="986760">this</span> <span m="987210">rep invariant</span> <span m="987590">true.</span> </p>
<p><span m="989657">AUDIENCE: I</span> <span m="990136">have a</span> <span m="990615">question.</span> <span m="991094">I</span> <span m="991573">didn't quite</span> <span m="992052">follow</span> <span m="992531">how you</span> <span m="993010">got</span> <span m="993489">h minus</span> <span m="993968">2</span> <span m="994447">and h</span> <span m="994926">minus</span> <span m="995405">1</span> <span m="995884">there.</span> </p>
<p><span m="997330">PROFESSOR: Here,</span> <span m="997970">here,</span> <span m="998650">here?</span> </p>
<p><span m="999020">AUDIENCE: There.</span> <span m="1000836">The</span> <span m="1001290">tree</span> <span m="1001744">down.</span> <span m="1003110">This</span> <span m="1003340">one?</span> <span m="1003930">This</span> <span m="1004280">one?</span> </p>
<p><span m="1004630">AUDIENCE: This one,</span> <span m="1005013">yeah.</span> </p>
<p><span m="1005780">PROFESSOR: OK.</span> <span m="1006050">So</span> <span m="1006220">suppose</span> <span m="1006690">I'm</span> <span m="1006810">at</span> <span m="1007080">height</span> <span m="1007920">4</span> <span m="1008770">here.</span> <span m="1013780">What's</span> <span m="1014090">the</span> <span m="1014380">best</span> <span m="1014660">way</span> <span m="1014770">to</span> <span m="1014890">construct</span> <span m="1015780">an</span> <span m="1015910">AVL</span> <span m="1016550">that</span> <span m="1016790">has</span> <span m="1016940">as few</span> <span m="1017315">nodes as</span> <span m="1017690">possible</span> <span m="1018250">but</span> <span m="1018390">height</span> <span m="1018700">4?</span> <span m="1019720">If</span> <span m="1019900">this</span> <span m="1020180">guy</span> <span m="1020370">has</span> <span m="1020630">to</span> <span m="1020730">be</span> <span m="1020910">at</span> <span m="1021000">height</span> <span m="1021290">4,</span> <span m="1021990">then</span> <span m="1022200">it</span> <span m="1022310">has</span> <span m="1022500">to</span> <span m="1022610">have</span> <span m="1022800">a</span> <span m="1022880">child</span> <span m="1023210">at</span> <span m="1023280">height</span> <span m="1023570">3,</span> <span m="1025450">at</span> <span m="1025569">least</span> <span m="1025750">one</span> <span m="1025910">child.</span> <span m="1026180">Otherwise,</span> <span m="1026690">it's</span> <span m="1026920">not</span> <span m="1027140">going</span> <span m="1027270">to</span> <span m="1027339">be</span> <span m="1027480">height</span> <span m="1027849">4.</span> </p>
<p><span m="1028880">Now,</span> <span m="1029450">I</span> <span m="1029560">need</span> <span m="1029750">to</span> <span m="1029819">build</span> <span m="1030089">something</span> <span m="1030430">here</span> <span m="1030680">that</span> <span m="1030920">has</span> <span m="1031119">height</span> <span m="1031430">3.</span> <span m="1032609">What</span> <span m="1032810">should</span> <span m="1032980">I</span> <span m="1033030">build?</span> <span m="1034000">The</span> <span m="1034130">best</span> <span m="1034349">AVL</span> <span m="1034740">tree</span> <span m="1034950">that</span> <span m="1035180">I</span> <span m="1035250">know</span> <span m="1035460">that</span> <span m="1035740">has</span> <span m="1035930">height</span> <span m="1036140">3,</span> <span m="1037230">right?</span> <span m="1037430">I</span> <span m="1037450">have</span> <span m="1037640">to</span> <span m="1037740">get</span> <span m="1037930">to</span> <span m="1038030">height</span> <span m="1038369">3</span> <span m="1038579">using</span> <span m="1038940">as</span> <span m="1039099">few nodes</span> <span m="1039540">as</span> <span m="1039710">possible,</span> <span m="1040940">so</span> <span m="1041060">I'm</span> <span m="1041150">going</span> <span m="1041319">to</span> <span m="1041369">use</span> <span m="1041630">this</span> <span m="1041869">guy</span> <span m="1042069">because</span> <span m="1042420">it</span> <span m="1042560">has</span> <span m="1042780">as</span> <span m="1042950">few</span> <span m="1043119">nodes</span> <span m="1043280">as</span> <span m="1043490">possible</span> <span m="1044000">and</span> <span m="1044119">it</span> <span m="1044250">has</span> <span m="1044480">height</span> <span m="1044780">3.</span> <span m="1046230">So</span> <span m="1046390">this</span> <span m="1046579">covers</span> <span m="1048280">my</span> <span m="1048490">right</span> <span m="1048700">side.</span> </p>
<p><span m="1049990">Now,</span> <span m="1050120">for</span> <span m="1050280">my</span> <span m="1050440">left</span> <span m="1050710">side,</span> <span m="1051740">what</span> <span m="1051920">am</span> <span m="1052040">I</span> <span m="1052130">going</span> <span m="1052420">to</span> <span m="1052530">use</span> <span m="1052760">here?</span> <span m="1055430">Another</span> <span m="1055780">AVL</span> <span m="1056190">tree</span> <span m="1056400">that</span> <span m="1056620">has</span> <span m="1056820">as few</span> <span m="1057180">nodes as</span> <span m="1057540">possible,</span> <span m="1058150">right?</span> <span m="1058990">So</span> <span m="1060650">I'm</span> <span m="1060790">definitely</span> <span m="1061120">keeping</span> <span m="1061400">that.</span> <span m="1061810">But</span> <span m="1062040">what's</span> <span m="1062250">going</span> <span m="1062390">to</span> <span m="1062450">be</span> <span m="1062580">the</span> <span m="1062680">height</span> <span m="1062960">of</span> <span m="1063060">that?</span> </p>
<p><span m="1065805">AUDIENCE: So we</span> <span m="1066292">want the</span> <span m="1066779">difference</span> <span m="1067266">to be less than</span> <span m="1067753">or equal to</span> <span m="1068240">1?</span> </p>
<p><span m="1068730">PROFESSOR: Yeah.</span> <span m="1069050">Otherwise,</span> <span m="1069240">it's not</span> <span m="1069470">an</span> <span m="1069890">AVL.</span> </p>
<p><span m="1070820">AUDIENCE: So</span> <span m="1071285">it</span> <span m="1071750">would be</span> <span m="1072215">of height</span> <span m="1072680">4.</span> </p>
<p><span m="1075330">PROFESSOR: So</span> <span m="1075450">I</span> <span m="1075550">know</span> <span m="1075720">for</span> <span m="1075900">sure</span> <span m="1076090">that</span> <span m="1076280">this</span> <span m="1076430">guy</span> <span m="1076770">has height</span> <span m="1077010">4.</span> <span m="1078690">The</span> <span m="1078800">difference</span> <span m="1079110">has</span> <span m="1079270">to</span> <span m="1079370">be</span> <span m="1079550">plus,</span> <span m="1079880">minus</span> <span m="1080250">1.</span> </p>
<p><span m="1080460">AUDIENCE: So it</span> <span m="1080830">would be</span> <span m="1081200">2.</span> </p>
<p><span m="1081570">PROFESSOR: 2,</span> <span m="1081800">3,</span> <span m="1081990">4.</span> <span m="1083590">I</span> <span m="1083710">know</span> <span m="1083870">for</span> <span m="1084050">sure</span> <span m="1084310">I</span> <span m="1084370">don't</span> <span m="1084530">want</span> <span m="1084680">it to</span> <span m="1084750">be</span> <span m="1084880">4,</span> <span m="1086590">and</span> <span m="1086760">now I</span> <span m="1086780">have</span> <span m="1086910">to</span> <span m="1087030">choose</span> <span m="1087230">between</span> <span m="1087550">2</span> <span m="1087680">and</span> <span m="1087870">3.</span> <span m="1088070">A</span> <span m="1088470">tree</span> <span m="1088730">of</span> <span m="1088860">height</span> <span m="1089120">2</span> <span m="1089310">will</span> <span m="1089690">have</span> <span m="1089910">fewer</span> <span m="1090160">nodes</span> <span m="1090480">than</span> <span m="1090590">a</span> <span m="1090650">tree of</span> <span m="1090980">height</span> <span m="1091110">3,</span> <span m="1091380">so</span> <span m="1091550">that's</span> <span m="1091770">why</span> <span m="1091860">we're</span> <span m="1091980">doing</span> <span m="1092220">it</span> <span m="1092320">this</span> <span m="1092510">way.</span> <span m="1094140">So</span> <span m="1094540">to</span> <span m="1094670">build</span> <span m="1094870">a</span> <span m="1094990">tree of</span> <span m="1095490">height</span> <span m="1095810">4,</span> <span m="1096370">build</span> <span m="1096780">a tree</span> <span m="1096880">of</span> <span m="1097295">height</span> <span m="1097710">3,</span> <span m="1097870">build a</span> <span m="1098150">tree of height 2,</span> <span m="1098560">connect</span> <span m="1098870">them</span> <span m="1099010">together.</span> <span m="1100280">That's</span> <span m="1100520">how</span> <span m="1100640">we</span> <span m="1100770">get</span> <span m="1100960">to</span> <span m="1101040">this,</span> <span m="1101630">and</span> <span m="1101780">then</span> <span m="1102040">this.</span> <span m="1104210">Cool.</span> </p>
<p><span m="1107220">Do</span> <span m="1107350">people</span> <span m="1107640">remember</span> <span m="1108120">how</span> <span m="1108350">to do</span> <span m="1108440">insertions</span> <span m="1109060">and</span> <span m="1109210">deletions</span> <span m="1109660">in</span> <span m="1109740">a</span> <span m="1109860">regular</span> <span m="1110230">binary</span> <span m="1110610">tree?</span> <span m="1115100">Yes?</span> <span m="1120420">How do</span> <span m="1120690">I</span> <span m="1120790">insert</span> <span m="1121180">6.5</span> <span m="1121880">here</span> <span m="1122990">in</span> <span m="1123130">this</span> <span m="1123320">one?</span> </p>
<p><span m="1127360">AUDIENCE: You</span> <span m="1127450">take</span> <span m="1127520">6.5,</span> <span m="1127850">you're like,</span> <span m="1128330">oh,</span> <span m="1128655">it's greater</span> <span m="1128980">than</span> <span m="1129410">4,</span> <span m="1129910">then you</span> <span m="1130410">move to</span> <span m="1130910">5.</span> <span m="1131410">Then you're</span> <span m="1131910">like,</span> <span m="1132410">oh,</span> <span m="1132910">it's greater than 5.</span> <span m="1133410">Go to</span> <span m="1133610">6.</span> <span m="1133920">Oh,</span> <span m="1134230">it's less</span> <span m="1134560">than</span> <span m="1134860">6,</span> <span m="1135230">and then</span> <span m="1135495">it goes</span> <span m="1135760">to the left of</span> <span m="1136080">6.</span> <span m="1138230">I mean--</span> <span m="1138630">sorry.</span> <span m="1139586">I</span> <span m="1140064">meant</span> <span m="1140542">left</span> <span m="1141020">of 7.</span> </p>
<p><span m="1142460">PROFESSOR: OK.</span> <span m="1143110">So</span> <span m="1143310">it's</span> <span m="1144070">bigger</span> <span m="1144360">than--</span> </p>
<p><span m="1144788">AUDIENCE: Testing</span> <span m="1145216">you all,</span> <span m="1145644">guys.</span> <span m="1146500">Oh</span> <span m="1146930">yeah.</span> <span m="1148920">6.5 is</span> <span m="1149280">bigger</span> <span m="1149510">than</span> <span m="1149720">6,</span> <span m="1150170">so then</span> <span m="1150614">it</span> <span m="1151058">goes to</span> <span m="1151502">the left of</span> <span m="1151946">7 because</span> <span m="1152390">it's</span> <span m="1152850">less</span> <span m="1153090">than 7.</span> </p>
<p><span m="1158000">PROFESSOR: I thought</span> <span m="1158070">I had</span> <span m="1158340">my</span> <span m="1158450">example</span> <span m="1158860">wrong</span> <span m="1159050">for a</span> <span m="1159430">second.</span> </p>
<p><span m="1162080">AUDIENCE: I'm just</span> <span m="1162510">tired.</span> </p>
<p><span m="1162940">PROFESSOR: Me</span> <span m="1163360">too,</span> <span m="1163830">so</span> <span m="1163970">don't</span> <span m="1164130">scare</span> <span m="1164385">me.</span> <span m="1167060">All</span> <span m="1167230">right.</span> <span m="1169390">So</span> <span m="1169580">suppose</span> <span m="1169980">we</span> <span m="1170110">have</span> <span m="1170390">heights</span> <span m="1170730">stored in</span> <span m="1171190">the</span> <span m="1171300">nodes</span> <span m="1171780">here,</span> <span m="1172740">because</span> <span m="1173110">we</span> <span m="1173220">want</span> <span m="1173430">to</span> <span m="1173530">do</span> <span m="1173650">that</span> <span m="1173860">for</span> <span m="1174080">AVLs.</span> <span m="1175480">We'll</span> <span m="1175740">figure</span> <span m="1176310">out</span> <span m="1176500">why</span> <span m="1176730">in</span> <span m="1177460">a</span> <span m="1177580">bit.</span> <span m="1179960">The</span> <span m="1180070">height</span> <span m="1180390">of</span> <span m="1180580">this</span> <span m="1180810">guy</span> <span m="1180960">used</span> <span m="1181250">to</span> <span m="1181340">be</span> <span m="1181510">0,</span> <span m="1182080">1,</span> <span m="1183110">2,</span> <span m="1183560">3,</span> <span m="1183880">right?</span> <span m="1185520">0,</span> <span m="1186330">1,</span> <span m="1187140">2,</span> <span m="1188080">3.</span> <span m="1190770">What</span> <span m="1191050">happened</span> <span m="1191370">when</span> <span m="1191560">I</span> <span m="1191620">added</span> <span m="1191770">this</span> <span m="1191890">node?</span> </p>
<p><span m="1194820">AUDIENCE: You</span> <span m="1195286">added 1</span> <span m="1195752">to everything</span> <span m="1196684">[INAUDIBLE].</span> </p>
<p><span m="1198090">PROFESSOR: Yeah.</span> <span m="1198590">So</span> <span m="1199310">I</span> <span m="1199470">went</span> <span m="1199730">down</span> <span m="1199820">on</span> <span m="1200290">my</span> <span m="1200450">insertion</span> <span m="1200950">path</span> <span m="1201340">to</span> <span m="1201440">find</span> <span m="1201780">out</span> <span m="1202030">where</span> <span m="1202210">to</span> <span m="1202310">insert a</span> <span m="1202810">node,</span> <span m="1203990">and</span> <span m="1204140">then</span> <span m="1204280">I</span> <span m="1204360">added</span> <span m="1204660">it.</span> <span m="1207480">I</span> <span m="1207550">just</span> <span m="1207690">chose</span> <span m="1207930">my</span> <span m="1208070">case</span> <span m="1208420">conveniently,</span> <span m="1209080">but</span> <span m="1210000">in</span> <span m="1210150">some</span> <span m="1210420">cases,</span> <span m="1211040">all</span> <span m="1211370">the</span> <span m="1211470">heights</span> <span m="1211810">of</span> <span m="1211930">the</span> <span m="1212000">nodes</span> <span m="1212370">on</span> <span m="1212500">that</span> <span m="1212780">path</span> <span m="1213490">have</span> <span m="1213720">changed.</span> <span m="1214990">So</span> <span m="1215960">in</span> <span m="1216120">an</span> <span m="1216180">AVL,</span> <span m="1217130">after</span> <span m="1217480">we</span> <span m="1217680">insert,</span> <span m="1218000">we</span> <span m="1218090">have</span> <span m="1218380">to</span> <span m="1218560">make</span> <span m="1218780">sure</span> <span m="1219010">that</span> <span m="1219280">the</span> <span m="1219410">height</span> <span m="1219720">of</span> <span m="1219860">every</span> <span m="1220110">node</span> <span m="1220430">on</span> <span m="1220550">the</span> <span m="1220650">path</span> <span m="1220940">is</span> <span m="1221080">updated.</span> <span m="1223000">Does</span> <span m="1223170">this</span> <span m="1223310">make</span> <span m="1223480">sense?</span> <span m="1224600">So</span> <span m="1224790">the</span> <span m="1224870">heights</span> <span m="1225180">will</span> <span m="1225200">be</span> <span m="1226680">1,</span> <span m="1227470">2,</span> <span m="1228790">3,</span> <span m="1230140">4.</span> </p>
<p><span m="1233540">So</span> <span m="1233700">the</span> <span m="1233830">way</span> <span m="1233960">we</span> <span m="1234090">implemented</span> <span m="1234670">the</span> <span m="1234850">AVLs</span> <span m="1235250">is</span> <span m="1235440">that</span> <span m="1235930">we</span> <span m="1236070">do</span> <span m="1236220">regular</span> <span m="1236690">insertions</span> <span m="1237230">and</span> <span m="1237360">deletions,</span> <span m="1238690">and</span> <span m="1238950">then</span> <span m="1239420">at the</span> <span m="1239550">end,</span> <span m="1239700">we</span> <span m="1239830">say,</span> <span m="1240130">well</span> <span m="1241200">it</span> <span m="1241330">used to</span> <span m="1241540">be an</span> <span m="1241630">AVL.</span> <span m="1242360">Now</span> <span m="1242570">we</span> <span m="1242700">added</span> <span m="1242830">or</span> <span m="1243020">removed</span> <span m="1243380">the</span> <span m="1243440">node,</span> <span m="1243860">so it</span> <span m="1243970">might</span> <span m="1244200">be</span> <span m="1244310">a</span> <span m="1244380">slightly</span> <span m="1244980">unbalanced</span> <span m="1245270">AVL,</span> <span m="1246360">which</span> <span m="1247270">means</span> <span m="1247630">it's</span> <span m="1247860">not</span> <span m="1248190">an</span> <span m="1248270">AVL.</span> <span m="1249340">And</span> <span m="1249780">we</span> <span m="1249870">have the</span> <span m="1250160">rebalance</span> <span m="1250390">procedure.</span> </p>
<p><span m="1251320">So</span> <span m="1251970">if</span> <span m="1252090">you</span> <span m="1252210">look</span> <span m="1252390">at</span> <span m="1252780">on</span> <span m="1252940">the</span> <span m="1253030">second</span> <span m="1253340">page</span> <span m="1253590">of</span> <span m="1253710">the</span> <span m="1253820">code,</span> <span m="1256042">insert</span> <span m="1256470">and</span> <span m="1257080">delete</span> <span m="1257350">are</span> <span m="1257640">really</span> <span m="1257960">tiny,</span> <span m="1258290">lines</span> <span m="1258610">20</span> <span m="1258910">to</span> <span m="1259040">22</span> <span m="1259620">and</span> <span m="1259780">24</span> <span m="1260260">to</span> <span m="1260370">28.</span> <span m="1261380">And</span> <span m="1261890">they're</span> <span m="1262080">really</span> <span m="1262290">tiny</span> <span m="1262560">because</span> <span m="1262830">they</span> <span m="1263040">call</span> <span m="1263340">the</span> <span m="1263440">old</span> <span m="1263670">code</span> <span m="1263980">and</span> <span m="1264120">then</span> <span m="1264280">they</span> <span m="1264390">call</span> <span m="1264680">Rebalance.</span> <span m="1266500">So</span> <span m="1266640">all</span> <span m="1266760">the</span> <span m="1266840">magic</span> <span m="1267620">in</span> <span m="1267680">an</span> <span m="1267780">AVL</span> <span m="1268500">is</span> <span m="1268680">in</span> <span m="1268790">Rebalance.</span> </p>
<p><span m="1271200">The</span> <span m="1271350">first</span> <span m="1271670">thing</span> <span m="1271810">that</span> <span m="1271990">Rebalance</span> <span m="1272550">does,</span> <span m="1273040">if</span> <span m="1273190">you</span> <span m="1273300">see,</span> <span m="1273650">it</span> <span m="1273800">has</span> <span m="1273970">a</span> <span m="1274050">while</span> <span m="1274240">loop</span> <span m="1274500">there,</span> <span m="1275200">and</span> <span m="1275370">the</span> <span m="1275460">first</span> <span m="1275720">thing</span> <span m="1275890">that</span> <span m="1276110">it</span> <span m="1276210">does</span> <span m="1276410">in</span> <span m="1276520">the</span> <span m="1276630">while</span> <span m="1276850">loop</span> <span m="1277040">is</span> <span m="1277190">it</span> <span m="1277530">updates</span> <span m="1277760">the</span> <span m="1277850">height,</span> <span m="1279430">and</span> <span m="1279610">this</span> <span m="1279790">is</span> <span m="1279920">why.</span> <span m="1280150">The</span> <span m="1280280">height</span> <span m="1280520">might</span> <span m="1280700">have</span> <span m="1280830">changed</span> <span m="1281150">after</span> <span m="1281410">the</span> <span m="1281550">insert,</span> <span m="1282540">so</span> <span m="1282880">any</span> <span m="1283070">decision</span> <span m="1283540">based</span> <span m="1284000">on</span> <span m="1284200">the</span> <span m="1284310">old</span> <span m="1284500">height</span> <span m="1284760">is</span> <span m="1284910">bad.</span> <span m="1288530">That's</span> <span m="1288750">why</span> <span m="1288850">we</span> <span m="1288970">have</span> <span m="1289180">that</span> <span m="1289370">there.</span> <span m="1292900">Make</span> <span m="1293120">sense</span> <span m="1293290">so</span> <span m="1293400">far?</span> </p>
<p><span m="1298610">So</span> <span m="1298890">if</span> <span m="1299020">you</span> <span m="1299110">look</span> <span m="1299300">at</span> <span m="1299410">rebalance,</span> <span m="1300830">don't</span> <span m="1301250">try</span> <span m="1301700">to</span> <span m="1301790">understand</span> <span m="1302300">it</span> <span m="1302440">quite</span> <span m="1302680">yet,</span> <span m="1302970">but</span> <span m="1303670">what</span> <span m="1303900">it</span> <span m="1304000">does</span> <span m="1304240">is</span> <span m="1304390">it</span> <span m="1304530">calls</span> <span m="1304970">Rotate</span> <span m="1305470">Left</span> <span m="1305940">and</span> <span m="1306230">Rotate</span> <span m="1306640">Right.</span> <span m="1307380">Well,</span> <span m="1307700">Left</span> <span m="1307980">Rotate,</span> <span m="1308320">Right</span> <span m="1308480">Rotate.</span> <span m="1311190">All</span> <span m="1311410">the</span> <span m="1311490">magic</span> <span m="1311870">is</span> <span m="1312000">in</span> <span m="1312090">Rebalance,</span> <span m="1312760">and</span> <span m="1312900">the</span> <span m="1313020">tools</span> <span m="1313290">that</span> <span m="1313490">it</span> <span m="1313600">uses</span> <span m="1313980">are</span> <span m="1314140">Left</span> <span m="1314390">Rotate</span> <span m="1314790">and Right</span> <span m="1315270">Rotate.</span> <span m="1316930">Now,</span> <span m="1317080">I'm</span> <span m="1317240">going</span> <span m="1317470">to</span> <span m="1317580">show</span> <span m="1317850">you</span> <span m="1318000">what</span> <span m="1318285">a</span> <span m="1318780">rotation</span> <span m="1319280">is</span> <span m="1319380">supposed</span> <span m="1319800">to</span> <span m="1319900">do</span> <span m="1320850">in--</span> <span m="1326290">and</span> <span m="1327760">the</span> <span m="1327910">children</span> <span m="1328340">of</span> <span m="1328450">these</span> <span m="1328680">nodes</span> <span m="1329140">are</span> <span m="1331800">a,</span> <span m="1333222">b,</span> <span m="1334644">c,</span> <span m="1336066">d.</span> <span m="1336950">Also,</span> <span m="1337240">this node</span> <span m="1337550">is</span> <span m="1337860">hanging</span> <span m="1338290">off</span> <span m="1338470">of</span> <span m="1339020">something</span> <span m="1339550">here,</span> <span m="1341210">e.</span> </p>
<p><span m="1343860">If</span> <span m="1344010">I</span> <span m="1344080">want</span> <span m="1344290">to</span> <span m="1344390">do</span> <span m="1344490">a</span> <span m="1344730">Right</span> <span m="1344970">Rotate</span> <span m="1345790">here,</span> <span m="1346630">so</span> <span m="1346790">if</span> <span m="1346940">I</span> <span m="1346990">want</span> <span m="1347200">to</span> <span m="1347300">rotate</span> <span m="1347555">the</span> <span m="1347810">tree</span> <span m="1348140">like</span> <span m="1348420">this,</span> <span m="1351850">then</span> <span m="1352390">after</span> <span m="1352790">rotating,</span> <span m="1353360">it's</span> <span m="1353530">going</span> <span m="1353770">to</span> <span m="1353890">look</span> <span m="1354120">like</span> <span m="1354330">this.</span> <span m="1371860">So</span> <span m="1372030">notice</span> <span m="1372490">that</span> <span m="1374410">c</span> <span m="1374770">got</span> <span m="1375050">moved</span> <span m="1375470">from</span> <span m="1376030">B</span> <span m="1376220">to</span> <span m="1376330">A,</span> <span m="1376710">but</span> <span m="1376890">it</span> <span m="1377030">got</span> <span m="1377240">moved</span> <span m="1377530">in</span> <span m="1377630">such</span> <span m="1377910">a</span> <span m="1377970">way</span> <span m="1378100">that</span> <span m="1378320">the</span> <span m="1378400">whole</span> <span m="1378640">thing</span> <span m="1378850">is</span> <span m="1378930">still</span> <span m="1379170">a</span> <span m="1379250">BST.</span> <span m="1380320">These</span> <span m="1380600">guys</span> <span m="1380830">show</span> <span m="1381000">up</span> <span m="1381160">in</span> <span m="1381270">the</span> <span m="1381380">same</span> <span m="1381650">order</span> <span m="1382180">as</span> <span m="1382490">children,</span> <span m="1383050">and</span> <span m="1383550">these</span> <span m="1383800">guys</span> <span m="1384070">show up</span> <span m="1384430">in the</span> <span m="1384540">same</span> <span m="1384800">order,</span> <span m="1385700">so</span> <span m="1385790">search</span> <span m="1386100">will</span> <span m="1386240">still</span> <span m="1386490">work.</span> <span m="1388760">This</span> <span m="1388940">is</span> <span m="1389070">how</span> <span m="1389160">it's</span> <span m="1389290">supposed</span> <span m="1389620">to</span> <span m="1389700">look</span> <span m="1389870">like</span> <span m="1390040">as</span> <span m="1390190">a</span> <span m="1390260">picture.</span> <span m="1390570">Let's</span> <span m="1390740">try</span> <span m="1390870">to</span> <span m="1391020">write</span> <span m="1391210">the</span> <span m="1391490">pseudocode</span> <span m="1391980">for</span> <span m="1392900">achieving</span> <span m="1393370">this.</span> </p>
<p><span m="1397450">AUDIENCE: First,</span> <span m="1397910">you</span> <span m="1398030">identify</span> <span m="1398345">the</span> <span m="1398660">parent node.</span> <span m="1401160">Step</span> <span m="1401660">one.</span> </p>
<p><span m="1403935">PROFESSOR: Well,</span> <span m="1404210">let's say</span> <span m="1404650">we have</span> <span m="1405067">it.</span> </p>
<p><span m="1406320">AUDIENCE: I mean</span> <span m="1406700">from B.</span> <span m="1407480">You</span> <span m="1407870">say,</span> <span m="1408260">A</span> <span m="1408560">is</span> <span m="1408850">my</span> <span m="1409240">parent.</span> <span m="1409790">That's</span> <span m="1410060">now</span> <span m="1410510">going to</span> <span m="1410960">become</span> <span m="1411410">my right</span> <span m="1411810">child.</span> </p>
<p><span m="1412730">PROFESSOR: OK.</span> <span m="1418060">So</span> <span m="1419050">what</span> <span m="1419260">do you</span> <span m="1419400">want</span> <span m="1419530">to</span> <span m="1419600">change?</span> <span m="1420740">By</span> <span m="1420890">the</span> <span m="1421000">way,</span> <span m="1421120">this</span> <span m="1421310">whole</span> <span m="1421470">thing</span> <span m="1421610">has</span> <span m="1421760">to</span> <span m="1421830">happen</span> <span m="1422080">in</span> <span m="1422170">constant</span> <span m="1422650">time,</span> <span m="1424400">so</span> <span m="1424720">we're</span> <span m="1424860">not</span> <span m="1425130">allowed</span> <span m="1425400">to</span> <span m="1425590">go</span> <span m="1425840">anywhere</span> <span m="1426230">inside</span> <span m="1426570">here,</span> <span m="1426960">here,</span> <span m="1427150">here,</span> <span m="1427470">or</span> <span m="1427510">here.</span> <span m="1428400">We're</span> <span m="1428550">allowed</span> <span m="1428770">to</span> <span m="1428880">change</span> <span m="1429150">these</span> <span m="1429400">links,</span> <span m="1429870">but</span> <span m="1429980">if</span> <span m="1430110">you</span> <span m="1430200">go</span> <span m="1430390">inside</span> <span m="1430940">and</span> <span m="1431130">try</span> <span m="1431370">to do</span> <span m="1431510">more</span> <span m="1431700">complicated</span> <span m="1432015">restructuring,</span> <span m="1433280">that's</span> <span m="1433500">going</span> <span m="1433640">to</span> <span m="1433710">block</span> <span m="1434020">the</span> <span m="1434100">running</span> <span m="1434390">time.</span> <span m="1435450">We're</span> <span m="1435630">only</span> <span m="1435840">allowed</span> <span m="1436100">to</span> <span m="1436190">change</span> <span m="1436470">the</span> <span m="1436630">links</span> <span m="1436880">that</span> <span m="1437050">you</span> <span m="1437140">see</span> <span m="1437290">on</span> <span m="1437390">the</span> <span m="1437470">board.</span> </p>
<p><span m="1438570">AUDIENCE: I know</span> <span m="1438965">in the</span> <span m="1439360">BST,</span> <span m="1440970">not</span> <span m="1441240">BST</span> <span m="1441390">node</span> <span m="1441690">but</span> <span m="1441990">BST,</span> <span m="1443110">the</span> <span m="1443400">delete,</span> <span m="1444150">if</span> <span m="1444610">you're</span> <span m="1444990">deleting</span> <span m="1445370">the</span> <span m="1445750">root,</span> <span m="1446130">they</span> <span m="1446530">make</span> <span m="1446720">up the</span> <span m="1447130">pseudoroot.</span> </p>
<p><span m="1448050">PROFESSOR: Let's</span> <span m="1448220">not</span> <span m="1448370">worry</span> <span m="1448560">about</span> <span m="1448780">it.</span> <span m="1450440">So</span> <span m="1450810">Delete</span> <span m="1450960">already</span> <span m="1451290">did</span> <span m="1451460">that</span> <span m="1451650">magic</span> <span m="1451970">for</span> <span m="1452140">you,</span> <span m="1452250">right?</span> <span m="1452970">So</span> <span m="1453170">the</span> <span m="1453390">pseudoroot</span> <span m="1453880">would</span> <span m="1454030">be</span> <span m="1454160">here,</span> <span m="1455120">so</span> <span m="1455250">this</span> <span m="1455490">node</span> <span m="1455700">has</span> <span m="1455950">a</span> <span m="1456060">root.</span> <span m="1456270">We're</span> <span m="1456400">happy.</span> </p>
<p><span m="1456720">AUDIENCE: That's</span> <span m="1457170">not what</span> <span m="1457620">I'm talking</span> <span m="1458070">about.</span> <span m="1458520">I'm saying that</span> <span m="1458710">you could</span> <span m="1458960">do the same with B</span> <span m="1459450">because</span> <span m="1461570">you're</span> <span m="1461720">going to</span> <span m="1462170">have to</span> <span m="1462445">break</span> <span m="1462720">a</span> <span m="1463110">link</span> <span m="1463460">with</span> <span m="1463810">lowercase</span> <span m="1464160">c</span> <span m="1464500">onto</span> <span m="1464640">B</span> <span m="1465100">in</span> <span m="1465360">order</span> <span m="1465620">to</span> <span m="1465960">flip</span> <span m="1466210">it.</span> <span m="1468520">So</span> <span m="1468970">I'm</span> <span m="1469070">saying</span> <span m="1469380">you could</span> <span m="1469690">have</span> <span m="1470100">a</span> <span m="1470470">placer,</span> <span m="1471240">some sort</span> <span m="1471620">of</span> <span m="1472010">place</span> <span m="1472510">to</span> <span m="1472950">put</span> <span m="1473353">it</span> <span m="1474160">so</span> <span m="1474320">you</span> <span m="1474390">don't</span> <span m="1474580">lose</span> <span m="1475010">it.</span> </p>
<p><span m="1475870">PROFESSOR: OK.</span> <span m="1476190">Let's</span> <span m="1476810">see</span> <span m="1477530">if we</span> <span m="1477790">do</span> <span m="1477940">that.</span> </p>
<p><span m="1480330">AUDIENCE: The</span> <span m="1481010">new</span> <span m="1481720">right</span> <span m="1482080">child</span> <span m="1482300">of B</span> <span m="1482520">will</span> <span m="1482980">be</span> <span m="1483320">A,</span> <span m="1484650">and</span> <span m="1485055">the</span> <span m="1485460">new</span> <span m="1486120">left</span> <span m="1486550">child</span> <span m="1486880">of</span> <span m="1487210">A</span> <span m="1487670">will be</span> <span m="1488035">C,</span> <span m="1488950">and</span> <span m="1489420">the</span> <span m="1489800">new</span> <span m="1490180">parent</span> <span m="1490510">of c</span> <span m="1490840">is</span> <span m="1491290">A.</span> </p>
<p><span m="1491750">PROFESSOR: OK,</span> <span m="1492000">let's</span> <span m="1492220">move</span> <span m="1492390">slower.</span> <span m="1494145">I</span> <span m="1494470">have to</span> <span m="1494860">write them</span> <span m="1495210">down.</span> <span m="1495660">So the new</span> <span m="1496090">right</span> <span m="1496410">child</span> <span m="1496750">of</span> <span m="1496890">B</span> <span m="1497340">is?</span> </p>
<p><span m="1499131">AUDIENCE: Is</span> <span m="1499598">A.</span> <span m="1502870">Also,</span> <span m="1503160">you</span> <span m="1503400">probably</span> <span m="1503690">should do</span> <span m="1503810">temp</span> <span m="1504220">variables to</span> <span m="1504630">store them.</span> </p>
<p><span m="1505645">AUDIENCE: I don't think</span> <span m="1506130">you have</span> <span m="1506615">to.</span> <span m="1507100">You</span> <span m="1507360">can</span> <span m="1507710">just</span> <span m="1508730">swap</span> <span m="1509045">the</span> <span m="1510580">one</span> <span m="1510740">connection</span> <span m="1511100">and swap</span> <span m="1511460">the</span> <span m="1511946">other.</span> </p>
<p><span m="1515460">PROFESSOR: Let's</span> <span m="1515760">do it</span> <span m="1515970">without</span> <span m="1516240">worrying</span> <span m="1516500">about</span> <span m="1516810">temps,</span> <span m="1517230">and</span> <span m="1517350">then</span> <span m="1517460">we</span> <span m="1517560">can</span> <span m="1517690">figure</span> <span m="1517910">out</span> <span m="1518090">temps</span> <span m="1518160">later.</span> <span m="1519150">So</span> <span m="1519540">B's</span> <span m="1519820">right</span> <span m="1520080">becomes</span> <span m="1520470">A.</span> <span m="1522450">So</span> <span m="1524700">it's</span> <span m="1524860">going</span> <span m="1525020">to</span> <span m="1525090">be</span> <span m="1525240">like</span> <span m="1525560">this.</span> <span m="1531000">Let</span> <span m="1531430">me</span> <span m="1531600">erase</span> <span m="1531780">this confusing</span> <span m="1531910">error.</span> </p>
<p><span m="1536560">AUDIENCE: And</span> <span m="1536870">A's</span> <span m="1537420">left</span> <span m="1537710">child</span> <span m="1538090">is</span> <span m="1538530">c.</span> </p>
<p><span m="1545420">PROFESSOR: A's</span> <span m="1545730">left</span> <span m="1546000">child</span> <span m="1550450">is</span> <span m="1551170">c.</span> <span m="1552250">OK.</span> </p>
<p><span m="1554150">AUDIENCE: C's</span> <span m="1554400">parent</span> <span m="1554580">is</span> <span m="1555000">A.</span> </p>
<p><span m="1556790">PROFESSOR: C's</span> <span m="1556960">parent</span> <span m="1558990">is</span> <span m="1559260">A.</span> <span m="1562280">OK,</span> <span m="1562540">very</span> <span m="1562780">good.</span> <span m="1562980">So</span> <span m="1563060">I</span> <span m="1563170">changed</span> <span m="1563490">the</span> <span m="1563630">child,</span> <span m="1563900">then I changed</span> <span m="1564170">the</span> <span m="1564270">parent</span> <span m="1565280">so</span> <span m="1565380">that</span> <span m="1565590">they</span> <span m="1565690">would</span> <span m="1565860">match</span> <span m="1566110">up.</span> <span m="1570160">So</span> <span m="1570420">if</span> <span m="1570680">B's</span> <span m="1571040">right</span> <span m="1571320">is</span> <span m="1571420">A,</span> <span m="1571680">then</span> <span m="1571820">what</span> <span m="1572050">should</span> <span m="1572240">I</span> <span m="1572300">do</span> <span m="1572560">with--</span> </p>
<p><span m="1573285">AUDIENCE: A's</span> <span m="1573780">parent</span> <span m="1574275">is B.</span> </p>
<p><span m="1579350">PROFESSOR: Always</span> <span m="1579710">do</span> <span m="1579860">them</span> <span m="1580040">in</span> <span m="1580180">pairs</span> <span m="1580680">so</span> <span m="1580800">you</span> <span m="1580910">don't</span> <span m="1582130">lose</span> <span m="1582390">track</span> <span m="1582660">of</span> <span m="1583060">them.</span> <span m="1583790">And?</span> </p>
<p><span m="1584516">AUDIENCE: B's parent is</span> <span m="1584982">e</span> <span m="1585448">and</span> <span m="1585914">e's</span> <span m="1586380">subchild is</span> <span m="1586846">B.</span> </p>
<p><span m="1590140">PROFESSOR: Sorry.</span> <span m="1590300">B's</span> <span m="1590510">parent</span> <span m="1590730">is</span> <span m="1591010">e,</span> <span m="1591290">right?</span> </p>
<p><span m="1592831">AUDIENCE: Yeah.</span> </p>
<p><span m="1596492">PROFESSOR: So B's</span> <span m="1596960">parent</span> <span m="1597300">is</span> <span m="1597600">e,</span> <span m="1597900">and--</span> </p>
<p><span m="1600170">AUDIENCE: e's</span> <span m="1600650">left.</span> </p>
<p><span m="1602090">PROFESSOR: Child</span> <span m="1602560">is--</span> </p>
<p><span m="1603470">AUDIENCE: B.</span> </p>
<p><span m="1604390">PROFESSOR: Because</span> <span m="1604710">I</span> <span m="1604890">drew it</span> <span m="1605160">like</span> <span m="1605340">this,</span> <span m="1605660">right?</span> <span m="1606796">But</span> <span m="1607200">if I</span> <span m="1607460">drew</span> <span m="1607860">it like</span> <span m="1608260">this?</span> </p>
<p><span m="1609940">AUDIENCE: e's--</span> </p>
<p><span m="1612150">PROFESSOR: It</span> <span m="1612390">would</span> <span m="1612420">have</span> <span m="1612550">to</span> <span m="1612640">be</span> <span m="1612760">the</span> <span m="1612870">right</span> <span m="1613610">child,</span> <span m="1614330">so</span> <span m="1614470">we</span> <span m="1614560">have</span> <span m="1614710">to</span> <span m="1614830">look</span> <span m="1615100">at</span> <span m="1615210">both</span> <span m="1615440">cases.</span> </p>
<p><span m="1617931">AUDIENCE: If</span> <span m="1618418">B is</span> <span m="1618905">greater</span> <span m="1619392">than e,</span> <span m="1619879">then it</span> <span m="1620366">would be</span> <span m="1620853">right</span> <span m="1621340">child,</span> <span m="1621827">and</span> <span m="1622314">if B</span> <span m="1622801">is</span> <span m="1623288">less</span> <span m="1623775">than</span> <span m="1624262">e,</span> <span m="1624749">it would be</span> <span m="1625236">left</span> <span m="1625723">child.</span> </p>
<p><span m="1626210">PROFESSOR: OK.</span> <span m="1626560">So</span> <span m="1627030">if B</span> <span m="1627360">is</span> <span m="1627540">greater</span> <span m="1627860">than</span> <span m="1628290">e,</span> <span m="1628680">then</span> <span m="1629590">e's</span> <span m="1636164">right</span> <span m="1636650">is</span> <span m="1636940">B.</span> <span m="1638540">Otherwise,</span> <span m="1640800">e's</span> <span m="1641140">left</span> <span m="1641500">is</span> <span m="1641820">B,</span> <span m="1642870">right?</span> <span m="1643680">Now,</span> <span m="1643830">suppose</span> <span m="1644210">comparisons</span> <span m="1644545">are</span> <span m="1645000">expensive</span> <span m="1645540">and</span> <span m="1645650">they</span> <span m="1645780">don't want</span> <span m="1646060">to</span> <span m="1646140">do a</span> <span m="1646300">comparison</span> <span m="1646920">to</span> <span m="1647040">find</span> <span m="1647300">this</span> <span m="1647500">out.</span> <span m="1648170">I</span> <span m="1648330">want to</span> <span m="1648400">play</span> <span m="1648560">with</span> <span m="1648710">the</span> <span m="1648790">tree</span> <span m="1649040">instead.</span> <span m="1649410">What</span> <span m="1649670">do I</span> <span m="1649740">do?</span> </p>
<p><span m="1657372">AUDIENCE: Can</span> <span m="1657860">you</span> <span m="1658120">see</span> <span m="1658370">which one</span> <span m="1658650">A</span> <span m="1659030">was</span> <span m="1659470">before</span> <span m="1659960">that?</span> </p>
<p><span m="1661880">PROFESSOR: Yep.</span> </p>
<p><span m="1663670">AUDIENCE: If A</span> <span m="1663945">used to</span> <span m="1664220">be the</span> <span m="1664640">right</span> <span m="1665090">child,</span> <span m="1665885">now</span> <span m="1666290">B is</span> <span m="1666695">the right child.</span> </p>
<p><span m="1667100">PROFESSOR: Yeah.</span> <span m="1667410">I</span> <span m="1667510">haven't</span> <span m="1667820">changed</span> <span m="1668890">the</span> <span m="1669000">child</span> <span m="1669350">yet,</span> <span m="1669470">so I</span> <span m="1669910">can</span> <span m="1670070">do that.</span> </p>
<p><span m="1671150">AUDIENCE: That's still</span> <span m="1671640">a</span> <span m="1672130">comparison</span> <span m="1672620">though,</span> <span m="1673110">right?</span> </p>
<p><span m="1674580">PROFESSOR: But</span> <span m="1674740">now</span> <span m="1674930">I'm doing</span> <span m="1675130">a</span> <span m="1675340">pointer</span> <span m="1675880">comparison</span> <span m="1676245">and</span> <span m="1676610">not</span> <span m="1676730">a</span> <span m="1676840">key</span> <span m="1677020">comparison.</span> </p>
<p><span m="1679510">AUDIENCE: If</span> <span m="1679970">e.r</span> <span m="1680430">is</span> <span m="1680890">A,</span> <span m="1681350">then--</span> </p>
<p><span m="1682270">PROFESSOR: If</span> <span m="1682740">e.right</span> <span m="1683280">is</span> <span m="1686470">A,</span> <span m="1686835">then</span> <span m="1687200">it</span> <span m="1687480">becomes</span> <span m="1687890">B.</span> <span m="1688040">Otherwise.</span> <span m="1691060">OK,</span> <span m="1691520">this</span> <span m="1692210">looks</span> <span m="1692430">good.</span> <span m="1693710">So</span> <span m="1693760">there's</span> <span m="1694050">the issue</span> <span m="1694490">of temp</span> <span m="1694730">variables</span> <span m="1695290">and</span> <span m="1695660">assigning</span> <span m="1696030">these</span> <span m="1696340">in</span> <span m="1696450">the</span> <span m="1696560">right</span> <span m="1696820">order</span> <span m="1697200">so</span> <span m="1697220">you</span> <span m="1697290">don't</span> <span m="1697510">have</span> <span m="1697690">too</span> <span m="1697840">many</span> <span m="1698110">temp</span> <span m="1698310">variables</span> <span m="1698760">and too</span> <span m="1699010">many</span> <span m="1699230">lines</span> <span m="1699480">of</span> <span m="1699620">code,</span> <span m="1700580">and</span> <span m="1700920">the</span> <span m="1701010">Python</span> <span m="1701380">code</span> <span m="1701610">in</span> <span m="1701680">the</span> <span m="1701750">handout</span> <span m="1702310">takes</span> <span m="1702560">care</span> <span m="1702740">of</span> <span m="1702820">that.</span> <span m="1703650">But</span> <span m="1703950">this</span> <span m="1704130">is</span> <span m="1704280">the</span> <span m="1704390">logic</span> <span m="1704790">that</span> <span m="1705030">you</span> <span m="1705110">want.</span> <span m="1705380">So</span> <span m="1705540">if</span> <span m="1705670">you</span> <span m="1705780">have</span> <span m="1705980">to</span> <span m="1706090">write</span> <span m="1706260">it</span> <span m="1706410">from</span> <span m="1706590">scratch,</span> <span m="1708890">you</span> <span m="1709000">don't</span> <span m="1709170">have</span> <span m="1709290">to</span> <span m="1709390">memorize</span> <span m="1709830">that.</span> <span m="1710270">Remember</span> <span m="1710720">that</span> <span m="1710920">you</span> <span m="1711020">want</span> <span m="1711170">to</span> <span m="1711220">get</span> <span m="1711460">from</span> <span m="1711680">here</span> <span m="1711970">to</span> <span m="1712080">here,</span> <span m="1712760">and do</span> <span m="1712990">exactly</span> <span m="1713440">the</span> <span m="1713590">thought</span> <span m="1713830">process</span> <span m="1714180">that</span> <span m="1714370">we</span> <span m="1714470">have</span> <span m="1714830">here.</span> <span m="1717210">What</span> <span m="1717380">if</span> <span m="1717540">I</span> <span m="1717670">want</span> <span m="1718060">to</span> <span m="1718210">do</span> <span m="1720815">a</span> <span m="1721300">left</span> <span m="1721510">rotation</span> <span m="1721940">instead</span> <span m="1722060">of</span> <span m="1722150">a</span> <span m="1722380">right</span> <span m="1722620">rotation?</span> </p>
<p><span m="1725450">AUDIENCE: You</span> <span m="1725920">just have</span> <span m="1726410">to change</span> <span m="1726690">the r's</span> <span m="1726970">to</span> <span m="1727340">l's.</span> </p>
<p><span m="1729330">PROFESSOR: Very</span> <span m="1729650">good.</span> <span m="1730010">Copy,</span> <span m="1730580">paste.</span> <span m="1731090">Swap</span> <span m="1731395">l's</span> <span m="1731700">and</span> <span m="1731970">r's</span> <span m="1732420">and</span> <span m="1732460">we're</span> <span m="1732540">done.</span> <span m="1737060">Why</span> <span m="1737280">do</span> <span m="1737420">we</span> <span m="1737520">need</span> <span m="1737690">rotations?</span> </p>
<p><span m="1743005">AUDIENCE: To</span> <span m="1743500">rebalance</span> <span m="1744000">stuff.</span> </p>
<p><span m="1744110">PROFESSOR: To</span> <span m="1744250">rebalance</span> <span m="1744640">stuff.</span> <span m="1745200">OK.</span> <span m="1745300">Why</span> <span m="1745690">do</span> <span m="1745910">we</span> <span m="1746220">rebalance</span> <span m="1746620">stuff?</span> </p>
<p><span m="1748069">AUDIENCE: Because</span> <span m="1748552">you don't</span> <span m="1749035">want your</span> <span m="1749518">code</span> <span m="1750001">to crash</span> <span m="1750490">when you</span> <span m="1750900">add</span> <span m="1751140">nodes</span> <span m="1751550">that are</span> <span m="1751855">sequentially</span> <span m="1752160">larger,</span> <span m="1752635">and</span> <span m="1753030">then</span> <span m="1753320">you try</span> <span m="1753610">to</span> <span m="1753720">find</span> <span m="1754050">something,</span> <span m="1754480">and then</span> <span m="1754910">it</span> <span m="1755160">crashes.</span> </p>
<p><span m="1756370">PROFESSOR: OK.</span> <span m="1756625">Why would</span> <span m="1756880">it</span> <span m="1757180">crash?</span> </p>
<p><span m="1758152">AUDIENCE: Because</span> <span m="1758490">the</span> <span m="1758860">recursion depth</span> <span m="1759283">is</span> <span m="1759706">exceeded</span> <span m="1760130">because</span> <span m="1760490">you're</span> <span m="1761080">going</span> <span m="1761440">down the</span> <span m="1761765">line</span> <span m="1762090">trying to</span> <span m="1762370">find</span> <span m="1762710">something,</span> <span m="1763040">and you</span> <span m="1763370">go down</span> <span m="1763625">too</span> <span m="1763880">far.</span> </p>
<p><span m="1764770">PROFESSOR: OK.</span> <span m="1765100">So</span> <span m="1765340">pretending</span> <span m="1765860">we</span> <span m="1765990">don't</span> <span m="1766240">have</span> <span m="1766400">a</span> <span m="1766460">recursion</span> <span m="1767010">depth</span> <span m="1767290">issue,</span> <span m="1767650">then</span> <span m="1768330">it's</span> <span m="1768500">going</span> <span m="1768720">to</span> <span m="1768830">be</span> <span m="1768960">slow.</span> <span m="1770670">So</span> <span m="1771010">you</span> <span m="1771130">start</span> <span m="1771430">from</span> <span m="1771620">a</span> <span m="1771670">nice</span> <span m="1771920">AVL,</span> <span m="1772250">and</span> <span m="1773020">if</span> <span m="1773140">you</span> <span m="1773240">don't</span> <span m="1773410">rebalance,</span> <span m="1773990">you</span> <span m="1774080">get</span> <span m="1774370">to</span> <span m="1774470">a</span> <span m="1774870">BST</span> <span m="1775280">that's</span> <span m="1775500">slow,</span> <span m="1775982">slow,</span> <span m="1776464">slow,</span> <span m="1777430">and</span> <span m="1777670">then</span> <span m="1777800">you'll</span> <span m="1777960">fail</span> <span m="1778220">our</span> <span m="1778340">tests</span> <span m="1778710">and</span> <span m="1779080">still</span> <span m="1779340">get</span> <span m="1779490">a</span> <span m="1779530">0.</span> <span m="1780510">Yes?</span> </p>
<p><span m="1780740">AUDIENCE: But</span> <span m="1782644">if you</span> <span m="1783120">just had</span> <span m="1783540">a</span> <span m="1785550">carrot-like</span> <span m="1786460">tree,</span> <span m="1787560">or</span> <span m="1787750">if</span> <span m="1787810">you</span> <span m="1787920">added,</span> <span m="1788180">for instance,</span> <span m="1788400">4,</span> <span m="1789270">and then</span> <span m="1789760">you</span> <span m="1789870">added in</span> <span m="1790190">5,</span> <span m="1790470">and then</span> <span m="1790960">you</span> <span m="1791190">added</span> <span m="1791630">in</span> <span m="1791885">3,</span> <span m="1792140">and then</span> <span m="1792400">you added</span> <span m="1792660">in 6,</span> <span m="1792960">and then</span> <span m="1793260">you</span> <span m="1793650">added in</span> <span m="1793840">2,</span> <span m="1794400">you'd</span> <span m="1794560">just</span> <span m="1794690">get</span> <span m="1795310">a</span> <span m="1795800">carrot.</span> <span m="1797300">So</span> <span m="1797570">then</span> <span m="1798980">I</span> <span m="1799110">feel</span> <span m="1799220">like</span> <span m="1799710">AVL</span> <span m="1800000">wouldn't</span> <span m="1800210">cover</span> <span m="1800830">that</span> <span m="1801170">case.</span> </p>
<p><span m="1802930">PROFESSOR: Let's</span> <span m="1803830">do</span> <span m="1804270">them</span> <span m="1804460">in</span> <span m="1804670">sequence.</span> <span m="1809500">So</span> <span m="1810796">what</span> <span m="1811160">are</span> <span m="1811440">we</span> <span m="1811580">inserting?</span> <span m="1812060">So you</span> <span m="1812260">said</span> <span m="1812480">4.</span> </p>
<p><span m="1812630">AUDIENCE: So you</span> <span m="1813010">start with</span> <span m="1813390">4,</span> <span m="1814150">and then</span> <span m="1814360">you</span> <span m="1814530">insert</span> <span m="1814805">5,</span> <span m="1815450">then</span> <span m="1816380">you</span> <span m="1816550">insert</span> <span m="1816920">3.</span> </p>
<p><span m="1818760">PROFESSOR: Let's</span> <span m="1818980">see.</span> <span m="1819700">4,</span> <span m="1820100">3.</span> </p>
<p><span m="1821402">AUDIENCE: Then</span> <span m="1821880">you</span> <span m="1821980">insert</span> <span m="1822270">6,</span> <span m="1824680">then you</span> <span m="1824830">insert</span> <span m="1825150">2,</span> <span m="1828530">then you</span> <span m="1829015">insert</span> <span m="1829500">7,</span> <span m="1833380">and</span> <span m="1833520">then</span> <span m="1833620">1.</span> </p>
<p><span m="1834170">AUDIENCE: You've</span> <span m="1834340">got to</span> <span m="1834595">rotate</span> <span m="1834850">that.</span> </p>
<p><span m="1835650">AUDIENCE: Well,</span> <span m="1836010">the</span> <span m="1836270">thing</span> <span m="1836540">is--</span> </p>
<p><span m="1836970">PROFESSOR: Well,</span> <span m="1837190">is</span> <span m="1837350">this an</span> <span m="1837450">AVL?</span> </p>
<p><span m="1838515">PROFESSOR: Well,</span> <span m="1838900">it's</span> <span m="1839670">balanced.</span> </p>
<p><span m="1840470">PROFESSOR: Is</span> <span m="1840630">it?</span> </p>
<p><span m="1840740">AUDIENCE: No,</span> <span m="1841050">it's not.</span> <span m="1842454">5</span> <span m="1842922">is unhappy.</span> </p>
<p><span m="1846200">AUDIENCE: That</span> <span m="1846470">height</span> <span m="1846800">of the</span> <span m="1847240">tree</span> <span m="1847680">is</span> <span m="1848190">only</span> <span m="1848720">one</span> <span m="1849140">greater</span> <span m="1849480">than</span> <span m="1849650">the other</span> <span m="1850055">height.</span> </p>
<p><span m="1851270">PROFESSOR: So</span> <span m="1851580">the height</span> <span m="1851780">here is</span> <span m="1852220">1.</span> <span m="1853015">What's</span> <span m="1853410">the</span> <span m="1853670">height</span> <span m="1853910">here?</span> <span m="1856540">There's</span> <span m="1856750">nothing</span> <span m="1857060">here,</span> <span m="1857320">so</span> <span m="1857520">the height</span> <span m="1857880">is</span> <span m="1858060">minus</span> <span m="1858190">1.</span> </p>
<p><span m="1862200">AUDIENCE: I mean,</span> <span m="1862490">but</span> <span m="1862870">the</span> <span m="1863140">other</span> <span m="1863980">side</span> <span m="1864370">of the</span> <span m="1864850">tree.</span> </p>
<p><span m="1866060">PROFESSOR: So</span> <span m="1866360">if</span> <span m="1866500">you're</span> <span m="1866610">looking</span> <span m="1866800">at</span> <span m="1866990">this</span> <span m="1867590">guy,</span> <span m="1868820">things</span> <span m="1869020">look</span> <span m="1869210">balanced,</span> <span m="1869620">but</span> <span m="1870210">in</span> <span m="1870340">an</span> <span m="1870470">AVL,</span> <span m="1871510">this</span> <span m="1871760">has</span> <span m="1871990">to</span> <span m="1872070">hold</span> <span m="1872450">for</span> <span m="1872750">every</span> <span m="1873080">node.</span> <span m="1874830">If</span> <span m="1875000">there's</span> <span m="1875230">one node</span> <span m="1875640">where</span> <span m="1875860">the</span> <span m="1875980">heights</span> <span m="1876230">are</span> <span m="1876430">unbalanced,</span> <span m="1876780">the whole thing</span> <span m="1877240">is</span> <span m="1877340">unbalanced.</span> <span m="1878550">Otherwise,</span> <span m="1878970">the</span> <span m="1879070">construction</span> <span m="1879355">that</span> <span m="1879640">we</span> <span m="1879720">did</span> <span m="1879950">before</span> <span m="1880350">wouldn't</span> <span m="1880590">make</span> <span m="1880780">sense.</span> </p>
<p><span m="1882106">AUDIENCE: It's all</span> <span m="1882570">[INAUDIBLE]</span> <span m="1882995">within</span> <span m="1883420">the</span> <span m="1883870">[INAUDIBLE].</span> </p>
<p><span m="1884320">PROFESSOR: Yep.</span> <span m="1885220">So</span> <span m="1885660">now</span> <span m="1885890">that</span> <span m="1886110">we're</span> <span m="1886260">going</span> <span m="1886410">to</span> <span m="1886490">look</span> <span m="1886660">at</span> <span m="1886800">rebalancing,</span> <span m="1887600">which</span> <span m="1887820">is</span> <span m="1887960">the</span> <span m="1888050">magic</span> <span m="1888380">behind</span> <span m="1888710">AVLs,</span> <span m="1889110">we</span> <span m="1889180">have</span> <span m="1889350">to</span> <span m="1889440">make</span> <span m="1889650">sure</span> <span m="1890040">that</span> <span m="1891180">after</span> <span m="1891790">we</span> <span m="1891940">start</span> <span m="1892250">with</span> <span m="1892380">something</span> <span m="1892710">that's</span> <span m="1892920">slightly</span> <span m="1893220">imbalanced,</span> <span m="1894220">when</span> <span m="1894430">we</span> <span m="1894570">rotate</span> <span m="1894940">things</span> <span m="1895160">around,</span> <span m="1895590">we</span> <span m="1895690">have</span> <span m="1895810">to</span> <span m="1895890">make</span> <span m="1896040">sure</span> <span m="1896180">that</span> <span m="1896390">everything</span> <span m="1896870">gets</span> <span m="1897230">balanced at</span> <span m="1897595">the end</span> <span m="1897960">and</span> <span m="1898440">happy,</span> <span m="1898880">so</span> <span m="1899060">that's</span> <span m="1899230">a</span> <span m="1899290">good</span> <span m="1899430">thing</span> <span m="1899580">to</span> <span m="1899690">keep</span> <span m="1899850">in</span> <span m="1899940">mind.</span> <span m="1902390">Good.</span> <span m="1902820">Any</span> <span m="1903010">other</span> <span m="1903250">questions?</span> </p>
<p><span m="1907880">AUDIENCE: Is</span> <span m="1908050">it</span> <span m="1908320">obvious</span> <span m="1908670">that</span> <span m="1909320">you</span> <span m="1909790">can</span> <span m="1910254">put any</span> <span m="1910718">number of</span> <span m="1911182">nodes</span> <span m="1911646">in an</span> <span m="1912110">AVL</span> <span m="1912574">tree?</span> </p>
<p><span m="1913040">PROFESSOR: Point</span> <span m="1913540">any</span> <span m="1913940">number of</span> <span m="1914320">nodes?</span> </p>
<p><span m="1914700">AUDIENCE: Yeah.</span> <span m="1916360">It's</span> <span m="1916560">obvious</span> <span m="1916925">that you</span> <span m="1917290">can do</span> <span m="1917770">one node,</span> <span m="1918070">or</span> <span m="1918551">two nodes</span> <span m="1919032">or three</span> <span m="1919513">nodes,</span> <span m="1920475">but</span> <span m="1920956">is it</span> <span m="1921437">true</span> <span m="1921918">that</span> <span m="1922400">for any</span> <span m="1922650">number</span> <span m="1923640">of</span> <span m="1924090">nodes,</span> <span m="1925020">you</span> <span m="1925200">can</span> <span m="1925490">arrange</span> <span m="1925845">into an</span> <span m="1926200">AVL</span> <span m="1926610">tree?</span> <span m="1927030">Does that</span> <span m="1927315">make</span> <span m="1927600">sense?</span> </p>
<p><span m="1928670">PROFESSOR: Yeah.</span> <span m="1929310">So</span> <span m="1929560">if you</span> <span m="1929710">want</span> <span m="1929960">to</span> <span m="1930110">have</span> <span m="1930430">any</span> <span m="1930620">number</span> <span m="1930910">of</span> <span m="1931000">nodes,</span> <span m="1933030">you</span> <span m="1933260">call</span> <span m="1933690">Insert,</span> <span m="1934380">AVL</span> <span m="1934740">Insert,</span> <span m="1935530">and</span> <span m="1935650">then</span> <span m="1935790">you'll</span> <span m="1935910">get</span> <span m="1936070">an</span> <span m="1936150">AVL.</span> </p>
<p><span m="1936400">AUDIENCE: Right.</span> <span m="1936808">But</span> <span m="1937216">what I'm</span> <span m="1937624">trying</span> <span m="1938032">to</span> <span m="1938440">say</span> <span m="1938610">is,</span> <span m="1938790">is</span> <span m="1938900">it</span> <span m="1939100">possible</span> <span m="1939600">to</span> <span m="1939680">construct</span> <span m="1940090">an</span> <span m="1940300">AVL</span> <span m="1940950">tree</span> <span m="1941370">out</span> <span m="1941590">of</span> <span m="1942550">13</span> <span m="1942890">nodes?</span> </p>
<p><span m="1943230">PROFESSOR: Sure.</span> </p>
<p><span m="1944230">AUDIENCE: Or</span> <span m="1944350">17</span> <span m="1944800">nodes?</span> </p>
<p><span m="1946220">AUDIENCE: Is there</span> <span m="1946580">a limit</span> <span m="1946940">for</span> <span m="1947120">where</span> <span m="1947415">that</span> <span m="1947710">property</span> <span m="1948163">will not</span> <span m="1948616">fit?</span> </p>
<p><span m="1949070">AUDIENCE: Right.</span> <span m="1949830">Is</span> <span m="1950090">there some</span> <span m="1950310">set of</span> <span m="1950710">nodes--</span> </p>
<p><span m="1952045">PROFESSOR: I like</span> <span m="1952310">this</span> <span m="1952490">question.</span> <span m="1952920">I</span> <span m="1953060">like</span> <span m="1953240">this</span> <span m="1953400">question.</span> <span m="1954160">So</span> <span m="1955370">what</span> <span m="1955630">would</span> <span m="1955790">be</span> <span m="1958190">the</span> <span m="1958510">perfect</span> <span m="1958860">binary</span> <span m="1959160">search</span> <span m="1959470">tree?</span> </p>
<p><span m="1962684">AUDIENCE: An</span> <span m="1963178">element</span> <span m="1963672">of log N</span> <span m="1964166">height.</span> </p>
<p><span m="1965160">PROFESSOR: An</span> <span m="1965410">element</span> <span m="1965695">of</span> <span m="1965980">log</span> <span m="1966280">N height</span> <span m="1966540">and</span> <span m="1966800">the</span> <span m="1966920">complete</span> <span m="1967340">tree,</span> <span m="1967660">so</span> <span m="1967870">something</span> <span m="1968280">that</span> <span m="1968430">looks</span> <span m="1968770">like</span> <span m="1973900">this.</span> <span m="1980640">Where</span> <span m="1980830">did</span> <span m="1980980">we</span> <span m="1981100">see</span> <span m="1981290">this</span> <span m="1981500">thing</span> <span m="1981700">before?</span> </p>
<p><span m="1984665">AUDIENCE: In the</span> <span m="1985162">heap.</span> </p>
<p><span m="1986160">PROFESSOR: All</span> <span m="1986230">right.</span> <span m="1986470">So</span> <span m="1986700">a heap</span> <span m="1986930">looks</span> <span m="1987240">exactly</span> <span m="1987730">like</span> <span m="1987940">this,</span> <span m="1988650">except</span> <span m="1988990">the</span> <span m="1989070">values</span> <span m="1989520">inside</span> <span m="1990170">don't</span> <span m="1991450">fulfill</span> <span m="1991900">the</span> <span m="1992030">BST</span> <span m="1992480">requirement.</span> <span m="1993620">Otherwise,</span> <span m="1994000">we'd</span> <span m="1994140">know</span> <span m="1994270">how</span> <span m="1994380">to</span> <span m="1994510">build</span> <span m="1994880">perfect</span> <span m="1995300">BSTs.</span> <span m="1995675">It</span> <span m="1996050">so</span> <span m="1996220">happens</span> <span m="1996540">that</span> <span m="1996720">we</span> <span m="1996840">don't.</span> <span m="1997780">But</span> <span m="1998560">is</span> <span m="1998790">this</span> <span m="1998970">an</span> <span m="1999030">AVL?</span> </p>
<p><span m="2005991">AUDIENCE: Yes.</span> </p>
<p><span m="2011835">AUDIENCE: That</span> <span m="2012322">example</span> <span m="2012809">or in</span> <span m="2013296">general?</span> </p>
<p><span m="2014770">PROFESSOR: Let's</span> <span m="2014940">start</span> <span m="2015130">with</span> <span m="2015310">that</span> <span m="2015370">example.</span> <span m="2015790">Is</span> <span m="2015890">this an</span> <span m="2015980">AVL?</span> </p>
<p><span m="2021290">AUDIENCE: No.</span> <span m="2022360">The</span> <span m="2022690">node</span> <span m="2022860">just</span> <span m="2023200">to the</span> <span m="2023290">left</span> <span m="2023920">of</span> <span m="2024380">the</span> <span m="2024720">root--</span> </p>
<p><span m="2025600">PROFESSOR: This</span> <span m="2025860">guy?</span> </p>
<p><span m="2027250">AUDIENCE: No.</span> <span m="2029130">That one's</span> <span m="2029600">of height</span> <span m="2030070">two,</span> <span m="2030540">so it has</span> <span m="2031010">height one.</span> </p>
<p><span m="2032430">PROFESSOR: This</span> <span m="2032610">is</span> <span m="2032770">beautiful.</span> <span m="2033240">This</span> <span m="2033400">is</span> <span m="2033500">as</span> <span m="2033730">good</span> <span m="2033900">as it</span> <span m="2034395">could  get.</span> <span m="2034890">This</span> <span m="2035050">is</span> <span m="2035160">an</span> <span m="2035340">optimal</span> <span m="2035870">binary</span> <span m="2036290">search</span> <span m="2036610">tree.</span> <span m="2036740">This</span> <span m="2036950">is</span> <span m="2037100">perfect.</span> <span m="2039190">It</span> <span m="2039480">better</span> <span m="2039710">match</span> <span m="2040010">the</span> <span m="2040120">definition</span> <span m="2040610">of</span> <span m="2040730">AVL,</span> <span m="2041100">because</span> <span m="2041410">otherwise,</span> <span m="2041810">it would</span> <span m="2041930">mean</span> <span m="2042050">AVL</span> <span m="2042580">doesn't</span> <span m="2042840">like</span> <span m="2043010">perfect</span> <span m="2043380">trees.</span> </p>
<p><span m="2044270">So</span> <span m="2044450">the</span> <span m="2044590">good</span> <span m="2044730">news</span> <span m="2044940">is</span> <span m="2045100">that</span> <span m="2045550">any</span> <span m="2045830">complete</span> <span m="2046230">tree</span> <span m="2046830">is</span> <span m="2046990">going</span> <span m="2047140">to</span> <span m="2047210">be</span> <span m="2047310">an</span> <span m="2047460">AVL</span> <span m="2047820">because</span> <span m="2049670">everything</span> <span m="2050159">is</span> <span m="2051260">perfectly</span> <span m="2051739">balanced</span> <span m="2052139">or</span> <span m="2052270">almost</span> <span m="2052560">perfectly</span> <span m="2052989">balanced.</span> <span m="2054989">The</span> <span m="2055120">only</span> <span m="2055330">thing</span> <span m="2055530">that's</span> <span m="2055810">not</span> <span m="2056670">complete</span> <span m="2057139">is</span> <span m="2057250">the</span> <span m="2057360">last</span> <span m="2057630">level.</span> <span m="2058690">So</span> <span m="2058989">all the</span> <span m="2059159">paths</span> <span m="2059690">from</span> <span m="2059909">the</span> <span m="2060030">roots</span> <span m="2060330">to</span> <span m="2060449">the</span> <span m="2060610">last</span> <span m="2060960">level</span> <span m="2061790">are</span> <span m="2062020">either</span> <span m="2062270">height</span> <span m="2063060">log</span> <span m="2063520">N or</span> <span m="2063650">height</span> <span m="2063880">log</span> <span m="2064100">N</span> <span m="2064190">minus</span> <span m="2064530">1.</span> <span m="2065810">So</span> <span m="2066030">wherever</span> <span m="2066460">you</span> <span m="2066580">do</span> <span m="2066989">the</span> <span m="2067980">height</span> <span m="2068150">comparison,</span> <span m="2068810">you're</span> <span m="2068989">going</span> <span m="2069159">to</span> <span m="2069210">get</span> <span m="2069380">a</span> <span m="2069489">difference</span> <span m="2069909">of</span> <span m="2070000">1,</span> <span m="2071219">and</span> <span m="2071780">we</span> <span m="2071880">can</span> <span m="2072280">keep</span> <span m="2072510">adding</span> <span m="2072800">nodes</span> <span m="2073060">to</span> <span m="2073190">this.</span> <span m="2075739">This</span> <span m="2075880">is</span> <span m="2076300">how</span> <span m="2076460">I'd</span> <span m="2076550">build</span> <span m="2076810">a</span> <span m="2076860">BST</span> <span m="2077389">of</span> <span m="2078040">as</span> <span m="2078179">many</span> <span m="2078420">nodes</span> <span m="2078659">as</span> <span m="2078780">we</span> <span m="2078860">want.</span> </p>
<p><span m="2079179">AUDIENCE: I</span> <span m="2079509">have a</span> <span m="2079840">question.</span> <span m="2081489">For</span> <span m="2082120">the</span> <span m="2082280">fixed</span> <span m="2082690">heights,</span> <span m="2083130">why</span> <span m="2083300">we</span> <span m="2083510">try</span> <span m="2083750">to</span> <span m="2084260">minimize</span> <span m="2085000">the</span> <span m="2085310">nodes?</span> <span m="2086600">Wouldn't</span> <span m="2086840">a</span> <span m="2087070">better</span> <span m="2087370">way</span> <span m="2087590">to</span> <span m="2087870">build</span> <span m="2088330">a</span> <span m="2088800">more</span> <span m="2089139">efficient</span> <span m="2090130">tree</span> <span m="2091079">is</span> <span m="2091429">to</span> <span m="2092662">try</span> <span m="2093114">to</span> <span m="2093566">minimize</span> <span m="2094020">the</span> <span m="2094300">height?</span> <span m="2095120">So</span> <span m="2095440">instead</span> <span m="2095620">of</span> <span m="2096489">adding</span> <span m="2097460">nodes</span> <span m="2097530">up,</span> <span m="2098110">just</span> <span m="2098340">fill in</span> <span m="2098500">the</span> <span m="2098976">tree?</span> </p>
<p><span m="2100260">PROFESSOR: Very</span> <span m="2100520">good.</span> <span m="2101080">So you're</span> <span m="2101320">thinking</span> <span m="2101610">of</span> <span m="2101900">how</span> <span m="2102080">to</span> <span m="2102220">build</span> <span m="2102510">an</span> <span m="2102610">efficient</span> <span m="2103110">tree,</span> <span m="2103950">how</span> <span m="2104080">to</span> <span m="2104210">build</span> <span m="2104440">a</span> <span m="2104510">good</span> <span m="2104710">tree.</span> <span m="2105870">Here,</span> <span m="2106170">I'm</span> <span m="2106280">trying</span> <span m="2106550">to</span> <span m="2106670">prove</span> <span m="2107700">the</span> <span m="2108180">property</span> <span m="2108760">about</span> <span m="2109570">the</span> <span m="2109800">maximum</span> <span m="2109920">height</span> <span m="2110390">of</span> <span m="2110550">a</span> <span m="2110620">tree.</span> <span m="2111480">So</span> <span m="2111590">here</span> <span m="2111890">I'm</span> <span m="2112040">playing</span> <span m="2112390">devil's</span> <span m="2112770">advocate.</span> <span m="2113520">I'm</span> <span m="2113650">thinking,</span> <span m="2114040">what</span> <span m="2114230">is</span> <span m="2114640">the</span> <span m="2114780">worst</span> <span m="2115170">case</span> <span m="2115380">for</span> <span m="2115570">AVLs?</span> <span m="2115980">How</span> <span m="2116130">do</span> <span m="2116200">I</span> <span m="2116290">make</span> <span m="2116540">AVLs</span> <span m="2116990">look</span> <span m="2117210">as</span> <span m="2117340">bad</span> <span m="2117530">as</span> <span m="2117660">possible?</span> <span m="2118720">That's</span> <span m="2118950">why I</span> <span m="2119040">started</span> <span m="2119450">this</span> <span m="2119630">way.</span> </p>
<p><span m="2120840">So</span> <span m="2120980">usually,</span> <span m="2121460">we're</span> <span m="2121790">the</span> <span m="2121910">good</span> <span m="2122140">guy</span> <span m="2122290">coding,</span> <span m="2122770">but</span> <span m="2122990">after</span> <span m="2123220">you're</span> <span m="2123350">done</span> <span m="2123570">coding</span> <span m="2123950">and</span> <span m="2124060">you</span> <span m="2124140">know</span> <span m="2124320">how</span> <span m="2124460">your</span> <span m="2124640">algorithm</span> <span m="2125090">runs,</span> <span m="2125880">if you</span> <span m="2126000">want to have peace</span> <span m="2126210">of</span> <span m="2126690">mind</span> <span m="2127050">and</span> <span m="2127210">go</span> <span m="2127330">to</span> <span m="2127470">sleep</span> <span m="2127850">well</span> <span m="2128080">and</span> <span m="2128250">get</span> <span m="2128420">full</span> <span m="2128580">points</span> <span m="2128870">afterwards,</span> <span m="2130200">it</span> <span m="2130490">sometimes</span> <span m="2130890">helps</span> <span m="2131060">to</span> <span m="2131180">think</span> <span m="2131440">as</span> <span m="2131580">devil's</span> <span m="2131910">advocate.</span> <span m="2132300">How would I</span> <span m="2132680">break</span> <span m="2133080">this</span> <span m="2133270">algorithm?</span> <span m="2134200">What's</span> <span m="2134590">the</span> <span m="2134700">worst</span> <span m="2135010">thing</span> <span m="2135170">that</span> <span m="2135330">I</span> <span m="2135380">could</span> <span m="2135560">do</span> <span m="2135700">to</span> <span m="2135840">it?</span> <span m="2136410">And</span> <span m="2136600">if</span> <span m="2136690">you</span> <span m="2136780">can</span> <span m="2136970">find</span> <span m="2137250">something</span> <span m="2137890">that</span> <span m="2138110">breaks</span> <span m="2138410">it,</span> <span m="2138680">well,</span> <span m="2138910">you</span> <span m="2139000">probably</span> <span m="2139280">know how</span> <span m="2139640">to</span> <span m="2139950">fix</span> <span m="2140260">it.</span> <span m="2141560">If</span> <span m="2141720">not,</span> <span m="2142220">you</span> <span m="2142480">can</span> <span m="2143090">sleep</span> <span m="2143410">well</span> <span m="2143600">at</span> <span m="2143680">night</span> <span m="2143890">and</span> <span m="2143980">know</span> <span m="2144160">that</span> <span m="2144370">your</span> <span m="2144750">algorithm</span> <span m="2145160">is</span> <span m="2145330">sound.</span> </p>
<p><span m="2149350">AUDIENCE: In that</span> <span m="2149700">example</span> <span m="2150065">on the</span> <span m="2150430">board,</span> <span m="2152900">where</span> <span m="2153110">we</span> <span m="2153270">said</span> <span m="2155216">the</span> <span m="2155688">height of the</span> <span m="2156160">tree on the</span> <span m="2156550">left</span> <span m="2156810">side</span> <span m="2157180">was</span> <span m="2159600">h minus</span> <span m="2159940">1,</span> <span m="2160250">and then</span> <span m="2160660">the</span> <span m="2161390">other</span> <span m="2161660">side</span> <span m="2162000">had</span> <span m="2162110">the</span> <span m="2162370">h minus</span> <span m="2162850">2.</span> <span m="2165990">For</span> <span m="2166190">that</span> <span m="2166480">h</span> <span m="2166770">minus</span> <span m="2167160">2</span> <span m="2167510">tree,</span> <span m="2170780">every</span> <span m="2171090">node</span> <span m="2171420">in that</span> <span m="2171920">has to</span> <span m="2172420">be h</span> <span m="2172920">minus 2</span> <span m="2173420">height,</span> <span m="2173920">every</span> <span m="2174240">leaf.</span> <span m="2176130">Is</span> <span m="2176260">that</span> <span m="2176540">what we're</span> <span m="2176750">saying?</span> <span m="2177190">Otherwise,</span> <span m="2177635">it</span> <span m="2178080">falls</span> <span m="2178525">apart</span> <span m="2178970">because</span> <span m="2179415">there would be</span> <span m="2179860">one that's--</span> </p>
<p><span m="2180310">PROFESSOR: So</span> <span m="2180450">we're saying</span> <span m="2180820">that</span> <span m="2181060">the</span> <span m="2181110">root of</span> <span m="2181430">this</span> <span m="2181630">tree</span> <span m="2182120">has</span> <span m="2182400">to</span> <span m="2182490">be</span> <span m="2182770">h minus</span> <span m="2183120">2.</span> <span m="2184900">And</span> <span m="2185130">the</span> <span m="2185220">way</span> <span m="2185350">we</span> <span m="2185520">do</span> <span m="2185710">this</span> <span m="2185970">is</span> <span m="2186130">we</span> <span m="2186300">copy</span> <span m="2186570">this guy</span> <span m="2186840">over,</span> <span m="2187970">so</span> <span m="2188130">this</span> <span m="2188300">guy's</span> <span m="2188520">lopsided,</span> <span m="2188805">too.</span> <span m="2190740">So it's</span> <span m="2190920">not</span> <span m="2191240">every</span> <span m="2191520">path</span> <span m="2191820">to the</span> <span m="2192291">bottom,</span> <span m="2192762">just</span> <span m="2193233">one</span> <span m="2193704">path.</span> </p>
<p><span m="2194175">AUDIENCE: OK.</span> <span m="2194646">So it</span> <span m="2195117">could be</span> <span m="2195588">an incomplete.</span> </p>
<p><span m="2197001">PROFESSOR: Yep.</span> <span m="2197960">In</span> <span m="2198390">that case,</span> <span m="2200242">is</span> <span m="2200705">that</span> <span m="2201168">balanced?</span> </p>
<p><span m="2203020">PROFESSOR: So</span> <span m="2203240">this</span> <span m="2204410">was</span> <span m="2204590">an</span> <span m="2204910">AVL</span> <span m="2205710">of</span> <span m="2206030">height</span> <span m="2206380">2,</span> <span m="2206590">right?</span> <span m="2208310">If</span> <span m="2208490">I</span> <span m="2208570">stick</span> <span m="2208850">it</span> <span m="2208980">here,</span> <span m="2209610">it's</span> <span m="2209770">still</span> <span m="2209930">going</span> <span m="2210150">to</span> <span m="2210250">be</span> <span m="2210390">an</span> <span m="2210480">AVL</span> <span m="2210750">of height</span> <span m="2210960">2.</span> </p>
<p><span m="2211530">AUDIENCE: Right.</span> </p>
<p><span m="2213820">PROFESSOR: This</span> <span m="2214120">thing</span> <span m="2214290">will</span> <span m="2214420">have</span> <span m="2214620">height</span> <span m="2214890">2.</span> <span m="2215140">This</span> <span m="2215420">thing</span> <span m="2215590">will</span> <span m="2215730">have height</span> <span m="2216230">3.</span> </p>
<p><span m="2218518">AUDIENCE: OK.</span> <span m="2220446">So</span> <span m="2220928">it's not</span> <span m="2221410">everything</span> <span m="2221892">on the same</span> <span m="2222374">level,</span> <span m="2222856">necessarily,</span> <span m="2223338">that needs to</span> <span m="2223820">be of the</span> <span m="2224302">same height.</span> <span m="2224784">It's only</span> <span m="2225266">the children.</span> </p>
<p><span m="2226230">PROFESSOR: Yep.</span> <span m="2227210">So</span> <span m="2227390">the</span> <span m="2228400">two</span> <span m="2228550">children,</span> <span m="2228990">so</span> <span m="2229180">two nodes</span> <span m="2229560">on</span> <span m="2229660">the</span> <span m="2229760">same</span> <span m="2229990">level,</span> <span m="2230340">might</span> <span m="2230620">have</span> <span m="2230800">their</span> <span m="2230950">heights</span> <span m="2231370">differ</span> <span m="2231680">by</span> <span m="2231830">one,</span> <span m="2233050">but</span> <span m="2233240">not</span> <span m="2233420">more</span> <span m="2233610">than</span> <span m="2233770">one.</span> <span m="2234280">If</span> <span m="2234410">they</span> <span m="2234520">could</span> <span m="2234690">differ</span> <span m="2234920">by</span> <span m="2235080">more</span> <span m="2235310">than</span> <span m="2235490">one,</span> <span m="2235720">you</span> <span m="2235810">could</span> <span m="2235960">have</span> <span m="2236120">a</span> <span m="2236180">link</span> <span m="2236420">list.</span> <span m="2237480">Because</span> <span m="2237780">they</span> <span m="2237880">differ</span> <span m="2238230">by</span> <span m="2238400">one,</span> <span m="2238720">then</span> <span m="2238990">it's</span> <span m="2239550">sort</span> <span m="2239840">of</span> <span m="2239930">sane.</span> <span m="2240740">It's</span> <span m="2240930">almost</span> <span m="2241300">balanced.</span> <span m="2244190">Good.</span> <span m="2245110">I</span> <span m="2245200">like</span> <span m="2245380">the</span> <span m="2245470">questions.</span> <span m="2246130">It</span> <span m="2246240">means</span> <span m="2246440">you</span> <span m="2246530">guys</span> <span m="2246750">are</span> <span m="2246850">thinking.</span> <span m="2247820">I</span> <span m="2247850">really</span> <span m="2248120">like</span> <span m="2248320">it.</span> <span m="2248903">Yeah?</span> </p>
<p><span m="2250045">AUDIENCE: If they</span> <span m="2250340">differ</span> <span m="2250610">by</span> <span m="2251250">one.</span> <span m="2251550">So</span> <span m="2251880">you have</span> <span m="2252360">an</span> <span m="2252840">ideal</span> <span m="2253320">tree</span> <span m="2253800">up there,</span> <span m="2254280">and then</span> <span m="2254760">you have</span> <span m="2255240">the worst</span> <span m="2255720">case possible.</span> <span m="2256200">That</span> <span m="2256680">wouldn't</span> <span m="2257160">affect</span> <span m="2257640">performance</span> <span m="2258120">at all,</span> <span m="2258600">right,</span> <span m="2259080">if you</span> <span m="2259560">have the</span> <span m="2260040">worst case?</span> </p>
<p><span m="2260520">PROFESSOR: So</span> <span m="2260840">what</span> <span m="2261060">we</span> <span m="2261180">know</span> <span m="2261380">what</span> <span m="2261650">performance</span> <span m="2262350">is</span> <span m="2262500">we</span> <span m="2262600">have</span> <span m="2262820">this</span> <span m="2263000">guarantee.</span> <span m="2265090">It's at</span> <span m="2265280">worst</span> <span m="2265910">a</span> <span m="2266270">constant</span> <span m="2266590">times</span> <span m="2266910">log n.</span> <span m="2268640">This</span> <span m="2268880">is</span> <span m="2269070">constant</span> <span m="2269375">times</span> <span m="2269680">log</span> <span m="2270020">n.</span> <span m="2270240">The</span> <span m="2270340">constant</span> <span m="2270680">happens</span> <span m="2271142">to be</span> <span m="2271604">1.</span> <span m="2272530">This</span> <span m="2273230">is</span> <span m="2273450">a</span> <span m="2273530">constant</span> <span m="2274200">times</span> <span m="2274580">log</span> <span m="2274700">n.</span> <span m="2274890">The</span> <span m="2274990">constant</span> <span m="2275440">happens</span> <span m="2275820">to</span> <span m="2275930">be</span> <span m="2276610">something</span> <span m="2277140">bigger</span> <span m="2277430">than</span> <span m="2277560">1.</span> <span m="2278515">I</span> <span m="2278890">think</span> <span m="2279120">it's</span> <span m="2279240">somewhere</span> <span m="2279500">between</span> <span m="2279810">2</span> <span m="2279940">and</span> <span m="2280060">3.</span> </p>
<p><span m="2280692">AUDIENCE: That</span> <span m="2281144">just</span> <span m="2281596">varies</span> <span m="2282048">by the</span> <span m="2282500">constant.</span> </p>
<p><span m="2282952">PROFESSOR: Yeah.</span> <span m="2283856">And</span> <span m="2284310">since</span> <span m="2284440">we</span> <span m="2284620">only</span> <span m="2284870">care</span> <span m="2285050">about</span> <span m="2285270">asymptotics</span> <span m="2285545">in</span> <span m="2285820">this</span> <span m="2286190">class,</span> <span m="2286525">we're</span> <span m="2286860">happy.</span> <span m="2288020">But</span> <span m="2288540">we</span> <span m="2288630">don't</span> <span m="2288810">know</span> <span m="2288910">how</span> <span m="2289020">to</span> <span m="2289150">build</span> <span m="2289630">this.</span> <span m="2290760">This</span> <span m="2291030">is</span> <span m="2291250">just</span> <span m="2291470">something</span> <span m="2291920">pretty</span> <span m="2292360">that we</span> <span m="2292440">draw</span> <span m="2292740">on a</span> <span m="2293110">board,</span> <span m="2293210">but we</span> <span m="2293280">don't</span> <span m="2293470">have</span> <span m="2293630">an</span> <span m="2293760">algorithm</span> <span m="2294230">that</span> <span m="2294870">efficiency</span> <span m="2295400">builds</span> <span m="2295940">this</span> <span m="2297410">out</span> <span m="2297620">of</span> <span m="2297740">a</span> <span m="2298000">random</span> <span m="2298390">series</span> <span m="2298710">of</span> <span m="2298830">insertions</span> <span m="2299350">and</span> <span m="2299460">deletions.</span> <span m="2301380">I</span> <span m="2301520">hope</span> <span m="2301720">we</span> <span m="2301810">don't.</span> <span m="2303740">Otherwise,</span> <span m="2304100">I</span> <span m="2304230">look</span> <span m="2304290">bad.</span> <span m="2306090">What</span> <span m="2306330">do I</span> <span m="2306600">want</span> <span m="2306730">to</span> <span m="2307045">delete?</span> </p>
<p><span m="2312220">AUDIENCE: Instead</span> <span m="2312706">of a</span> <span m="2313192">binary</span> <span m="2313678">search</span> <span m="2314164">tree</span> <span m="2314650">as the base</span> <span m="2315136">of the AVL,</span> <span m="2315622">if you wanted to</span> <span m="2316120">have</span> <span m="2317090">four</span> <span m="2318000">children</span> <span m="2318580">per</span> <span m="2318920">node,</span> <span m="2319785">would</span> <span m="2320700">this</span> <span m="2321210">change</span> <span m="2321540">that</span> <span m="2321790">much</span> <span m="2322130">except you'd</span> <span m="2322470">just</span> <span m="2322760">have</span> <span m="2323840">twice</span> <span m="2324240">as many</span> <span m="2324380">variables?</span> </p>
<p><span m="2326890">PROFESSOR: That's</span> <span m="2327070">a</span> <span m="2327140">good</span> <span m="2327400">exam</span> <span m="2327780">question.</span> <span m="2333510">So</span> <span m="2333650">it</span> <span m="2334260">turns</span> <span m="2334570">out</span> <span m="2334710">that</span> <span m="2334950">there's</span> <span m="2335260">this</span> <span m="2335570">tree</span> <span m="2335810">called</span> <span m="2336270">a</span> <span m="2336350">B</span> <span m="2336670">tree,</span> <span m="2337100">which</span> <span m="2337370">has</span> <span m="2338500">1,000</span> <span m="2340370">or</span> <span m="2340550">more</span> <span m="2340910">nodes.</span> </p>
<p><span m="2341490">AUDIENCE: B</span> <span m="2341988">tree?</span> <span m="2342486">Doesn't that</span> <span m="2342984">stand for</span> <span m="2343482">binary?</span> </p>
<p><span m="2343980">PROFESSOR: No.</span> <span m="2344480">It's</span> <span m="2344750">B.</span> <span m="2344820">Just</span> <span m="2345280">B.</span> <span m="2348550">That's</span> <span m="2349000">used</span> <span m="2349150">for</span> <span m="2349300">databases</span> <span m="2349910">on</span> <span m="2350150">disk.</span> <span m="2351170">So</span> <span m="2351410">there,</span> <span m="2351640">you</span> <span m="2351720">want</span> <span m="2351870">to</span> <span m="2351920">make</span> <span m="2352090">the</span> <span m="2352170">height</span> <span m="2352380">as</span> <span m="2352480">small as</span> <span m="2352920">possible,</span> <span m="2353430">because</span> <span m="2353740">every</span> <span m="2353940">time</span> <span m="2354120">you</span> <span m="2354180">get</span> <span m="2354360">a</span> <span m="2354450">node,</span> <span m="2354760">you do</span> <span m="2354950">a</span> <span m="2355030">disk</span> <span m="2355300">access,</span> <span m="2355660">and</span> <span m="2355770">that's</span> <span m="2355960">expensive.</span> <span m="2357140">But</span> <span m="2357340">once</span> <span m="2357600">you</span> <span m="2357700">do</span> <span m="2357960">a</span> <span m="2358030">disk</span> <span m="2358335">access,</span> <span m="2358640">the</span> <span m="2358760">nodes</span> <span m="2358970">can</span> <span m="2359160">be</span> <span m="2359280">as</span> <span m="2359400">big</span> <span m="2359660">as</span> <span m="2359920">you</span> <span m="2360050">want.</span> </p>
<p><span m="2362430">You</span> <span m="2362500">can</span> <span m="2362730">read</span> <span m="2362980">a</span> <span m="2363040">few</span> <span m="2363190">bytes</span> <span m="2363830">off</span> <span m="2364020">the</span> <span m="2364150">disk</span> <span m="2364450">at</span> <span m="2364670">roughly</span> <span m="2365020">the</span> <span m="2365160">same</span> <span m="2365400">cost</span> <span m="2365730">as</span> <span m="2365850">you</span> <span m="2365920">can</span> <span m="2366070">read</span> <span m="2366240">a</span> <span m="2366310">megabyte,</span> <span m="2366820">so</span> <span m="2367370">you're</span> <span m="2367500">better</span> <span m="2367720">off</span> <span m="2367870">reading</span> <span m="2368110">a</span> <span m="2368160">megabyte.</span> <span m="2368980">I might be</span> <span m="2369160">exaggerating</span> <span m="2369820">a</span> <span m="2369880">bit,</span> <span m="2370070">but</span> <span m="2370260">for</span> <span m="2370450">a</span> <span m="2370490">few</span> <span m="2370680">kilobytes,</span> <span m="2371150">that's</span> <span m="2371350">true.</span> <span m="2372090">So</span> <span m="2372240">B</span> <span m="2372440">trees</span> <span m="2372730">have</span> <span m="2373550">thousands</span> <span m="2373990">of</span> <span m="2374100">children,</span> <span m="2374560">and</span> <span m="2374710">they</span> <span m="2374800">keep</span> <span m="2375050">them</span> <span m="2375270">sorted.</span> <span m="2375880">It's</span> <span m="2376090">sort</span> <span m="2376290">of</span> <span m="2376390">like</span> <span m="2376580">that,</span> <span m="2376860">but</span> <span m="2378160">the</span> <span m="2378320">fan</span> <span m="2378530">out</span> <span m="2378680">is</span> <span m="2378830">huge.</span> <span m="2379630">And</span> <span m="2379820">it</span> <span m="2379930">turns</span> <span m="2380200">out</span> <span m="2380390">everything</span> <span m="2380780">is</span> <span m="2380870">still</span> <span m="2381160">log n</span> <span m="2381570">as</span> <span m="2381690">long</span> <span m="2381950">as</span> <span m="2382060">the</span> <span m="2382160">number</span> <span m="2382440">of</span> <span m="2382530">children</span> <span m="2382870">you</span> <span m="2382940">have</span> <span m="2383120">is</span> <span m="2383250">constant.</span> </p>
<p><span m="2384256">AUDIENCE: But</span> <span m="2384622">for</span> <span m="2384990">this</span> <span m="2385220">rotation thing,</span> <span m="2385630">though.</span> </p>
<p><span m="2386730">PROFESSOR: Oh</span> <span m="2386980">god,</span> <span m="2387260">no.</span> <span m="2387350">We don't</span> <span m="2387490">have</span> <span m="2387570">to</span> <span m="2387900">rotate.</span> <span m="2388820">It</span> <span m="2389130">gets</span> <span m="2389530">a</span> <span m="2389620">lot</span> <span m="2389850">more</span> <span m="2390040">complicated.</span> <span m="2391640">We</span> <span m="2391720">haven't</span> <span m="2391940">gotten</span> <span m="2392160">to rebalancing</span> <span m="2392390">yet,</span> <span m="2393100">right?</span> <span m="2394640">Wait</span> <span m="2394870">until</span> <span m="2395140">you</span> <span m="2395240">see</span> <span m="2395390">how rebalancing</span> <span m="2396010">looks</span> <span m="2396190">like</span> <span m="2396350">with</span> <span m="2396480">two</span> <span m="2396730">children,</span> <span m="2397160">and</span> <span m="2397270">then</span> <span m="2397430">imagine</span> <span m="2397920">trying</span> <span m="2398180">to</span> <span m="2398290">figure</span> <span m="2398530">out</span> <span m="2400200">the</span> <span m="2400340">cases</span> <span m="2400660">for</span> <span m="2400790">1,000</span> <span m="2401190">children.</span> <span m="2401920">That's</span> <span m="2402370">not</span> <span m="2402660">sane.</span> <span m="2403560">In</span> <span m="2403660">B</span> <span m="2403960">trees,</span> <span m="2404190">they</span> <span m="2404290">use</span> <span m="2404550">something</span> <span m="2405140">else</span> <span m="2405450">to</span> <span m="2405560">make</span> <span m="2405800">them</span> <span m="2405980">balance</span> <span m="2406350">the</span> <span m="2406450">right</span> <span m="2406680">way.</span> <span m="2407800">And</span> <span m="2407990">of</span> <span m="2408070">course,</span> <span m="2408280">they're</span> <span m="2408420">harder</span> <span m="2408730">than</span> <span m="2408920">this.</span> </p>
<p><span m="2411710">So</span> <span m="2411880">let me</span> <span m="2412070">try</span> <span m="2412280">to</span> <span m="2412360">get</span> <span m="2412550">through</span> <span m="2412720">rebalancing</span> <span m="2415230">somewhat</span> <span m="2415630">quickly.</span> <span m="2425610">This</span> <span m="2425810">is</span> <span m="2425920">where</span> <span m="2426210">I</span> <span m="2426290">forget</span> <span m="2427950">what</span> <span m="2428330">I</span> <span m="2428420">need</span> <span m="2428600">to</span> <span m="2428710">do.</span> <span m="2429260">Rebalancing.</span> <span m="2472980">So</span> <span m="2473220">suppose</span> <span m="2473660">we</span> <span m="2473760">call</span> <span m="2474020">Rebalance</span> <span m="2474680">on</span> <span m="2475040">this</span> <span m="2475350">guy,</span> <span m="2487450">and</span> <span m="2488360">we</span> <span m="2488490">know</span> <span m="2488680">that</span> <span m="2488950">the</span> <span m="2489080">nodes</span> <span m="2489370">here</span> <span m="2489580">have</span> <span m="2489790">heights</span> <span m="2490130">k</span> <span m="2490270">minus</span> <span m="2490670">1,</span> <span m="2490930">this</span> <span m="2491080">is</span> <span m="2491220">k</span> <span m="2491320">minus</span> <span m="2491680">1</span> <span m="2492040">or k,</span> <span m="2492400">and</span> <span m="2492580">this is</span> <span m="2492740">k,</span> <span m="2493600">and</span> <span m="2493890">I</span> <span m="2493930">want</span> <span m="2494140">to</span> <span m="2494240">call</span> <span m="2494470">Rebalance</span> <span m="2495080">here.</span> <span m="2496730">Let's</span> <span m="2496850">first</span> <span m="2497060">figure</span> <span m="2497320">out</span> <span m="2497500">if</span> <span m="2497620">it's</span> <span m="2498450">an</span> <span m="2498650">AVL</span> <span m="2498920">tree</span> <span m="2499040">or if</span> <span m="2499490">there's</span> <span m="2500070">something</span> <span m="2500390">wrong</span> <span m="2500610">with</span> <span m="2500770">it.</span> <span m="2501030">What's</span> <span m="2501350">the</span> <span m="2501480">height</span> <span m="2501800">here?</span> </p>
<p><span m="2504675">AUDIENCE: k</span> <span m="2505172">plus 1.</span> </p>
<p><span m="2507660">PROFESSOR: So</span> <span m="2508020">no matter</span> <span m="2508500">what the</span> <span m="2508590">height is</span> <span m="2508980">here,</span> <span m="2509220">the</span> <span m="2509360">height</span> <span m="2509650">here</span> <span m="2509850">has</span> <span m="2510020">to</span> <span m="2510110">be</span> <span m="2510240">k</span> <span m="2510430">plus</span> <span m="2510690">1.</span> <span m="2511400">What's</span> <span m="2511650">the</span> <span m="2511760">height</span> <span m="2511970">here?</span> </p>
<p><span m="2513736">AUDIENCE: k</span> <span m="2514208">plus</span> <span m="2514680">2.</span> </p>
<p><span m="2516570">PROFESSOR: OK.</span> <span m="2517610">What</span> <span m="2517840">else</span> <span m="2518030">can</span> <span m="2518170">you</span> <span m="2518280">tell</span> <span m="2518450">me</span> <span m="2518590">about</span> <span m="2519240">this</span> <span m="2519540">node?</span> <span m="2525160">If</span> <span m="2525320">I</span> <span m="2525390">call</span> <span m="2525645">Check RI</span> <span m="2525900">on it,</span> <span m="2526260">it's</span> <span m="2526690">going</span> <span m="2526980">to</span> <span m="2527090">crash</span> <span m="2527990">because</span> <span m="2528710">the</span> <span m="2529060">rep</span> <span m="2529290">invariant</span> <span m="2529530">for</span> <span m="2529810">AVLs</span> <span m="2530440">does</span> <span m="2530600">not</span> <span m="2530840">hold</span> <span m="2531100">here.</span> <span m="2531970">This</span> <span m="2532210">child</span> <span m="2532960">at</span> <span m="2533100">the</span> <span m="2533210">top</span> <span m="2533420">of</span> <span m="2533560">this</span> <span m="2533730">tree</span> <span m="2533900">will</span> <span m="2534030">have</span> <span m="2534250">height</span> <span m="2534600">k</span> <span m="2534740">minus</span> <span m="2535130">1.</span> <span m="2535430">This</span> <span m="2535630">will</span> <span m="2535770">have</span> <span m="2535960">height</span> <span m="2536100">k</span> <span m="2536350">plus</span> <span m="2536600">1.</span> <span m="2537250">The</span> <span m="2537350">difference</span> <span m="2537720">is</span> <span m="2537830">more</span> <span m="2538050">than</span> <span m="2538230">1.</span> <span m="2538980">Not</span> <span m="2539190">good.</span> <span m="2541650">So</span> <span m="2541810">this</span> <span m="2542020">is</span> <span m="2542120">unhappy.</span> <span m="2542630">How</span> <span m="2542800">do</span> <span m="2542910">we</span> <span m="2543030">fix</span> <span m="2543290">the</span> <span m="2543390">situation?</span> </p>
<p><span m="2546380">AUDIENCE: Rotate</span> <span m="2546850">left</span> <span m="2547320">around</span> <span m="2547790">k</span> <span m="2548260">plus 1.</span> </p>
<p><span m="2549200">PROFESSOR: All</span> <span m="2549330">right.</span> <span m="2550255">So</span> <span m="2550570">it</span> <span m="2550670">better</span> <span m="2550790">be</span> <span m="2550930">a</span> <span m="2551100">rotation,</span> <span m="2551860">because</span> <span m="2552610">we</span> <span m="2552760">spent</span> <span m="2553000">so</span> <span m="2553100">much</span> <span m="2553520">figuring</span> <span m="2553880">out</span> <span m="2554070">how</span> <span m="2554200">to</span> <span m="2554340">rotate.</span> <span m="2556080">Let's</span> <span m="2556260">see</span> <span m="2556340">what</span> <span m="2556480">happens</span> <span m="2556830">if</span> <span m="2556960">we</span> <span m="2557050">rotate</span> <span m="2557400">this</span> <span m="2557630">way,</span> <span m="2557890">and</span> <span m="2558190">the</span> <span m="2558280">way</span> <span m="2558400">to</span> <span m="2558530">keep</span> <span m="2558720">track</span> <span m="2558960">of</span> <span m="2559140">this</span> <span m="2559370">is</span> <span m="2559530">I'm</span> <span m="2559660">going</span> <span m="2559910">to</span> <span m="2560030">label</span> <span m="2560570">my</span> <span m="2561063">nodes.</span> <span m="2565010">B,</span> <span m="2567250">A,</span> <span m="2568170">left</span> <span m="2568450">child of A</span> <span m="2568730">has</span> <span m="2569210">height</span> <span m="2570570">k minus</span> <span m="2570870">1.</span> <span m="2573090">This</span> <span m="2573460">guy</span> <span m="2573924">is</span> <span m="2574388">k minus</span> <span m="2574852">1.</span> <span m="2580760">So</span> <span m="2581030">what's</span> <span m="2581140">the</span> <span m="2581230">height</span> <span m="2581460">of</span> <span m="2581610">A</span> <span m="2581760">now?</span> </p>
<p><span m="2584480">AUDIENCE: k.</span> <span m="2586432">Oh wait,</span> <span m="2586920">that's not</span> <span m="2587408">a node.</span> <span m="2587896">Just</span> <span m="2588384">k minus 1</span> <span m="2588872">or</span> <span m="2589360">k.</span> </p>
<p><span m="2590840">PROFESSOR: So</span> <span m="2591030">this</span> <span m="2591820">is</span> <span m="2591960">a</span> <span m="2592090">tree of</span> <span m="2592440">height</span> <span m="2592660">k</span> <span m="2592870">minus</span> <span m="2593220">1.</span> <span m="2593420">This is</span> <span m="2593650">a height</span> <span m="2593920">of tree</span> <span m="2594150">k</span> <span m="2594290">minus 1</span> <span m="2594540">or</span> <span m="2594660">k.</span> <span m="2595310">The height</span> <span m="2595760">of</span> <span m="2595910">this</span> <span m="2596080">guy</span> <span m="2596330">is?</span> </p>
<p><span m="2598662">AUDIENCE: k.</span> </p>
<p><span m="2602486">AUDIENCE: k</span> <span m="2602964">plus 1.</span> </p>
<p><span m="2603920">PROFESSOR: Or</span> <span m="2604220">k</span> <span m="2604510">plus 1.</span> <span m="2606520">The</span> <span m="2607000">height of</span> <span m="2607130">this guy</span> <span m="2607360">is</span> <span m="2607660">definitely</span> <span m="2608000">k.</span> <span m="2608300">The height</span> <span m="2608570">of</span> <span m="2608800">this</span> <span m="2608970">guys</span> <span m="2609280">is k</span> <span m="2609630">or k</span> <span m="2609976">plus 1.</span> <span m="2610670">Is</span> <span m="2610840">that</span> <span m="2611060">an</span> <span m="2611130">AVL?</span> <span m="2611290">Is</span> <span m="2611770">it</span> <span m="2612000">happy</span> <span m="2612200">now?</span> <span m="2617100">So</span> <span m="2617260">this</span> <span m="2617460">is</span> <span m="2617620">the</span> <span m="2618060">easy</span> <span m="2618500">kind</span> <span m="2618810">of</span> <span m="2619000">rebalancing,</span> <span m="2619740">one</span> <span m="2619970">rotation</span> <span m="2620430">and you're</span> <span m="2620924">done.</span> </p>
<p><span m="2621418">AUDIENCE: [INAUDIBLE]</span> <span m="2621912">the difference</span> <span m="2622406">between k minus 1</span> <span m="2622900">and k minus 1</span> <span m="2623394">over k?</span> </p>
<p><span m="2625030">PROFESSOR: It's</span> <span m="2625250">not</span> <span m="2625440">k minus 1</span> <span m="2625580">over k.</span> <span m="2626290">It's</span> <span m="2626480">either</span> <span m="2626680">k</span> <span m="2626830">minus</span> <span m="2627150">1</span> <span m="2627360">or</span> <span m="2627560">k.</span> <span m="2630610">Bad</span> <span m="2630840">notation.</span> <span m="2634050">Thank</span> <span m="2634280">you</span> <span m="2634380">for</span> <span m="2634540">the</span> <span m="2634680">question.</span> <span m="2635310">You</span> <span m="2635770">saved</span> <span m="2636180">everyone</span> <span m="2636680">from</span> <span m="2636870">confusion.</span> <span m="2640028">No,</span> <span m="2640496">there's</span> <span m="2640964">no fractional</span> <span m="2641432">heights.</span> <span m="2642370">Anything</span> <span m="2642750">else?</span> <span m="2643690">Thank</span> <span m="2643810">you.</span> <span m="2643890">That</span> <span m="2644060">was</span> <span m="2644180">good.</span> </p>
<p><span m="2649680">All</span> <span m="2649780">right.</span> <span m="2649960">So</span> <span m="2650050">this</span> <span m="2650270">is</span> <span m="2650420">easy,</span> <span m="2650810">right?</span> <span m="2651030">This</span> <span m="2651200">is</span> <span m="2651350">the</span> <span m="2651450">easy</span> <span m="2651720">rotation.</span> <span m="2652270">Let's</span> <span m="2652440">do</span> <span m="2652510">the</span> <span m="2652650">hard</span> <span m="2653020">one</span> <span m="2653230">now.</span> <span m="2677670">What's</span> <span m="2677890">the</span> <span m="2678010">height</span> <span m="2678210">here?</span> </p>
<p><span m="2680664">AUDIENCE: k</span> <span m="2681160">plus</span> <span m="2681656">1.</span> </p>
<p><span m="2687112">PROFESSOR: What's</span> <span m="2687608">the height</span> <span m="2688104">here?</span> </p>
<p><span m="2690584">AUDIENCE: Plus</span> <span m="2691080">2.</span> </p>
<p><span m="2693580">PROFESSOR: AVL,</span> <span m="2693970">not</span> <span m="2694360">AVL?</span> </p>
<p><span m="2696550">AUDIENCE: No.</span> </p>
<p><span m="2698310">PROFESSOR: k</span> <span m="2698460">minus</span> <span m="2698860">1 on</span> <span m="2699330">the</span> <span m="2699660">left</span> <span m="2700250">child,</span> <span m="2700810">k</span> <span m="2701120">plus 1</span> <span m="2701320">on</span> <span m="2701580">the</span> <span m="2701700">right</span> <span m="2701990">child.</span> <span m="2702650">The</span> <span m="2702750">difference</span> <span m="2703120">is</span> <span m="2703210">more</span> <span m="2703410">than</span> <span m="2703570">one.</span> <span m="2704350">Not</span> <span m="2704710">an</span> <span m="2705130">AVL.</span> <span m="2706120">How</span> <span m="2706300">do</span> <span m="2706390">we</span> <span m="2706500">fix</span> <span m="2706760">this?</span> </p>
<p><span m="2714132">AUDIENCE: Make a</span> <span m="2714630">right rotation</span> <span m="2715128">[INAUDIBLE].</span> </p>
<p><span m="2717620">PROFESSOR: Sorry?</span> </p>
<p><span m="2718560">AUDIENCE: Make a</span> <span m="2719060">right rotation</span> <span m="2719560">on k first.</span> </p>
<p><span m="2721560">PROFESSOR: So</span> <span m="2721710">make a</span> <span m="2721920">right</span> <span m="2721980">rotation</span> <span m="2722446">where?</span> </p>
<p><span m="2723378">AUDIENCE: On</span> <span m="2723844">k</span> <span m="2724310">[INAUDIBLE]</span> <span m="2724776">plus 1.</span> </p>
<p><span m="2730290">PROFESSOR: Let</span> <span m="2730680">me</span> <span m="2730880">break</span> <span m="2731120">this</span> <span m="2731320">up</span> <span m="2731930">so</span> <span m="2732420">we could</span> <span m="2732910">see how</span> <span m="2733400">that would</span> <span m="2733890">work</span> <span m="2734380">out.</span> <span m="2739280">So</span> <span m="2739770">these two</span> <span m="2740260">are k minus</span> <span m="2740750">1 and</span> <span m="2741240">k minus</span> <span m="2741730">1,</span> <span m="2742720">and</span> <span m="2743340">these</span> <span m="2743580">nodes</span> <span m="2744320">are</span> <span m="2745200">A,</span> <span m="2745460">B,</span> <span m="2745720">and</span> <span m="2746220">C.</span> <span m="2747720">So</span> <span m="2747930">you're</span> <span m="2748140">saying</span> <span m="2748610">do</span> <span m="2748750">a</span> <span m="2748840">right</span> <span m="2749140">rotation</span> <span m="2749620">here,</span> <span m="2750410">right?</span> <span m="2752450">Let's</span> <span m="2752670">see</span> <span m="2752760">what</span> <span m="2752940">that</span> <span m="2753140">gets</span> <span m="2753360">us</span> <span m="2753550">to.</span> <span m="2754940">So</span> <span m="2755775">A</span> <span m="2756190">is</span> <span m="2756820">the</span> <span m="2756940">same,</span> <span m="2757560">and</span> <span m="2757800">then</span> <span m="2757980">here</span> <span m="2758260">I'm</span> <span m="2758360">going</span> <span m="2758600">to</span> <span m="2758770">have</span> <span m="2759660">C</span> <span m="2760090">instead</span> <span m="2760310">of</span> <span m="2760600">B,</span> <span m="2762470">and</span> <span m="2762790">B.</span> <span m="2763260">The</span> <span m="2763370">right</span> <span m="2763600">child</span> <span m="2763870">of B</span> <span m="2764140">is the</span> <span m="2764430">same as</span> <span m="2764685">it was</span> <span m="2764940">before.</span> <span m="2766700">The</span> <span m="2766820">left</span> <span m="2767030">child</span> <span m="2767370">of</span> <span m="2767590">B</span> <span m="2768120">is</span> <span m="2773050">k</span> <span m="2773110">minus</span> <span m="2773520">1.</span> <span m="2774920">Then</span> <span m="2775050">the left</span> <span m="2775200">child</span> <span m="2775530">of</span> <span m="2775630">C</span> <span m="2776020">is</span> <span m="2777576">another</span> <span m="2778020">k minus</span> <span m="2778210">1,</span> <span m="2779170">and</span> <span m="2779650">this</span> <span m="2780130">guy</span> <span m="2780570">is</span> <span m="2780940">k minus</span> <span m="2781225">1.</span> <span m="2781510">OK,</span> <span m="2781750">what's</span> <span m="2782020">the</span> <span m="2782140">height</span> <span m="2782440">at</span> <span m="2782530">B</span> <span m="2782770">now?</span> </p>
<p><span m="2783992">AUDIENCE: k.</span> </p>
<p><span m="2785920">PROFESSOR: OK.</span> <span m="2787320">What's</span> <span m="2787750">the height</span> <span m="2787920">here?</span> </p>
<p><span m="2789759">AUDIENCE: k</span> <span m="2790242">plus 1.</span> </p>
<p><span m="2793140">PROFESSOR: And</span> <span m="2793440">the height</span> <span m="2793560">here?</span> </p>
<p><span m="2795022">AUDIENCE: k</span> <span m="2795478">plus 2.</span> </p>
<p><span m="2797760">PROFESSOR: Is</span> <span m="2797940">this</span> <span m="2798150">an</span> <span m="2798260">AVL?</span> <span m="2800110">So</span> <span m="2800300">we're</span> <span m="2800430">not</span> <span m="2800640">done,</span> <span m="2800950">but</span> <span m="2801620">what's</span> <span m="2801890">the</span> <span m="2802010">good</span> <span m="2802180">news</span> <span m="2802420">about</span> <span m="2802830">this?</span> </p>
<p><span m="2803936">AUDIENCE: Now</span> <span m="2804402">you can</span> <span m="2804868">rotate it</span> <span m="2805334">left</span> <span m="2805800">around C.</span> </p>
<p><span m="2807664">PROFESSOR: Yep.</span> <span m="2808596">Exactly.</span> <span m="2809530">That</span> <span m="2811860">is</span> <span m="2812060">this,</span> <span m="2812850">and we</span> <span m="2813180">know how</span> <span m="2813290">to fix</span> <span m="2813630">this</span> <span m="2814030">in one</span> <span m="2814390">step.</span> <span m="2815980">You</span> <span m="2816430">said</span> <span m="2816720">exactly</span> <span m="2817140">the</span> <span m="2817270">right</span> <span m="2817460">thing.</span> <span m="2817630">This</span> <span m="2817790">is</span> <span m="2817910">exactly</span> <span m="2818340">what</span> <span m="2818470">we</span> <span m="2818590">do.</span> <span m="2819910">First,</span> <span m="2820910">rotate</span> <span m="2821350">here</span> <span m="2822310">so</span> <span m="2822470">that</span> <span m="2822630">we</span> <span m="2822710">get</span> <span m="2822910">to</span> <span m="2822980">that,</span> <span m="2823640">and</span> <span m="2823900">then</span> <span m="2824790">we're</span> <span m="2825090">in</span> <span m="2825190">the happy</span> <span m="2825590">case.</span> <span m="2826390">So</span> <span m="2826880">intuitively,</span> <span m="2827650">the</span> <span m="2827690">difference</span> <span m="2828030">between</span> <span m="2828300">the</span> <span m="2828400">happy</span> <span m="2828710">case</span> <span m="2828990">and</span> <span m="2829320">the</span> <span m="2830240">harder</span> <span m="2830810">case</span> <span m="2831130">that's</span> <span m="2831360">going</span> <span m="2831490">to</span> <span m="2831560">be</span> <span m="2831670">happy</span> <span m="2831950">eventually</span> <span m="2833330">is</span> <span m="2833530">where</span> <span m="2835130">the</span> <span m="2835250">heavy</span> <span m="2835510">path</span> <span m="2835960">is,</span> <span m="2836480">so</span> <span m="2836690">where</span> <span m="2836860">you</span> <span m="2836970">have</span> <span m="2837260">the</span> <span m="2838190">bigger</span> <span m="2838520">height.</span> </p>
<p><span m="2839370">In</span> <span m="2839520">this</span> <span m="2839740">case,</span> <span m="2841410">k</span> <span m="2841610">plus</span> <span m="2841940">2,</span> <span m="2842350">k</span> <span m="2842540">plus</span> <span m="2842870">1,</span> <span m="2843310">k.</span> <span m="2844500">So</span> <span m="2845360">the</span> <span m="2845470">heavy</span> <span m="2845860">path</span> <span m="2846740">is</span> <span m="2846990">this</span> <span m="2847210">thing</span> <span m="2847380">here.</span> <span m="2849230">It's</span> <span m="2849320">a</span> <span m="2849380">straight</span> <span m="2849720">line.</span> <span m="2850160">Because</span> <span m="2850510">of</span> <span m="2850640">that,</span> <span m="2850970">we</span> <span m="2851080">can</span> <span m="2852140">rotate</span> <span m="2852570">here</span> <span m="2852950">and</span> <span m="2853080">then</span> <span m="2853400">redistribute</span> <span m="2854030">the</span> <span m="2854150">weights</span> <span m="2854790">uniformly.</span> <span m="2856290">In</span> <span m="2856430">this</span> <span m="2856620">case,</span> <span m="2856840">the</span> <span m="2856940">heavy</span> <span m="2857340">path</span> <span m="2857850">is</span> <span m="2858120">this.</span> <span m="2859410">It's</span> <span m="2859560">a</span> <span m="2859610">zigzag,</span> <span m="2862910">so</span> <span m="2863460">one</span> <span m="2863640">rotation</span> <span m="2864110">won't</span> <span m="2864380">fix</span> <span m="2864680">it.</span> <span m="2864920">Instead,</span> <span m="2865210">we</span> <span m="2865330">do</span> <span m="2865450">one</span> <span m="2865640">rotation</span> <span m="2866140">here</span> <span m="2866410">so</span> <span m="2866570">that</span> <span m="2866760">we</span> <span m="2866850">make</span> <span m="2867060">the</span> <span m="2868550">weights</span> <span m="2869390">be</span> <span m="2870010">distributed</span> <span m="2870570">in</span> <span m="2870670">a</span> <span m="2870730">straight</span> <span m="2871080">line,</span> <span m="2871350">and</span> <span m="2871470">then</span> <span m="2871600">one</span> <span m="2871770">rotation</span> <span m="2872260">here,</span> <span m="2872610">which</span> <span m="2873420">makes</span> <span m="2873680">everything</span> <span m="2874020">look</span> <span m="2874210">good.</span> <span m="2875230">Yes?</span> </p>
<p><span m="2876360">AUDIENCE: So</span> <span m="2876775">that's just a</span> <span m="2877190">general</span> <span m="2877480">pattern.</span> <span m="2877770">And  you</span> <span m="2878251">redistribute</span> <span m="2879213">[INAUDIBLE]?</span> </p>
<p><span m="2882580">PROFESSOR: So</span> <span m="2882750">the</span> <span m="2882860">first</span> <span m="2883130">thing</span> <span m="2883290">we</span> <span m="2883400">do</span> <span m="2883950">is</span> <span m="2884140">say</span> <span m="2884350">you're</span> <span m="2884490">at</span> <span m="2884590">a</span> <span m="2884680">node</span> <span m="2884870">and</span> <span m="2885030">you</span> <span m="2885100">need</span> <span m="2885260">to</span> <span m="2885350">rebalance.</span> <span m="2886320">First</span> <span m="2886590">thing,</span> <span m="2886700">you</span> <span m="2886820">check</span> <span m="2887010">the</span> <span m="2887080">heights</span> <span m="2887380">and</span> <span m="2887480">see</span> <span m="2887620">if</span> <span m="2888000">it's</span> <span m="2888180">already</span> <span m="2888460">balanced.</span> <span m="2889980">If</span> <span m="2890120">it's</span> <span m="2890270">not</span> <span m="2890510">balanced,</span> <span m="2891650">suppose</span> <span m="2892050">your</span> <span m="2892280">heavier</span> <span m="2892800">node</span> <span m="2893120">is on</span> <span m="2893270">the</span> <span m="2893370">right.</span> <span m="2894700">Then</span> <span m="2894970">you</span> <span m="2895130">go</span> <span m="2895360">and</span> <span m="2895480">see</span> <span m="2896390">if</span> <span m="2896720">the</span> <span m="2896880">right</span> <span m="2897110">child</span> <span m="2897380">is</span> <span m="2897510">heavier</span> <span m="2899260">or</span> <span m="2899460">the left</span> <span m="2899710">child</span> <span m="2900050">is</span> <span m="2900410">heavier.</span> <span m="2900810">So</span> <span m="2900960">you</span> <span m="2901230">see</span> <span m="2901460">if</span> <span m="2901590">the</span> <span m="2902250">height</span> <span m="2902730">distribution</span> <span m="2903320">is</span> <span m="2904010">a</span> <span m="2904110">straight</span> <span m="2904400">line</span> <span m="2904660">or</span> <span m="2904740">is</span> <span m="2904860">exact,</span> <span m="2905630">and</span> <span m="2905810">then</span> <span m="2905940">you</span> <span m="2906020">decide</span> <span m="2906370">whether</span> <span m="2906570">you're</span> <span m="2906680">going</span> <span m="2906850">to</span> <span m="2906930">do</span> <span m="2907060">one</span> <span m="2907250">rotation</span> <span m="2907780">or</span> <span m="2907880">two</span> <span m="2908030">rotations.</span> </p>
<p><span m="2911970">So</span> <span m="2912100">this</span> <span m="2912280">is</span> <span m="2912450">all</span> <span m="2912570">nice</span> <span m="2912840">and</span> <span m="2912950">good</span> <span m="2913110">except</span> <span m="2913380">for</span> <span m="2913580">one</span> <span m="2914040">thing.</span> <span m="2915050">The</span> <span m="2915200">heights</span> <span m="2915530">keep</span> <span m="2915730">changing</span> <span m="2916190">here,</span> <span m="2918650">and</span> <span m="2918830">we're</span> <span m="2919105">storing</span> <span m="2919380">the</span> <span m="2919500">heights</span> <span m="2920770">in</span> <span m="2920950">each</span> <span m="2921140">node.</span> <span m="2922250">So</span> <span m="2922420">if we're</span> <span m="2922590">doing</span> <span m="2923150">all</span> <span m="2923410">this</span> <span m="2923620">rotating</span> <span m="2924150">without</span> <span m="2924590">updating</span> <span m="2924980">the</span> <span m="2925080">heights,</span> <span m="2926120">then</span> <span m="2927500">we're</span> <span m="2927830">going</span> <span m="2928000">to</span> <span m="2928070">have</span> <span m="2928520">something</span> <span m="2928930">that</span> <span m="2929090">looks</span> <span m="2929300">like</span> <span m="2929510">an</span> <span m="2929570">AVL</span> <span m="2930070">but</span> <span m="2930240">doesn't</span> <span m="2930580">keep</span> <span m="2930760">track</span> <span m="2931010">of</span> <span m="2931120">the</span> <span m="2931190">heights</span> <span m="2931480">anymore,</span> <span m="2931840">so</span> <span m="2931980">eventually,</span> <span m="2932490">we're</span> <span m="2932610">going</span> <span m="2932770">to</span> <span m="2932830">make</span> <span m="2933050">bad</span> <span m="2933280">decisions.</span> <span m="2934980">So</span> <span m="2935060">we</span> <span m="2935150">need</span> <span m="2935310">to</span> <span m="2935350">update</span> <span m="2935650">the</span> <span m="2935720">heights.</span> </p>
<p><span m="2937440">Where</span> <span m="2937740">do</span> <span m="2937890">we</span> <span m="2938020">update</span> <span m="2938300">the</span> <span m="2938370">heights?</span> <span m="2940590">You can</span> <span m="2940700">look</span> <span m="2940840">at</span> <span m="2941160">the code and</span> <span m="2941410">cheat</span> <span m="2941670">or</span> <span m="2941830">you</span> <span m="2941910">can</span> <span m="2942720">try</span> <span m="2942920">to</span> <span m="2943050">think</span> <span m="2943310">and</span> <span m="2943420">tell me</span> <span m="2943906">the</span> <span m="2944392">answer,</span> <span m="2944880">either</span> <span m="2944980">way.</span> <span m="2953570">So</span> <span m="2953790">this</span> <span m="2954280">only</span> <span m="2954580">does</span> <span m="2954820">rotates,</span> <span m="2955300">right?</span> <span m="2957630">If</span> <span m="2957870">rotates</span> <span m="2958340">would</span> <span m="2958470">be</span> <span m="2958660">able</span> <span m="2958910">to</span> <span m="2959030">update</span> <span m="2959360">the</span> <span m="2959580">heights,</span> <span m="2960650">everything</span> <span m="2961080">would</span> <span m="2961200">be</span> <span m="2961300">good.</span> <span m="2961690">I</span> <span m="2961770">wouldn't</span> <span m="2962000">have</span> <span m="2962220">to</span> <span m="2962330">worry</span> <span m="2962940">about</span> <span m="2963230">this.</span> </p>
<p><span m="2966350">Pretend</span> <span m="2966780">I</span> <span m="2966840">hadn't</span> <span m="2967120">deleted</span> <span m="2967980">the</span> <span m="2968170">original</span> <span m="2968610">case</span> <span m="2968960">here,</span> <span m="2969520">which</span> <span m="2969780">I</span> <span m="2969830">think</span> <span m="2970130">was</span> <span m="2971460">A,</span> <span m="2972440">B,</span> <span m="2973860">C,</span> <span m="2976820">and</span> <span m="2976990">then</span> <span m="2977150">some</span> <span m="2977350">children.</span> <span m="2978050">What</span> <span m="2978540">heights</span> <span m="2978960">changed</span> <span m="2979350">here?</span> <span m="2985950">When</span> <span m="2986070">I</span> <span m="2986140">did</span> <span m="2986310">this</span> <span m="2986490">rotation,</span> <span m="2987220">what</span> <span m="2987500">heights</span> <span m="2987830">changed?</span> </p>
<p><span m="2990640">AUDIENCE: B's</span> <span m="2991120">height</span> <span m="2991600">changed.</span> </p>
<p><span m="2993040">AUDIENCE: B,</span> <span m="2994480">A,</span> <span m="2995440">and</span> <span m="2995920">C</span> <span m="2996400">is</span> <span m="2996880">greater than</span> <span m="2997360">B.</span> </p>
<p><span m="2998320">PROFESSOR: B</span> <span m="2998640">and</span> <span m="2998905">potentially</span> <span m="2999170">A.</span> <span m="3001270">If</span> <span m="3001420">I'm</span> <span m="3001550">not</span> <span m="3001760">sure,</span> <span m="3002240">then</span> <span m="3002500">I'm</span> <span m="3002590">going</span> <span m="3002820">to</span> <span m="3002950">try</span> <span m="3003160">to</span> <span m="3003300">update</span> <span m="3003650">the</span> <span m="3003710">height</span> <span m="3004000">anyway</span> <span m="3004300">to</span> <span m="3004430">make</span> <span m="3004600">sure</span> <span m="3004760">that</span> <span m="3004910">I</span> <span m="3005010">have</span> <span m="3005190">the</span> <span m="3005280">right</span> <span m="3005450">height.</span> <span m="3006630">After</span> <span m="3006930">I</span> <span m="3007010">do</span> <span m="3007190">this,</span> <span m="3007890">I</span> <span m="3007920">have</span> <span m="3008190">to</span> <span m="3008340">update</span> <span m="3008690">the</span> <span m="3008780">height</span> <span m="3009350">on</span> <span m="3010425">B</span> <span m="3010790">and</span> <span m="3011544">update</span> <span m="3012300">the</span> <span m="3012370">heights</span> <span m="3013180">on</span> <span m="3013650">A.</span> <span m="3014580">Is</span> <span m="3014740">this</span> <span m="3014930">correct?</span> </p>
<p><span m="3021472">AUDIENCE: And B.</span> </p>
<p><span m="3022970">PROFESSOR: And</span> <span m="3023360">all</span> <span m="3023550">the</span> <span m="3023650">way</span> <span m="3023810">up.</span> <span m="3024210">Let's</span> <span m="3024510">assume</span> <span m="3024810">that</span> <span m="3024990">happens.</span> <span m="3026240">Does this</span> <span m="3026540">look</span> <span m="3026840">right?</span> </p>
<p><span m="3028242">AUDIENCE: Don't</span> <span m="3028738">you also have</span> <span m="3029234">to update</span> <span m="3029730">for C?</span> </p>
<p><span m="3031220">PROFESSOR: For</span> <span m="3031450">c.</span> <span m="3034886">Did</span> <span m="3035310">I</span> <span m="3035590">change</span> <span m="3035860">anything</span> <span m="3036280">under</span> <span m="3036570">c?</span> </p>
<p><span m="3037840">AUDIENCE: I</span> <span m="3038330">think he's</span> <span m="3038820">talking about</span> <span m="3039310">capital</span> <span m="3039800">C.</span> </p>
<p><span m="3040290">PROFESSOR: Oh,</span> <span m="3040550">capital</span> <span m="3040920">C.</span> <span m="3042140">Yeah,</span> <span m="3042520">OK.</span> <span m="3048800">So</span> <span m="3049180">the</span> <span m="3049360">children</span> <span m="3049710">are</span> <span m="3049820">the</span> <span m="3049930">same.</span> <span m="3050185">They</span> <span m="3050440">were</span> <span m="3050630">a</span> <span m="3050880">and b</span> <span m="3051290">before,</span> <span m="3051750">they're</span> <span m="3052240">a and b</span> <span m="3052660">afterwards,</span> <span m="3053900">so</span> <span m="3054480">I</span> <span m="3054590">don't</span> <span m="3054730">have</span> <span m="3054840">to</span> <span m="3054920">worry</span> <span m="3055080">about</span> <span m="3055320">this</span> <span m="3055480">guy.</span> <span m="3055700">The</span> <span m="3055760">heights</span> <span m="3055900">here</span> <span m="3056160">haven't</span> <span m="3056520">changed,</span> <span m="3056960">so</span> <span m="3057000">the</span> <span m="3057110">height</span> <span m="3057370">here</span> <span m="3057560">hasn't</span> <span m="3057860">changed.</span> <span m="3059920">But</span> <span m="3060080">you're</span> <span m="3060190">thinking</span> <span m="3060500">of</span> <span m="3060600">a</span> <span m="3060700">problem,</span> <span m="3061080">and</span> <span m="3061190">that</span> <span m="3061350">is</span> <span m="3061490">good</span> <span m="3061680">because</span> <span m="3061970">there</span> <span m="3062130">is</span> <span m="3062210">a</span> <span m="3062290">problem</span> <span m="3062650">here.</span> </p>
<p><span m="3066251">AUDIENCE: What</span> <span m="3066734">if there's</span> <span m="3067217">a subtree</span> <span m="3067700">instead of</span> <span m="3068183">small c?</span> </p>
<p><span m="3069632">PROFESSOR: A</span> <span m="3070115">subtree</span> <span m="3070610">instead</span> <span m="3070920">of</span> <span m="3071090">small</span> <span m="3071400">c?</span> <span m="3073220">OK,</span> <span m="3073480">so</span> <span m="3073610">yeah,</span> <span m="3073770">this</span> <span m="3073910">is</span> <span m="3074040">a</span> <span m="3074140">subtree.</span> <span m="3077140">After</span> <span m="3077510">rotating,</span> <span m="3078400">this</span> <span m="3078680">subtree</span> <span m="3079050">moves</span> <span m="3079360">over</span> <span m="3079620">here.</span> </p>
<p><span m="3082768">AUDIENCE: Wait.</span> <span m="3083236">You have</span> <span m="3083704">to update A</span> <span m="3084172">first,</span> <span m="3084640">and then</span> <span m="3085108">update B.</span> </p>
<p><span m="3085580">PROFESSOR: OK.</span> <span m="3087300">So</span> <span m="3087700">the height</span> <span m="3087880">starts</span> <span m="3088270">from</span> <span m="3088430">the</span> <span m="3088530">bottom.</span> <span m="3089510">The bottom</span> <span m="3090000">height</span> <span m="3090290">zero,</span> <span m="3090780">the next</span> <span m="3090990">one</span> <span m="3091260">up,</span> <span m="3091360">the next</span> <span m="3091670">one up,</span> <span m="3091955">the next</span> <span m="3092240">one</span> <span m="3092360">up.</span> <span m="3093400">Keep</span> <span m="3093520">that</span> <span m="3093730">in</span> <span m="3093820">mind.</span> <span m="3094920">Nothing</span> <span m="3095240">changed</span> <span m="3095540">below</span> <span m="3095820">this</span> <span m="3096030">guy,</span> <span m="3096180">nothing</span> <span m="3096550">changed</span> <span m="3096820">below</span> <span m="3097070">this</span> <span m="3097300">guy,</span> <span m="3097640">nothing</span> <span m="3098010">changed</span> <span m="3098360">here,</span> <span m="3099710">so</span> <span m="3100160">I</span> <span m="3100260">don't</span> <span m="3100410">have</span> <span m="3100540">to</span> <span m="3100620">update</span> <span m="3101360">these.</span> <span m="3102090">But</span> <span m="3102670">when</span> <span m="3102920">I</span> <span m="3102980">compute</span> <span m="3103330">the</span> <span m="3103430">height,</span> <span m="3104030">update</span> <span m="3104170">height</span> <span m="3104540">at</span> <span m="3104640">the</span> <span m="3104710">beginning</span> <span m="3105140">of</span> <span m="3105320">the</span> <span m="3105490">listing</span> <span m="3107110">assumes</span> <span m="3107490">that</span> <span m="3107640">the</span> <span m="3107720">height</span> <span m="3107970">of</span> <span m="3108100">the</span> <span m="3108310">children</span> <span m="3108710">is</span> <span m="3108860">correct.</span> </p>
<p><span m="3109450">So</span> <span m="3109650">when</span> <span m="3109800">I</span> <span m="3109850">compute</span> <span m="3110160">the</span> <span m="3110220">height</span> <span m="3110560">of my</span> <span m="3110620">mode,</span> <span m="3110830">the</span> <span m="3110960">height</span> <span m="3111250">of</span> <span m="3111370">the</span> <span m="3111480">children</span> <span m="3111800">has</span> <span m="3111950">to</span> <span m="3112040">be</span> <span m="3112160">updated.</span> <span m="3113000">So</span> <span m="3113130">if</span> <span m="3113290">I</span> <span m="3113360">call</span> <span m="3113620">Update</span> <span m="3113900">Height</span> <span m="3114210">of</span> <span m="3114350">B</span> <span m="3114740">first,</span> <span m="3115130">I</span> <span m="3115400">already</span> <span m="3115740">know</span> <span m="3115890">that</span> <span m="3116060">this</span> <span m="3116250">might</span> <span m="3116410">have</span> <span m="3116520">changed,</span> <span m="3116950">so</span> <span m="3116960">whatever</span> <span m="3117400">answer</span> <span m="3117710">I</span> <span m="3117750">get</span> <span m="3117970">is</span> <span m="3118130">bogus.</span> <span m="3119420">So</span> <span m="3120760">this</span> <span m="3120940">doesn't</span> <span m="3121230">work</span> <span m="3121690">and</span> <span m="3122080">I</span> <span m="3122190">have</span> <span m="3122430">to</span> <span m="3122580">do</span> <span m="3123320">this.</span> </p>
<p><span m="3133290">This</span> <span m="3133540">is</span> <span m="3133830">rotation.</span> <span m="3134480">That's</span> <span m="3134770">rebalancing.</span> <span m="3136380">One</span> <span m="3136620">more</span> <span m="3136810">trick</span> <span m="3137070">to</span> <span m="3137170">rebalancing.</span> <span m="3138240">So</span> <span m="3138420">we</span> <span m="3138530">talked</span> <span m="3138770">about</span> <span m="3139060">rebalancing</span> <span m="3141010">the</span> <span m="3141260">subtree</span> <span m="3141540">at</span> <span m="3141700">one</span> <span m="3141940">node.</span> <span m="3143200">What's</span> <span m="3143570">missing</span> <span m="3143920">from</span> <span m="3144120">this</span> <span m="3144280">picture?</span> </p>
<p><span m="3149560">AUDIENCE: So you</span> <span m="3150050">check</span> <span m="3150540">it</span> <span m="3151030">on all</span> <span m="3151520">levels?</span> </p>
<p><span m="3152010">PROFESSOR: Yeah.</span> <span m="3152920">So</span> <span m="3153140">I</span> <span m="3153240">made</span> <span m="3153430">some</span> <span m="3153620">changes</span> <span m="3154030">here.</span> <span m="3154560">My tree</span> <span m="3154900">might</span> <span m="3155240">look</span> <span m="3155440">happy</span> <span m="3157280">starting</span> <span m="3157680">from</span> <span m="3157920">here</span> <span m="3158160">on,</span> <span m="3158830">but</span> <span m="3159500">if</span> <span m="3159670">I</span> <span m="3159730">did</span> <span m="3159880">an</span> <span m="3160000">insertion</span> <span m="3160470">or a</span> <span m="3160620">deletion,</span> <span m="3161090">heights</span> <span m="3161560">changed</span> <span m="3161980">all</span> <span m="3162270">the</span> <span m="3162380">way</span> <span m="3162540">up,</span> <span m="3163380">so</span> <span m="3163470">I</span> <span m="3163570">have</span> <span m="3163790">to</span> <span m="3163910">go</span> <span m="3164160">all</span> <span m="3164310">the</span> <span m="3164430">way</span> <span m="3164620">up</span> <span m="3164840">and</span> <span m="3165070">do</span> <span m="3165200">more</span> <span m="3165500">rebalancings</span> <span m="3166340">potentially.</span> <span m="3170460">And</span> <span m="3170700">that's</span> <span m="3170900">it.</span> <span m="3171600">These</span> <span m="3171820">are</span> <span m="3171970">AVLs.</span> <span m="3172940">Any</span> <span m="3173150">other</span> <span m="3173340">questions?</span> <span m="3178580">Did you</span> <span m="3178770">guys</span> <span m="3179020">get</span> <span m="3179210">them?</span> <span m="3179490">Do</span> <span m="3179560">they</span> <span m="3179680">make</span> <span m="3179860">more</span> <span m="3180020">sense</span> <span m="3180340">now?</span> </p>
<p><span m="3180993">AUDIENCE: Yes.</span> </p>
<p><span m="3181820">PROFESSOR: OK.</span> <span m="3183030">Good.</span> <span m="3184300">You'll</span> <span m="3184760">have</span> <span m="3184910">to</span> <span m="3185020">play</span> <span m="3185190">with</span> <span m="3185330">them</span> <span m="3185500">on</span> <span m="3185640">the</span> <span m="3185840">next</span> <span m="3186150">Pset.</span> </p>
<p><span m="3188134">AUDIENCE: By</span> <span m="3188602">"play,"</span> <span m="3189070">what do you</span> <span m="3189538">mean?</span> </p>
<p><span m="3190480">PROFESSOR: Well,</span> <span m="3190750">you're</span> <span m="3190790">not</span> <span m="3191000">writing</span> <span m="3191370">it</span> <span m="3191490">from</span> <span m="3191660">scratch.</span> <span m="3192170">You</span> <span m="3192270">have to</span> <span m="3192370">modify</span> <span m="3192750">existing</span> <span m="3193130">code.</span> </p>
<p><span m="3193914">AUDIENCE: What are</span> <span m="3194388">we going</span> <span m="3194862">to make</span> <span m="3195336">it do?</span> </p>
<p><span m="3197710">PROFESSOR: So</span> <span m="3197930">you'll</span> <span m="3198110">have</span> <span m="3198270">to</span> <span m="3198390">keep</span> <span m="3198600">track</span> <span m="3198860">of</span> <span m="3198950">something</span> <span m="3199750">other</span> <span m="3200030">than</span> <span m="3200220">heights.</span> <span m="3200850">You'll</span> <span m="3201010">have</span> <span m="3201150">to</span> <span m="3201260">keep</span> <span m="3201460">track</span> <span m="3201710">of</span> <span m="3201830">a</span> <span m="3201900">new</span> <span m="3202070">value.</span> </p>
<p><span m="3202670">AUDIENCE: Oh,</span> <span m="3202970">like the</span> <span m="3203270">minimum or</span> <span m="3203570">something?</span> </p>
<p><span m="3203870">PROFESSOR: Or</span> <span m="3204170">something,</span> <span m="3204470">yeah.</span> </p>
</div>
        <div id="vid_related" itemprop="description" class="tabContent hide"><p><a target="_blank" href="../../../contents/recitation-videos/MIT6_006F11_rec06.pdf">Recitation notes (PDF)</a></p></div>
        <div id="vid_transcript" itemprop="description" class="tabContent hide">
<h2 class="subhead">Free Downloads</h2>
<h3 class="subsubhead">Video</h3>
<ul>
<li>iTunes U (<a href="https://itunes.apple.com/us/itunes-u/recitation-6-avl-trees/id585700718?i=126257028">MP4 - 115MB</a>)</li>
<li>Internet Archive (<a href="http://www.archive.org/download/MIT6.006F11/MIT6_006F11_rec06_300k.mp4">MP4 - 115MB</a>)</li>
</ul>
<br><h3 class="subsubhead">Subtitle</h3>
<ul><li>English - US (<a href="../../../contents/recitation-videos/recitation-6-avl-trees/IWzYoXKaRIc.srt">SRT</a>)</li></ul>
</div>
    
   </div>  



      					 
        <div class="" id="parent-fieldname-bottom_html_area">
            
            
        </div>
    
               </main><!--Course_inner_media tag close -->
</div>
<!--Course_wrapper tag close -->
            </div>
<!--left tag close -->
            <aside id="right"><!--Begin Right Portion --><div>
    
<div id="portletwrapper-6f63772e7269676874746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a646f6e617465" class="portletWrapper kssattr-portlethash-6f63772e7269676874746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a646f6e617465">
<div class="portletStaticText portlet-static-donate"><p class="zero"><a href="http://ocw.mit.edu/give"><img src="../../../common/images/button_donate-now.png" alt="Give Now." class="donate"></a></p></div>

</div>




</div>

                	<div>
    



</div>


        <div class="" id="parent-fieldname-rsi_top_html_area">
            
            
        </div>
    

<!-- RSI google ad space-->


<div id="google_ads">    
    <script type="text/javascript" src="https://partner.googleadservices.com/gampad/google_service.js"></script><script type="text/javascript">GS_googleAddAdSenseService("ca-pub-6588555046597237");GS_googleEnableAllServices();</script><script type="text/javascript">GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_A_DL");GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_B_DL");GA_googleAddSlot("ca-pub-6588555046597237", "VIDEO_INDIVIDUAL_SLOT_C_DL");</script><script type="text/javascript">GA_googleFetchAds();</script><script language="javascript" type="text/javascript">
GA_googleAddAttr("TYPE","HOUSE");
GA_googleAddAttr("DEPARTMENT","6");
GA_googleAddAttr("CRS_BEG2","00");
GA_googleAddAttr("CRS_END","6");
GA_googleAddAttr("SESSION","F");
GA_googleAddAttr("YEAR","11");
</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_A_DL");</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_B_DL");</script><script type="text/javascript">GA_googleFillSlot("VIDEO_INDIVIDUAL_SLOT_C_DL");</script>
</div>

<!-- End RSI ads--> 

<div>
    



</div>

            </aside><!--Right div close --><div class="clear"></div>
        </div>
<!--grid tag close -->
      </div>
		
		<footer id="bottom"><div id="grid">
				
<div id="portletwrapper-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572" class="portletWrapper kssattr-portlethash-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572">
<div class="portletStaticText portlet-static-site-footer"><div id="footer">
<nav aria-label="Footer"><nav id="foot-c1" class="grid_2 alpha" aria-labelledby="f-find-courses"><span class="footer" id="f-find-courses" aria-hidden="true">Find Courses</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/courses/find-by-topic/">Find by Topic</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-number/">Find by Course Number</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-department/">Find by Department</a></li>
    <li><a href="https://ocw.mit.edu/educator/?view=instructional&amp;utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=find-courses&amp;utm_content=approaches">Instructional Approach</a></li>
    <li><a href="https://ocw.mit.edu/educator/?view=teaching&amp;utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=find-courses&amp;utm_content=materials">Teaching Materials</a></li>
    <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/subtitled/">Courses with Subtitles</a></li>
    <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
    <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
    <li><a href="https://ocw.mit.edu/courses/translated-courses/">Translated Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/?utm_source=ocw-footer&amp;utm_medium=link&amp;utm_campaign=mclstudy">View All Courses</a></li>
</ul></nav><div id="foot-c2" class="grid_2">
<nav aria-labelledby="f-about"><span id="f-about" class="footer" aria-hidden="true">About</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/about/">About OpenCourseWare</a></li>
    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
    <li><a href="https://ocw.mit.edu/about/newsletter/">News</a></li>
    <li><a href="https://ocw.mit.edu/about/media-coverage/press-releases/">Press Releases</a></li>
</ul></nav><!--about--><nav aria-labelledby="f-tools"><span id="f-tools" class="footer" aria-hidden="true">Tools</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/help/">Help &amp; FAQs</a></li>
    <li><a href="../../../common/jsp/feedback.htm">Contact Us</a></li>
    <li><a href="../../../common/search/AdvancedSearch.htm">Advanced Search</a></li>
    <li><a href="https://ocw.mit.edu/help/site-map/">Site Map</a></li>
    <li><a href="../../../common/terms/index.htm">Privacy &amp; Terms of Use</a></li>
    <li><a href="https://ocw.mit.edu/help/rss/">RSS Feeds</a></li>
</ul></nav><!--tools-->
</div>
<nav class="grid_2" id="foot-c3" aria-labelledby="f-donate"><span id="f-donate" class="footer" aria-hidden="true">Give Now</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
    <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
    <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
    <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
    <li><a href="https://ocw.mit.edu/give/shop-ocw/">Shop OCW</a></li>
    <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
</ul></nav><div class="grid_2" id="foot-c4"><nav aria-labelledby="f-featured-sites"><span id="f-featured-sites" class="footer" aria-hidden="true">Featured Sites</span>
<ul class="foot-bullet" role="presentation">
<li><a href="https://ocw.mit.edu/high-school/">Highlights for High School</a></li>
    <li><a href="https://ocw.mit.edu/educator/?utm_campaign=Educator&amp;utm_source=footer&amp;utm_medium=featured-sites">OCW Educator</a></li>
    <li><a href="https://ocw.mit.edu/courses/crosslinks/">MIT Crosslinks and OCW</a></li>
    <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx and Related OCW Courses</a></li>
    <li><a href="http://k12videos.mit.edu" aria-label="External Link: MIT+K12 Videos">MIT+K12 Videos</a></li>
    <li><a href="http://teachingexcellence.mit.edu/" aria-label="External Link: Teaching Excellence at MIT">Teaching Excellence at MIT</a></li>
    <li><a href="https://outreach.mit.edu/" aria-label="External Link: Outreach at MIT">Outreach@MIT</a></li>
    <li><a href="http://www.oeconsortium.org/" aria-label="External Link: Open Education Consortium">Open Education Consortium</a></li>
</ul></nav></div>
</nav><aside style="min-height: 289px;" aria-labelledby="f-our-corporate-supporters" class="grid_4 omega" id="foot-c5"><span aria-hidden="true" class="footer" id="f-our-corporate-supporters">Our Corporate Supporters</span>           <!-- HOME_CORP_LOGO_1 -->
<div id="div-gpt-ad-1388181177156-0" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-0'); });
            </script></div>
<!-- HOME_CORP_LOGO_2 -->
<div id="div-gpt-ad-1388181177156-1" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-1'); });
            </script></div>
<!-- HOME_CORP_LOGO_3 -->
<div id="div-gpt-ad-1388181177156-2" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-2'); });
            </script></div>
<!-- HOME_CORP_LOGO_4 -->
<div id="div-gpt-ad-1388181177156-3" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-3'); });
            </script></div>
<!-- HOME_CORP_LOGO_5 -->
<div id="div-gpt-ad-1388181177156-4" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-4'); });
              </script></div>
<!-- HOME_CORP_LOGO_6 -->
<div id="div-gpt-ad-1388181177156-5" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-5'); });
              </script></div>
</aside><div class="grid_12 alpha omega" itemprop="publisher" itemscope="" itemtype="http://schema.org/CollegeOrUniversity">
<h4 class="footer" style="border-top: thin solid #d5c9ba; padding-top: 10px; margin-bottom: 10px;">About <span itemprop="name">MIT OpenCourseWare</span>
</h4>
<p style="color: #999; font-size: 1em; line-height: 1.5em; margin-top: 10px;" itemprop="description">MIT OpenCourseWare makes the materials used in the teaching of almost all of MIT's subjects available on the Web, free of charge. With more than 2,400 courses available, OCW is delivering on the promise of open sharing of knowledge. <a href="http://ocw.mit.edu/about/">Learn more »</a></p>
</div>
<div id="foot-copy" class="grid_12 alpha omega" style="border-top: none;">
<a href="http://web.mit.edu"><img src="../../../common/images/logo_mit.png" alt="Massachusetts Institute of Technology logo and name." style="width: 195; height: 44;"></a><a href="http://odl.mit.edu"><img src="https://ocw.mit.edu/images/logo_odl.png" alt="MIT Office of Digital Learning logo and name." style="width: 289; height: 54; vertical-align: top;"></a><a href="http://www.oeconsortium.org/"><img src="https://ocw.mit.edu/images/logo_oec.png" alt="Open Education Consortium logo." style="width: 219px; height: 59px; vertical-align: top;"></a><a rel="license" itemprop="useRightsUrl" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../../../common/images/cc_by-nc-sa.png" alt="Creative Commons logo with terms BY-NC-SA." style="width: 126px; height: 44px; margin-right: 0; margin-left: 13px;"></a>
<p class="copyright">© 2001–2017<br>
Massachusetts Institute of Technology</p>
<p style="font-size: 0.9em; margin-bottom: 15px;">Your use of the MIT OpenCourseWare site and materials is subject to our <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">Creative Commons License</a> and other <a href="../../../common/terms/index.htm" rel="cc:morePermissions">terms of use</a>.</p>
</div>
</div></div>

</div>





                
			</div> <!-- bottom grid end -->
		</footer><!-- footer bottom end -->
</body>
</html>
